(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Gf={exports:{}},$l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function dA(){if(wy)return $l;wy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return $l.Fragment=t,$l.jsx=i,$l.jsxs=i,$l}var Cy;function mA(){return Cy||(Cy=1,Gf.exports=dA()),Gf.exports}var yt=mA(),Qf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function gA(){if(Dy)return Rt;Dy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.iterator;function D(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,K={};function H(O,tt,ht){this.props=O,this.context=tt,this.refs=K,this.updater=ht||V}H.prototype.isReactComponent={},H.prototype.setState=function(O,tt){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,tt,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=H.prototype;function et(O,tt,ht){this.props=O,this.context=tt,this.refs=K,this.updater=ht||V}var J=et.prototype=new Y;J.constructor=et,k(J,H.prototype),J.isPureReactComponent=!0;var ut=Array.isArray,ot={H:null,A:null,T:null,S:null},bt=Object.prototype.hasOwnProperty;function M(O,tt,ht,rt,at,wt){return ht=wt.ref,{$$typeof:r,type:O,key:tt,ref:ht!==void 0?ht:null,props:wt}}function S(O,tt){return M(O.type,tt,void 0,void 0,void 0,O.props)}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function I(O){var tt={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ht){return tt[ht]})}var x=/\/+/g;function z(O,tt){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):tt.toString(36)}function C(){}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(tt){O.status==="pending"&&(O.status="fulfilled",O.value=tt)},function(tt){O.status==="pending"&&(O.status="rejected",O.reason=tt)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function he(O,tt,ht,rt,at){var wt=typeof O;(wt==="undefined"||wt==="boolean")&&(O=null);var St=!1;if(O===null)St=!0;else switch(wt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(O.$$typeof){case r:case t:St=!0;break;case T:return St=O._init,he(St(O._payload),tt,ht,rt,at)}}if(St)return at=at(O),St=rt===""?"."+z(O,0):rt,ut(at)?(ht="",St!=null&&(ht=St.replace(x,"$&/")+"/"),he(at,tt,ht,"",function(ie){return ie})):at!=null&&(b(at)&&(at=S(at,ht+(at.key==null||O&&O.key===at.key?"":(""+at.key).replace(x,"$&/")+"/")+St)),tt.push(at)),1;St=0;var fe=rt===""?".":rt+":";if(ut(O))for(var Pt=0;Pt<O.length;Pt++)rt=O[Pt],wt=fe+z(rt,Pt),St+=he(rt,tt,ht,wt,at);else if(Pt=D(O),typeof Pt=="function")for(O=Pt.call(O),Pt=0;!(rt=O.next()).done;)rt=rt.value,wt=fe+z(rt,Pt++),St+=he(rt,tt,ht,wt,at);else if(wt==="object"){if(typeof O.then=="function")return he(ye(O),tt,ht,rt,at);throw tt=String(O),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return St}function it(O,tt,ht){if(O==null)return O;var rt=[],at=0;return he(O,rt,"","",function(wt){return tt.call(ht,wt,at++)}),rt}function _t(O){if(O._status===-1){var tt=O._result;tt=tt(),tt.then(function(ht){(O._status===0||O._status===-1)&&(O._status=1,O._result=ht)},function(ht){(O._status===0||O._status===-1)&&(O._status=2,O._result=ht)}),O._status===-1&&(O._status=0,O._result=tt)}if(O._status===1)return O._result.default;throw O._result}var dt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function jt(){}return Rt.Children={map:it,forEach:function(O,tt,ht){it(O,function(){tt.apply(this,arguments)},ht)},count:function(O){var tt=0;return it(O,function(){tt++}),tt},toArray:function(O){return it(O,function(tt){return tt})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Rt.Component=H,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=et,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,Rt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Rt.cache=function(O){return function(){return O.apply(null,arguments)}},Rt.cloneElement=function(O,tt,ht){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=k({},O.props),at=O.key,wt=void 0;if(tt!=null)for(St in tt.ref!==void 0&&(wt=void 0),tt.key!==void 0&&(at=""+tt.key),tt)!bt.call(tt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&tt.ref===void 0||(rt[St]=tt[St]);var St=arguments.length-2;if(St===1)rt.children=ht;else if(1<St){for(var fe=Array(St),Pt=0;Pt<St;Pt++)fe[Pt]=arguments[Pt+2];rt.children=fe}return M(O.type,at,void 0,void 0,wt,rt)},Rt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Rt.createElement=function(O,tt,ht){var rt,at={},wt=null;if(tt!=null)for(rt in tt.key!==void 0&&(wt=""+tt.key),tt)bt.call(tt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(at[rt]=tt[rt]);var St=arguments.length-2;if(St===1)at.children=ht;else if(1<St){for(var fe=Array(St),Pt=0;Pt<St;Pt++)fe[Pt]=arguments[Pt+2];at.children=fe}if(O&&O.defaultProps)for(rt in St=O.defaultProps,St)at[rt]===void 0&&(at[rt]=St[rt]);return M(O,wt,void 0,void 0,null,at)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(O){return{$$typeof:m,render:O}},Rt.isValidElement=b,Rt.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:_t}},Rt.memo=function(O,tt){return{$$typeof:y,type:O,compare:tt===void 0?null:tt}},Rt.startTransition=function(O){var tt=ot.T,ht={};ot.T=ht;try{var rt=O(),at=ot.S;at!==null&&at(ht,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(jt,dt)}catch(wt){dt(wt)}finally{ot.T=tt}},Rt.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},Rt.use=function(O){return ot.H.use(O)},Rt.useActionState=function(O,tt,ht){return ot.H.useActionState(O,tt,ht)},Rt.useCallback=function(O,tt){return ot.H.useCallback(O,tt)},Rt.useContext=function(O){return ot.H.useContext(O)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(O,tt){return ot.H.useDeferredValue(O,tt)},Rt.useEffect=function(O,tt){return ot.H.useEffect(O,tt)},Rt.useId=function(){return ot.H.useId()},Rt.useImperativeHandle=function(O,tt,ht){return ot.H.useImperativeHandle(O,tt,ht)},Rt.useInsertionEffect=function(O,tt){return ot.H.useInsertionEffect(O,tt)},Rt.useLayoutEffect=function(O,tt){return ot.H.useLayoutEffect(O,tt)},Rt.useMemo=function(O,tt){return ot.H.useMemo(O,tt)},Rt.useOptimistic=function(O,tt){return ot.H.useOptimistic(O,tt)},Rt.useReducer=function(O,tt,ht){return ot.H.useReducer(O,tt,ht)},Rt.useRef=function(O){return ot.H.useRef(O)},Rt.useState=function(O){return ot.H.useState(O)},Rt.useSyncExternalStore=function(O,tt,ht){return ot.H.useSyncExternalStore(O,tt,ht)},Rt.useTransition=function(){return ot.H.useTransition()},Rt.version="19.0.0",Rt}var Iy;function Ld(){return Iy||(Iy=1,Qf.exports=gA()),Qf.exports}var Q=Ld(),Kf={exports:{}},Xl={},Yf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function pA(){return Vy||(Vy=1,function(r){function t(it,_t){var dt=it.length;it.push(_t);t:for(;0<dt;){var jt=dt-1>>>1,O=it[jt];if(0<o(O,_t))it[jt]=_t,it[dt]=O,dt=jt;else break t}}function i(it){return it.length===0?null:it[0]}function s(it){if(it.length===0)return null;var _t=it[0],dt=it.pop();if(dt!==_t){it[0]=dt;t:for(var jt=0,O=it.length,tt=O>>>1;jt<tt;){var ht=2*(jt+1)-1,rt=it[ht],at=ht+1,wt=it[at];if(0>o(rt,dt))at<O&&0>o(wt,rt)?(it[jt]=wt,it[at]=dt,jt=at):(it[jt]=rt,it[ht]=dt,jt=ht);else if(at<O&&0>o(wt,dt))it[jt]=wt,it[at]=dt,jt=at;else break t}}return _t}function o(it,_t){var dt=it.sortIndex-_t.sortIndex;return dt!==0?dt:it.id-_t.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],y=[],T=1,R=null,D=3,V=!1,k=!1,K=!1,H=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function J(it){for(var _t=i(y);_t!==null;){if(_t.callback===null)s(y);else if(_t.startTime<=it)s(y),_t.sortIndex=_t.expirationTime,t(p,_t);else break;_t=i(y)}}function ut(it){if(K=!1,J(it),!k)if(i(p)!==null)k=!0,ye();else{var _t=i(y);_t!==null&&he(ut,_t.startTime-it)}}var ot=!1,bt=-1,M=5,S=-1;function b(){return!(r.unstable_now()-S<M)}function I(){if(ot){var it=r.unstable_now();S=it;var _t=!0;try{t:{k=!1,K&&(K=!1,Y(bt),bt=-1),V=!0;var dt=D;try{e:{for(J(it),R=i(p);R!==null&&!(R.expirationTime>it&&b());){var jt=R.callback;if(typeof jt=="function"){R.callback=null,D=R.priorityLevel;var O=jt(R.expirationTime<=it);if(it=r.unstable_now(),typeof O=="function"){R.callback=O,J(it),_t=!0;break e}R===i(p)&&s(p),J(it)}else s(p);R=i(p)}if(R!==null)_t=!0;else{var tt=i(y);tt!==null&&he(ut,tt.startTime-it),_t=!1}}break t}finally{R=null,D=dt,V=!1}_t=void 0}}finally{_t?x():ot=!1}}}var x;if(typeof et=="function")x=function(){et(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,C=z.port2;z.port1.onmessage=I,x=function(){C.postMessage(null)}}else x=function(){H(I,0)};function ye(){ot||(ot=!0,x())}function he(it,_t){bt=H(function(){it(r.unstable_now())},_t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(it){it.callback=null},r.unstable_continueExecution=function(){k||V||(k=!0,ye())},r.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<it?Math.floor(1e3/it):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(it){switch(D){case 1:case 2:case 3:var _t=3;break;default:_t=D}var dt=D;D=_t;try{return it()}finally{D=dt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(it,_t){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var dt=D;D=it;try{return _t()}finally{D=dt}},r.unstable_scheduleCallback=function(it,_t,dt){var jt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?jt+dt:jt):dt=jt,it){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=dt+O,it={id:T++,callback:_t,priorityLevel:it,startTime:dt,expirationTime:O,sortIndex:-1},dt>jt?(it.sortIndex=dt,t(y,it),i(p)===null&&it===i(y)&&(K?(Y(bt),bt=-1):K=!0,he(ut,dt-jt))):(it.sortIndex=O,t(p,it),k||V||(k=!0,ye())),it},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(it){var _t=D;return function(){var dt=D;D=_t;try{return it.apply(this,arguments)}finally{D=dt}}}}($f)),$f}var Oy;function yA(){return Oy||(Oy=1,Yf.exports=pA()),Yf.exports}var Xf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function _A(){if(Ny)return Fe;Ny=1;var r=Ld();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:p,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,T)},Fe.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:D,fetchPriority:V}):T==="script"&&s.d.X(p,{crossOrigin:R,integrity:D,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,R=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var My;function vA(){if(My)return Xf.exports;My=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Xf.exports=_A(),Xf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function EA(){if(xy)return Xl;xy=1;var r=yA(),t=Ld(),i=vA();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),V=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ut=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function bt(e){return e===null||typeof e!="object"?null:(e=ot&&e[ot]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function S(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case k:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return n=e.displayName||null,n!==null?n:S(e.type)||"Memo";case et:n=e._payload,e=e._init;try{return S(e(n))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,x,z;function C(e){if(x===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);x=n&&n[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+e+z}var ye=!1;function he(e,n){if(!e||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var j=F}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(F){j=F}e.call(Z.prototype)}}else{try{throw Error()}catch(F){j=F}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var w=v.split(`
`),U=E.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===U.length)for(l=w.length-1,h=U.length-1;1<=l&&0<=h&&w[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==U[h]){var G=`
`+w[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?C(a):""}function it(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function _t(e){try{var n="";do n+=it(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dt(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function jt(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function O(e){if(dt(e)!==e)throw Error(s(188))}function tt(e){var n=e.alternate;if(!n){if(n=dt(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return O(h),e;if(f===l)return O(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=f;break}if(E===l){v=!0,l=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=h;break}if(E===l){v=!0,l=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function ht(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=ht(e),n!==null)return n;e=e.sibling}return null}var rt=Array.isArray,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function Pt(e){return{current:e}}function ie(e){0>fe||(e.current=St[fe],St[fe]=null,fe--)}function Gt(e,n){fe++,St[fe]=e.current,e.current=n}var Ye=Pt(null),mi=Pt(null),dn=Pt(null),$i=Pt(null);function Xi(e,n){switch(Gt(dn,n),Gt(mi,e),Gt(Ye,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ey(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=ey(e),n=ny(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ye),Gt(Ye,n)}function gi(){ie(Ye),ie(mi),ie(dn)}function Fs(e){e.memoizedState!==null&&Gt($i,e);var n=Ye.current,a=ny(n,e.type);n!==a&&(Gt(mi,e),Gt(Ye,a))}function La(e){mi.current===e&&(ie(Ye),ie(mi)),$i.current===e&&(ie($i),Fl._currentValue=wt)}var ka=Object.prototype.hasOwnProperty,Gr=r.unstable_scheduleCallback,Pa=r.unstable_cancelCallback,Qc=r.unstable_shouldYield,Gs=r.unstable_requestPaint,tn=r.unstable_now,bo=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,pi=r.unstable_NormalPriority,So=r.unstable_LowPriority,Qs=r.unstable_IdlePriority,Kc=r.log,Qr=r.unstable_setDisableYieldValue,Zi=null,je=null;function Ks(e){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Zi,e,void 0,(e.current.flags&128)===128)}catch{}}function jn(e){if(typeof Kc=="function"&&Qr(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Zi,e)}catch{}}var $e=Math.clz32?Math.clz32:wo,Ys=Math.log,Ro=Math.LN2;function wo(e){return e>>>=0,e===0?32:31-(Ys(e)/Ro|0)|0}var qn=128,Wi=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function mn(e,n){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,f=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=Mn(a):(f&=E,f!==0?l=Mn(f):e||(v=E&~v,v!==0&&(l=Mn(v))))):(E=a&~h,E!==0?l=Mn(E):f!==0?l=Mn(f):e||(v=a&~v,v!==0&&(l=Mn(v)))),l===0?0:n!==0&&n!==l&&!(n&h)&&(h=l&-l,v=n&-n,h>=v||h===32&&(v&4194176)!==0)?n:l}function Ji(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function za(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $s(){var e=qn;return qn<<=1,!(qn&4194176)&&(qn=128),e}function tr(){var e=Wi;return Wi<<=1,!(Wi&62914560)&&(Wi=4194304),e}function Ba(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function oe(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Co(e,n,a,l,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,U=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-$e(a),Z=1<<G;E[G]=0,w[G]=-1;var j=U[G];if(j!==null)for(U[G]=null,G=0;G<j.length;G++){var F=j[G];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&er(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function er(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-$e(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function nr(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-$e(a),h=1<<l;h&n|e[l]&n&&(e[l]|=n),a&=~h}}function Do(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Io(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:Ey(e.type))}function ir(e,n){var a=at.p;try{return at.p=e,n()}finally{at.p=a}}var Fn=Math.random().toString(36).slice(2),De="__reactFiber$"+Fn,ve="__reactProps$"+Fn,yi="__reactContainer$"+Fn,Kr="__reactEvents$"+Fn,Ha="__reactListeners$"+Fn,Gn="__reactHandles$"+Fn,Xs="__reactResources$"+Fn,rr="__reactMarker$"+Fn;function Yr(e){delete e[De],delete e[ve],delete e[Kr],delete e[Ha],delete e[Gn]}function xn(e){var n=e[De];if(n)return n;for(var a=e.parentNode;a;){if(n=a[yi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=ay(e);e!==null;){if(a=e[De])return a;e=ay(e)}return n}e=a,a=e.parentNode}return null}function _i(e){if(e=e[De]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ar(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function sr(e){var n=e[Xs];return n||(n=e[Xs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(e){e[rr]=!0}var Zs=new Set,ja={};function sn(e,n){en(e,n),en(e+"Capture",n)}function en(e,n){for(ja[e]=n,e=0;e<n.length;e++)Zs.add(n[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ws={},Js={};function Vo(e){return ka.call(Js,e)?!0:ka.call(Ws,e)?!1:Yc.test(e)?Js[e]=!0:(Ws[e]=!0,!1)}function lr(e,n,a){if(Vo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function or(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function gn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Xe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oo(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $c(e){var n=Oo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function $r(e){e._valueTracker||(e._valueTracker=$c(e))}function tl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Oo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function qa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vi=/[\n"\\]/g;function re(e){return e.replace(vi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ur(e,n,a,l,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Xe(n)):e.value!==""+Xe(n)&&(e.value=""+Xe(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Fa(e,v,Xe(n)):a!=null?Fa(e,v,Xe(a)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Xe(E):e.removeAttribute("name")}function Xr(e,n,a,l,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Fa(e,n,a){n==="number"&&qa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zt(e,n,a,l){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Zr(e,n,a){if(n!=null&&(n=""+Xe(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Xe(a):""}function cr(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function pn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Xc.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function No(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&el(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&el(e,f,n[f])}function nl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qn(e){return Wc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var yn=null;function Ga(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,Ti=null;function Ai(e){var n=_i(e);if(n&&(e=n.stateNode)){var a=e[ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ur(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var h=l[ve]||null;if(!h)throw Error(s(90));ur(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&tl(l)}break t;case"textarea":Zr(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&zt(e,!!a.multiple,n,!1)}}}var il=!1;function Mo(e,n,a){if(il)return e(n,a);il=!0;try{var l=e(n);return l}finally{if(il=!1,(Ei!==null||Ti!==null)&&(Su(),Ei&&(n=Ei,e=Ti,Ti=Ei=null,Ai(n),e)))for(n=0;n<e.length;n++)Ai(e[n])}}function Wr(e,n){var a=e.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var _n=!1;if(ln)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{_n=!1}var Kn=null,hr=null,bi=null;function rl(){if(bi)return bi;var e,n=hr,a=n.length,l,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return bi=h.slice(e,1<l?1-l:void 0)}function Yn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function al(){return!1}function Ie(e){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$n:al,this.isPropagationStopped=al,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Ie(qt),ta=I({},qt,{view:0,detail:0}),xo=Ie(ta),Ka,Ya,Xn,ea=I({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?(Ka=e.screenX-Xn.screenX,Ya=e.screenY-Xn.screenY):Ya=Ka=0,Xn=e),Ka)},movementY:function(e){return"movementY"in e?e.movementY:Ya}}),vn=Ie(ea),Uo=I({},ea,{dataTransfer:0}),Jc=Ie(Uo),na=I({},ta,{relatedTarget:0}),$a=Ie(na),sl=I({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=Ie(sl),Lo=I({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Za=Ie(Lo),th=I({},qt,{data:0}),ll=Ie(th),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ko={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Po[e])?!!n[e]:!1}function ra(){return ol}var zo=I({},ta,{key:function(e){if(e.key){var n=ia[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ko[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wa=Ie(zo),Bo=I({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=Ie(Bo),Si=I({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Ho=Ie(Si),jo=I({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),qo=Ie(jo),Fo=I({},ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=Ie(Fo),Ze=I({},qt,{newState:0,oldState:0}),Go=Ie(Ze),Qo=[9,13,27,32],Zn=ln&&"CompositionEvent"in window,u=null;ln&&"documentMode"in document&&(u=document.documentMode);var g=ln&&"TextEvent"in window&&!u,_=ln&&(!Zn||u&&8<u&&11>=u),A=" ",P=!1;function q(e,n){switch(e){case"keyup":return Qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Ee(e,n){switch(e){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return e=n.data,e===A&&P?null:e;default:return null}}function xt(e,n){if(Mt)return e==="compositionend"||!Zn&&q(e,n)?(e=rl(),bi=hr=Kn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ve[e.type]:n==="textarea"}function Ri(e,n,a,l){Ei?Ti?Ti.push(l):Ti=[l]:Ei=l,n=Iu(n,"onChange"),0<n.length&&(a=new Qa("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ue=null,Wn=null;function cl(e){Xp(e,0)}function Ko(e){var n=ar(e);if(tl(n))return e}function Rm(e,n){if(e==="change")return n}var wm=!1;if(ln){var eh;if(ln){var nh="oninput"in document;if(!nh){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),nh=typeof Cm.oninput=="function"}eh=nh}else eh=!1;wm=eh&&(!document.documentMode||9<document.documentMode)}function Dm(){Ue&&(Ue.detachEvent("onpropertychange",Im),Wn=Ue=null)}function Im(e){if(e.propertyName==="value"&&Ko(Wn)){var n=[];Ri(n,Wn,e,Ga(e)),Mo(cl,n)}}function q0(e,n,a){e==="focusin"?(Dm(),Ue=n,Wn=a,Ue.attachEvent("onpropertychange",Im)):e==="focusout"&&Dm()}function F0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ko(Wn)}function G0(e,n){if(e==="click")return Ko(n)}function Q0(e,n){if(e==="input"||e==="change")return Ko(n)}function K0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:K0;function hl(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ka.call(n,h)||!on(e[h],n[h]))return!1}return!0}function Vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Om(e,n){var a=Vm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Vm(a)}}function Nm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Nm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Mm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=qa(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=qa(e.document)}return n}function ih(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Y0(e,n){var a=Mm(n);n=e.focusedElem;var l=e.selectionRange;if(a!==n&&n&&n.ownerDocument&&Nm(n.ownerDocument.documentElement,n)){if(l!==null&&ih(n)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(a,n.value.length);else if(a=(e=n.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,f=Math.min(l.start,h);l=l.end===void 0?f:Math.min(l.end,h),!a.extend&&f>l&&(h=l,l=f,f=h),h=Om(n,f);var v=Om(n,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),f>l?(a.addRange(e),a.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),a.addRange(e)))}}for(e=[],a=n;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)a=e[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var $0=ln&&"documentMode"in document&&11>=document.documentMode,ts=null,rh=null,fl=null,ah=!1;function xm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ah||ts==null||ts!==qa(l)||(l=ts,"selectionStart"in l&&ih(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=Iu(rh,"onSelect"),0<l.length&&(n=new Qa("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=ts)))}function aa(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var es={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},sh={},Um={};ln&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function sa(e){if(sh[e])return sh[e];if(!es[e])return e;var n=es[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Um)return sh[e]=n[a];return e}var Lm=sa("animationend"),km=sa("animationiteration"),Pm=sa("animationstart"),X0=sa("transitionrun"),Z0=sa("transitionstart"),W0=sa("transitioncancel"),zm=sa("transitionend"),Bm=new Map,Hm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Un(e,n){Bm.set(e,n),sn(n,[e])}var En=[],ns=0,lh=0;function Yo(){for(var e=ns,n=lh=ns=0;n<e;){var a=En[n];En[n++]=null;var l=En[n];En[n++]=null;var h=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&jm(a,h,f)}}function $o(e,n,a,l){En[ns++]=e,En[ns++]=n,En[ns++]=a,En[ns++]=l,lh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function oh(e,n,a,l){return $o(e,n,a,l),Xo(e)}function fr(e,n){return $o(e,null,null,n),Xo(e)}function jm(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;h&&n!==null&&e.tag===3&&(f=e.stateNode,h=31-$e(a),f=f.hiddenUpdates,e=f[h],e===null?f[h]=[n]:e.push(n),n.lane=a|536870912)}function Xo(e){if(50<kl)throw kl=0,gf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var is={},qm=new WeakMap;function Tn(e,n){if(typeof e=="object"&&e!==null){var a=qm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_t(n)},qm.set(e,n),n)}return{value:e,source:n,stack:_t(n)}}var rs=[],as=0,Zo=null,Wo=0,An=[],bn=0,la=null,wi=1,Ci="";function oa(e,n){rs[as++]=Wo,rs[as++]=Zo,Zo=e,Wo=n}function Fm(e,n,a){An[bn++]=wi,An[bn++]=Ci,An[bn++]=la,la=e;var l=wi;e=Ci;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var f=32-$e(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,wi=1<<32-$e(n)+h|a<<h|l,Ci=f+e}else wi=1<<f|a<<h|l,Ci=e}function uh(e){e.return!==null&&(oa(e,1),Fm(e,1,0))}function ch(e){for(;e===Zo;)Zo=rs[--as],rs[as]=null,Wo=rs[--as],rs[as]=null;for(;e===la;)la=An[--bn],An[bn]=null,Ci=An[--bn],An[bn]=null,wi=An[--bn],An[bn]=null}var We=null,Le=null,Bt=!1,Ln=null,Jn=!1,hh=Error(s(519));function ua(e){var n=Error(s(418,""));throw gl(Tn(n,e)),hh}function Gm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[De]=e,n[ve]=l,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<zl.length;a++)Ot(zl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),Xr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$r(n);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),cr(n,l.value,l.defaultValue,l.children),$r(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ty(n.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),l.onScroll!=null&&Ot("scroll",n),l.onScrollEnd!=null&&Ot("scrollend",n),l.onClick!=null&&(n.onclick=Vu),n=!0):n=!1,n||ua(e)}function Qm(e){for(We=e.return;We;)switch(We.tag){case 3:case 27:Jn=!0;return;case 5:case 13:Jn=!1;return;default:We=We.return}}function dl(e){if(e!==We)return!1;if(!Bt)return Qm(e),Bt=!0,!1;var n=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nf(e.type,e.memoizedProps)),a=!a),a&&(n=!0),n&&Le&&ua(e),Qm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Le=Pn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Le=null}}else Le=We?Pn(e.stateNode.nextSibling):null;return!0}function ml(){Le=We=null,Bt=!1}function gl(e){Ln===null?Ln=[e]:Ln.push(e)}var pl=Error(s(460)),Km=Error(s(474)),fh={then:function(){}};function Ym(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jo(){}function $m(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Jo,Jo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===pl?Error(s(483)):e;default:if(typeof n.status=="string")n.then(Jo,Jo);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===pl?Error(s(483)):e}throw yl=n,pl}}var yl=null;function Xm(){if(yl===null)throw Error(s(459));var e=yl;return yl=null,e}var ss=null,_l=0;function tu(e){var n=_l;return _l+=1,ss===null&&(ss=[]),$m(ss,e,n)}function vl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function eu(e,n){throw n.$$typeof===c?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Zm(e){var n=e._init;return n(e._payload)}function Wm(e){function n(L,N){if(e){var B=L.deletions;B===null?(L.deletions=[N],L.flags|=16):B.push(N)}}function a(L,N){if(!e)return null;for(;N!==null;)n(L,N),N=N.sibling;return null}function l(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function h(L,N){return L=Sr(L,N),L.index=0,L.sibling=null,L}function f(L,N,B){return L.index=B,e?(B=L.alternate,B!==null?(B=B.index,B<N?(L.flags|=33554434,N):B):(L.flags|=33554434,N)):(L.flags|=1048576,N)}function v(L){return e&&L.alternate===null&&(L.flags|=33554434),L}function E(L,N,B,$){return N===null||N.tag!==6?(N=lf(B,L.mode,$),N.return=L,N):(N=h(N,B),N.return=L,N)}function w(L,N,B,$){var lt=B.type;return lt===p?G(L,N,B.props.children,$,B.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===et&&Zm(lt)===N.type)?(N=h(N,B.props),vl(N,B),N.return=L,N):(N=vu(B.type,B.key,B.props,null,L.mode,$),vl(N,B),N.return=L,N)}function U(L,N,B,$){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=of(B,L.mode,$),N.return=L,N):(N=h(N,B.children||[]),N.return=L,N)}function G(L,N,B,$,lt){return N===null||N.tag!==7?(N=va(B,L.mode,$,lt),N.return=L,N):(N=h(N,B),N.return=L,N)}function Z(L,N,B){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=lf(""+N,L.mode,B),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case d:return B=vu(N.type,N.key,N.props,null,L.mode,B),vl(B,N),B.return=L,B;case m:return N=of(N,L.mode,B),N.return=L,N;case et:var $=N._init;return N=$(N._payload),Z(L,N,B)}if(rt(N)||bt(N))return N=va(N,L.mode,B,null),N.return=L,N;if(typeof N.then=="function")return Z(L,tu(N),B);if(N.$$typeof===V)return Z(L,pu(L,N),B);eu(L,N)}return null}function j(L,N,B,$){var lt=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return lt!==null?null:E(L,N,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===lt?w(L,N,B,$):null;case m:return B.key===lt?U(L,N,B,$):null;case et:return lt=B._init,B=lt(B._payload),j(L,N,B,$)}if(rt(B)||bt(B))return lt!==null?null:G(L,N,B,$,null);if(typeof B.then=="function")return j(L,N,tu(B),$);if(B.$$typeof===V)return j(L,N,pu(L,B),$);eu(L,B)}return null}function F(L,N,B,$,lt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(B)||null,E(N,L,""+$,lt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case d:return L=L.get($.key===null?B:$.key)||null,w(N,L,$,lt);case m:return L=L.get($.key===null?B:$.key)||null,U(N,L,$,lt);case et:var Dt=$._init;return $=Dt($._payload),F(L,N,B,$,lt)}if(rt($)||bt($))return L=L.get(B)||null,G(N,L,$,lt,null);if(typeof $.then=="function")return F(L,N,B,tu($),lt);if($.$$typeof===V)return F(L,N,B,pu(N,$),lt);eu(N,$)}return null}function ct(L,N,B,$){for(var lt=null,Dt=null,ft=N,pt=N=0,Me=null;ft!==null&&pt<B.length;pt++){ft.index>pt?(Me=ft,ft=null):Me=ft.sibling;var Ht=j(L,ft,B[pt],$);if(Ht===null){ft===null&&(ft=Me);break}e&&ft&&Ht.alternate===null&&n(L,ft),N=f(Ht,N,pt),Dt===null?lt=Ht:Dt.sibling=Ht,Dt=Ht,ft=Me}if(pt===B.length)return a(L,ft),Bt&&oa(L,pt),lt;if(ft===null){for(;pt<B.length;pt++)ft=Z(L,B[pt],$),ft!==null&&(N=f(ft,N,pt),Dt===null?lt=ft:Dt.sibling=ft,Dt=ft);return Bt&&oa(L,pt),lt}for(ft=l(ft);pt<B.length;pt++)Me=F(ft,L,pt,B[pt],$),Me!==null&&(e&&Me.alternate!==null&&ft.delete(Me.key===null?pt:Me.key),N=f(Me,N,pt),Dt===null?lt=Me:Dt.sibling=Me,Dt=Me);return e&&ft.forEach(function(Or){return n(L,Or)}),Bt&&oa(L,pt),lt}function Tt(L,N,B,$){if(B==null)throw Error(s(151));for(var lt=null,Dt=null,ft=N,pt=N=0,Me=null,Ht=B.next();ft!==null&&!Ht.done;pt++,Ht=B.next()){ft.index>pt?(Me=ft,ft=null):Me=ft.sibling;var Or=j(L,ft,Ht.value,$);if(Or===null){ft===null&&(ft=Me);break}e&&ft&&Or.alternate===null&&n(L,ft),N=f(Or,N,pt),Dt===null?lt=Or:Dt.sibling=Or,Dt=Or,ft=Me}if(Ht.done)return a(L,ft),Bt&&oa(L,pt),lt;if(ft===null){for(;!Ht.done;pt++,Ht=B.next())Ht=Z(L,Ht.value,$),Ht!==null&&(N=f(Ht,N,pt),Dt===null?lt=Ht:Dt.sibling=Ht,Dt=Ht);return Bt&&oa(L,pt),lt}for(ft=l(ft);!Ht.done;pt++,Ht=B.next())Ht=F(ft,L,pt,Ht.value,$),Ht!==null&&(e&&Ht.alternate!==null&&ft.delete(Ht.key===null?pt:Ht.key),N=f(Ht,N,pt),Dt===null?lt=Ht:Dt.sibling=Ht,Dt=Ht);return e&&ft.forEach(function(fA){return n(L,fA)}),Bt&&oa(L,pt),lt}function le(L,N,B,$){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var lt=B.key;N!==null;){if(N.key===lt){if(lt=B.type,lt===p){if(N.tag===7){a(L,N.sibling),$=h(N,B.props.children),$.return=L,L=$;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===et&&Zm(lt)===N.type){a(L,N.sibling),$=h(N,B.props),vl($,B),$.return=L,L=$;break t}a(L,N);break}else n(L,N);N=N.sibling}B.type===p?($=va(B.props.children,L.mode,$,B.key),$.return=L,L=$):($=vu(B.type,B.key,B.props,null,L.mode,$),vl($,B),$.return=L,L=$)}return v(L);case m:t:{for(lt=B.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){a(L,N.sibling),$=h(N,B.children||[]),$.return=L,L=$;break t}else{a(L,N);break}else n(L,N);N=N.sibling}$=of(B,L.mode,$),$.return=L,L=$}return v(L);case et:return lt=B._init,B=lt(B._payload),le(L,N,B,$)}if(rt(B))return ct(L,N,B,$);if(bt(B)){if(lt=bt(B),typeof lt!="function")throw Error(s(150));return B=lt.call(B),Tt(L,N,B,$)}if(typeof B.then=="function")return le(L,N,tu(B),$);if(B.$$typeof===V)return le(L,N,pu(L,B),$);eu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,N!==null&&N.tag===6?(a(L,N.sibling),$=h(N,B),$.return=L,L=$):(a(L,N),$=lf(B,L.mode,$),$.return=L,L=$),v(L)):a(L,N)}return function(L,N,B,$){try{_l=0;var lt=le(L,N,B,$);return ss=null,lt}catch(ft){if(ft===pl)throw ft;var Dt=Cn(29,ft,null,L.mode);return Dt.lanes=$,Dt.return=L,Dt}finally{}}}var ca=Wm(!0),Jm=Wm(!1),ls=Pt(null),nu=Pt(0);function tg(e,n){e=Pi,Gt(nu,e),Gt(ls,n),Pi=e|n.baseLanes}function dh(){Gt(nu,Pi),Gt(ls,ls.current)}function mh(){Pi=nu.current,ie(ls),ie(nu)}var Sn=Pt(null),ti=null;function dr(e){var n=e.alternate;Gt(Ae,Ae.current&1),Gt(Sn,e),ti===null&&(n===null||ls.current!==null||n.memoizedState!==null)&&(ti=e)}function eg(e){if(e.tag===22){if(Gt(Ae,Ae.current),Gt(Sn,e),ti===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ti=e)}}else mr()}function mr(){Gt(Ae,Ae.current),Gt(Sn,Sn.current)}function Di(e){ie(Sn),ti===e&&(ti=null),ie(Ae)}var Ae=Pt(0);function iu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var J0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},tT=r.unstable_scheduleCallback,eT=r.unstable_NormalPriority,be={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gh(){return{controller:new J0,data:new Map,refCount:0}}function El(e){e.refCount--,e.refCount===0&&tT(eT,function(){e.controller.abort()})}var Tl=null,ph=0,os=0,us=null;function nT(e,n){if(Tl===null){var a=Tl=[];ph=0,os=bf(),us={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ph++,n.then(ng,ng),n}function ng(){if(--ph===0&&Tl!==null){us!==null&&(us.status="fulfilled");var e=Tl;Tl=null,os=0,us=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function iT(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ig=b.S;b.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&nT(e,n),ig!==null&&ig(e,n)};var ha=Pt(null);function yh(){var e=ha.current;return e!==null?e:$t.pooledCache}function ru(e,n){n===null?Gt(ha,ha.current):Gt(ha,n.pool)}function rg(){var e=yh();return e===null?null:{parent:be._currentValue,pool:e}}var gr=0,Ct=null,Qt=null,de=null,au=!1,cs=!1,fa=!1,su=0,Al=0,hs=null,rT=0;function ue(){throw Error(s(321))}function _h(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!on(e[a],n[a]))return!1;return!0}function vh(e,n,a,l,h,f){return gr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?da:pr,fa=!1,f=a(l,h),fa=!1,cs&&(f=sg(n,a,l,h)),ag(e),f}function ag(e){b.H=ei;var n=Qt!==null&&Qt.next!==null;if(gr=0,de=Qt=Ct=null,au=!1,Al=0,hs=null,n)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&gu(e)&&(Oe=!0))}function sg(e,n,a,l){Ct=e;var h=0;do{if(cs&&(hs=null),Al=0,cs=!1,25<=h)throw Error(s(301));if(h+=1,de=Qt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}b.H=ma,f=n(a,l)}while(cs);return f}function aT(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?bl(n):n,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Eh(){var e=su!==0;return su=0,e}function Th(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Ah(e){if(au){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}au=!1}gr=0,de=Qt=Ct=null,cs=!1,Al=su=0,hs=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=e:de=de.next=e,de}function me(){if(Qt===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=e:de=de.next=e}return de}var lu;lu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function bl(e){var n=Al;return Al+=1,hs===null&&(hs=[]),e=$m(hs,e,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?da:pr),e}function ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bl(e);if(e.$$typeof===V)return qe(e)}throw Error(s(438,String(e)))}function bh(e){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=lu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=ut;return n.index++,a}function Ii(e,n){return typeof n=="function"?n(e):n}function uu(e){var n=me();return Sh(n,Qt,e)}function Sh(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=v=null,w=null,U=n,G=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(Ut&Z)===Z:(gr&Z)===Z){var j=U.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===os&&(G=!0);else if((gr&j)===j){U=U.next,j===os&&(G=!0);continue}else Z={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(E=w=Z,v=f):w=w.next=Z,Ct.lanes|=j,Rr|=j;Z=U.action,fa&&a(f,Z),f=U.hasEagerState?U.eagerState:a(f,Z)}else j={lane:Z,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(E=w=j,v=f):w=w.next=j,Ct.lanes|=Z,Rr|=Z;U=U.next}while(U!==null&&U!==n);if(w===null?v=f:w.next=E,!on(f,e.memoizedState)&&(Oe=!0,G&&(a=us,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rh(e){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);on(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function lg(e,n,a){var l=Ct,h=me(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!on((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Oe=!0),h=h.queue,Dh(cg.bind(null,l,h,e),[e]),h.getSnapshot!==n||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,fs(9,ug.bind(null,l,h,a,n),{destroy:void 0},null),$t===null)throw Error(s(349));f||gr&60||og(l,n,a)}return a}function og(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=lu(),Ct.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function ug(e,n,a,l){n.value=a,n.getSnapshot=l,hg(n)&&fg(e)}function cg(e,n,a){return a(function(){hg(n)&&fg(e)})}function hg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!on(e,a)}catch{return!0}}function fg(e){var n=fr(e,2);n!==null&&Je(n,e,2)}function wh(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),fa){jn(!0);try{a()}finally{jn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},n}function dg(e,n,a,l){return e.baseState=a,Sh(e,Qt,typeof l=="function"?l:Ii)}function sT(e,n,a,l,h){if(fu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};b.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,mg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function mg(e,n){var a=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=b.T,v={};b.T=v;try{var E=a(h,l),w=b.S;w!==null&&w(v,E),gg(e,n,E)}catch(U){Ch(e,n,U)}finally{b.T=f}}else try{f=a(h,l),gg(e,n,f)}catch(U){Ch(e,n,U)}}function gg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){pg(e,n,l)},function(l){return Ch(e,n,l)}):pg(e,n,a)}function pg(e,n,a){n.status="fulfilled",n.value=a,yg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,mg(e,a)))}function Ch(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,yg(n),n=n.next;while(n!==l)}e.action=null}function yg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function _g(e,n){return n}function vg(e,n){if(Bt){var a=$t.formState;if(a!==null){t:{var l=Ct;if(Bt){if(Le){e:{for(var h=Le,f=Jn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Pn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Le=Pn(h.nextSibling),l=h.data==="F!";break t}}ua(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:n},a.queue=l,a=kg.bind(null,Ct,l),l.dispatch=a,l=wh(!1),f=Mh.bind(null,Ct,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,a=sT.bind(null,Ct,h,f,a),h.dispatch=a,l.memoizedState=e,[n,a,!1]}function Eg(e){var n=me();return Tg(n,Qt,e)}function Tg(e,n,a){n=Sh(e,n,_g)[0],e=uu(Ii)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?bl(n):n;var l=me(),h=l.queue,f=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,fs(9,lT.bind(null,h,a),{destroy:void 0},null)),[n,f,e]}function lT(e,n){e.action=n}function Ag(e){var n=me(),a=Qt;if(a!==null)return Tg(n,a,e);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function fs(e,n,a,l){return e={tag:e,create:n,inst:a,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=lu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function bg(){return me().memoizedState}function cu(e,n,a,l){var h=nn();Ct.flags|=e,h.memoizedState=fs(1|n,a,{destroy:void 0},l===void 0?null:l)}function hu(e,n,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&_h(l,Qt.memoizedState.deps)?h.memoizedState=fs(n,a,f,l):(Ct.flags|=e,h.memoizedState=fs(1|n,a,f,l))}function Sg(e,n){cu(8390656,8,e,n)}function Dh(e,n){hu(2048,8,e,n)}function Rg(e,n){return hu(4,2,e,n)}function wg(e,n){return hu(4,4,e,n)}function Cg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Dg(e,n,a){a=a!=null?a.concat([e]):null,hu(4,4,Cg.bind(null,n,e),a)}function Ih(){}function Ig(e,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&_h(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Vg(e,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&_h(n,l[1]))return l[0];if(l=e(),fa){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[l,n],l}function Vh(e,n,a){return a===void 0||gr&1073741824?e.memoizedState=n:(e.memoizedState=a,e=Np(),Ct.lanes|=e,Rr|=e,a)}function Og(e,n,a,l){return on(a,n)?a:ls.current!==null?(e=Vh(e,a,l),on(e,n)||(Oe=!0),e):gr&42?(e=Np(),Ct.lanes|=e,Rr|=e,n):(Oe=!0,e.memoizedState=a)}function Ng(e,n,a,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var v=b.T,E={};b.T=E,Mh(e,!1,n,a);try{var w=h(),U=b.S;if(U!==null&&U(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=iT(w,l);Sl(e,n,G,fn(e))}else Sl(e,n,l,fn(e))}catch(Z){Sl(e,n,{then:function(){},status:"rejected",reason:Z},fn())}finally{at.p=f,b.T=v}}function oT(){}function Oh(e,n,a,l){if(e.tag!==5)throw Error(s(476));var h=Mg(e).queue;Ng(e,h,n,wt,a===null?oT:function(){return xg(e),a(l)})}function Mg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:wt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function xg(e){var n=Mg(e).next.queue;Sl(e,n,{},fn())}function Nh(){return qe(Fl)}function Ug(){return me().memoizedState}function Lg(){return me().memoizedState}function uT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();e=vr(a);var l=Er(n,e,a);l!==null&&(Je(l,n,a),Cl(l,n,a)),n={cache:gh()},e.payload=n;return}n=n.return}}function cT(e,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},fu(e)?Pg(n,a):(a=oh(e,n,a,l),a!==null&&(Je(a,e,l),zg(a,n,l)))}function kg(e,n,a){var l=fn();Sl(e,n,a,l)}function Sl(e,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(fu(e))Pg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,on(E,v))return $o(e,n,h,0),$t===null&&Yo(),!1}catch{}finally{}if(a=oh(e,n,h,l),a!==null)return Je(a,e,l),zg(a,n,l),!0}return!1}function Mh(e,n,a,l){if(l={lane:2,revertLane:bf(),action:l,hasEagerState:!1,eagerState:null,next:null},fu(e)){if(n)throw Error(s(479))}else n=oh(e,a,l,2),n!==null&&Je(n,e,2)}function fu(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Pg(e,n){cs=au=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function zg(e,n,a){if(a&4194176){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,nr(e,a)}}var ei={readContext:qe,use:ou,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};ei.useCacheRefresh=ue,ei.useMemoCache=ue,ei.useHostTransitionStatus=ue,ei.useFormState=ue,ei.useActionState=ue,ei.useOptimistic=ue;var da={readContext:qe,use:ou,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Sg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,cu(4194308,4,Cg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return cu(4194308,4,e,n)},useInsertionEffect:function(e,n){cu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var l=e();if(fa){jn(!0);try{e()}finally{jn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=nn();if(a!==void 0){var h=a(n);if(fa){jn(!0);try{a(n)}finally{jn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=cT.bind(null,Ct,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=wh(e);var n=e.queue,a=kg.bind(null,Ct,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ih,useDeferredValue:function(e,n){var a=nn();return Vh(a,e,n)},useTransition:function(){var e=wh(!1);return e=Ng.bind(null,Ct,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Ct,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));Ut&60||og(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Sg(cg.bind(null,l,f,e),[e]),l.flags|=2048,fs(9,ug.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var e=nn(),n=$t.identifierPrefix;if(Bt){var a=Ci,l=wi;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=su++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=rT++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=uT.bind(null,Ct)}};da.useMemoCache=bh,da.useHostTransitionStatus=Nh,da.useFormState=vg,da.useActionState=vg,da.useOptimistic=function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Mh.bind(null,Ct,!0,a),a.dispatch=n,[e,n]};var pr={readContext:qe,use:ou,useCallback:Ig,useContext:qe,useEffect:Dh,useImperativeHandle:Dg,useInsertionEffect:Rg,useLayoutEffect:wg,useMemo:Vg,useReducer:uu,useRef:bg,useState:function(){return uu(Ii)},useDebugValue:Ih,useDeferredValue:function(e,n){var a=me();return Og(a,Qt.memoizedState,e,n)},useTransition:function(){var e=uu(Ii)[0],n=me().memoizedState;return[typeof e=="boolean"?e:bl(e),n]},useSyncExternalStore:lg,useId:Ug};pr.useCacheRefresh=Lg,pr.useMemoCache=bh,pr.useHostTransitionStatus=Nh,pr.useFormState=Eg,pr.useActionState=Eg,pr.useOptimistic=function(e,n){var a=me();return dg(a,Qt,e,n)};var ma={readContext:qe,use:ou,useCallback:Ig,useContext:qe,useEffect:Dh,useImperativeHandle:Dg,useInsertionEffect:Rg,useLayoutEffect:wg,useMemo:Vg,useReducer:Rh,useRef:bg,useState:function(){return Rh(Ii)},useDebugValue:Ih,useDeferredValue:function(e,n){var a=me();return Qt===null?Vh(a,e,n):Og(a,Qt.memoizedState,e,n)},useTransition:function(){var e=Rh(Ii)[0],n=me().memoizedState;return[typeof e=="boolean"?e:bl(e),n]},useSyncExternalStore:lg,useId:Ug};ma.useCacheRefresh=Lg,ma.useMemoCache=bh,ma.useHostTransitionStatus=Nh,ma.useFormState=Ag,ma.useActionState=Ag,ma.useOptimistic=function(e,n){var a=me();return Qt!==null?dg(a,Qt,e,n):(a.baseState=e,[e,a.queue.dispatch])};function xh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:I({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Uh={isMounted:function(e){return(e=e._reactInternals)?dt(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var l=fn(),h=vr(l);h.payload=n,a!=null&&(h.callback=a),n=Er(e,h,l),n!==null&&(Je(n,e,l),Cl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=fn(),h=vr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Er(e,h,l),n!==null&&(Je(n,e,l),Cl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=fn(),l=vr(a);l.tag=2,n!=null&&(l.callback=n),n=Er(e,l,a),n!==null&&(Je(n,e,a),Cl(n,e,a))}};function Bg(e,n,a,l,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!hl(a,l)||!hl(h,f):!0}function Hg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&Uh.enqueueReplaceState(n,n.state,null)}function ga(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=I({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jg(e){du(e)}function qg(e){console.error(e)}function Fg(e){du(e)}function mu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lh(e,n,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){mu(e,n)},a}function Qg(e){return e=vr(e),e.tag=3,e}function Kg(e,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Gg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Gg(n,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hT(e,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&wl(n,a,h,!0),a=Sn.current,a!==null){switch(a.tag){case 13:return ti===null?_f():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===fh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Ef(e,l,h)),!1;case 22:return a.flags|=65536,l===fh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Ef(e,l,h)),!1}throw Error(s(435,a.tag))}return Ef(e,l,h),_f(),!1}if(Bt)return n=Sn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==hh&&(e=Error(s(422),{cause:l}),gl(Tn(e,a)))):(l!==hh&&(n=Error(s(423),{cause:l}),gl(Tn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Tn(l,a),h=Lh(e.stateNode,l,h),Zh(e,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=Tn(f,a),Ul===null?Ul=[f]:Ul.push(f),se!==4&&(se=2),n===null)return!0;l=Tn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Lh(a.stateNode,l,e),Zh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qg(h),Kg(h,e,a,l),Zh(a,h),!1}a=a.return}while(a!==null);return!1}var Yg=Error(s(461)),Oe=!1;function ke(e,n,a,l){n.child=e===null?Jm(n,null,a,l):ca(n,e.child,a,l)}function $g(e,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ya(n),l=vh(e,n,a,v,f,h),E=Eh(),e!==null&&!Oe?(Th(e,n,h),Vi(e,n,h)):(Bt&&E&&uh(n),n.flags|=1,ke(e,n,l,h),n.child)}function Xg(e,n,a,l,h){if(e===null){var f=a.type;return typeof f=="function"&&!sf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Zg(e,n,f,l,h)):(e=vu(a.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Gh(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(v,l)&&e.ref===n.ref)return Vi(e,n,h)}return n.flags|=1,e=Sr(f,l),e.ref=n.ref,e.return=n,n.child=e}function Zg(e,n,a,l,h){if(e!==null){var f=e.memoizedProps;if(hl(f,l)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Gh(e,h))e.flags&131072&&(Oe=!0);else return n.lanes=e.lanes,Vi(e,n,h)}return kh(e,n,a,l,h)}function Wg(e,n,a){var l=n.pendingProps,h=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Rl(e,n),l.mode==="hidden"||f){if(n.flags&128){if(l=v!==null?v.baseLanes|a:a,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Jg(e,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ru(n,v!==null?v.cachePool:null),v!==null?tg(n,v):dh(),eg(n);else return n.lanes=n.childLanes=536870912,Jg(e,n,v!==null?v.baseLanes|a:a,a)}else v!==null?(ru(n,v.cachePool),tg(n,v),mr(),n.memoizedState=null):(e!==null&&ru(n,null),dh(),mr());return ke(e,n,h,a),n.child}function Jg(e,n,a,l){var h=yh();return h=h===null?null:{parent:be._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&ru(n,null),dh(),eg(n),e!==null&&wl(e,n,l,!0),null}function Rl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=2097664)}}function kh(e,n,a,l,h){return ya(n),a=vh(e,n,a,l,void 0,h),l=Eh(),e!==null&&!Oe?(Th(e,n,h),Vi(e,n,h)):(Bt&&l&&uh(n),n.flags|=1,ke(e,n,a,h),n.child)}function tp(e,n,a,l,h,f){return ya(n),n.updateQueue=null,a=sg(n,l,a,h),ag(e),l=Eh(),e!==null&&!Oe?(Th(e,n,f),Vi(e,n,f)):(Bt&&l&&uh(n),n.flags|=1,ke(e,n,a,f),n.child)}function ep(e,n,a,l,h){if(ya(n),n.stateNode===null){var f=is,v=a.contextType;typeof v=="object"&&v!==null&&(f=qe(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},$h(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?qe(v):is,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(xh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Uh.enqueueReplaceState(f,f.state,null),Il(n,l,f,h),Dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=ga(a,E);f.props=w;var U=f.context,G=a.contextType;v=is,typeof G=="object"&&G!==null&&(v=qe(G));var Z=a.getDerivedStateFromProps;G=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==v)&&Hg(n,f,l,v),_r=!1;var j=n.memoizedState;f.state=j,Il(n,l,f,h),Dl(),U=n.memoizedState,E||j!==U||_r?(typeof Z=="function"&&(xh(n,a,Z,l),U=n.memoizedState),(w=_r||Bg(n,a,w,l,j,U,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Xh(e,n),v=n.memoizedProps,G=ga(a,v),f.props=G,Z=n.pendingProps,j=f.context,U=a.contextType,w=is,typeof U=="object"&&U!==null&&(w=qe(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||j!==w)&&Hg(n,f,l,w),_r=!1,j=n.memoizedState,f.state=j,Il(n,l,f,h),Dl();var F=n.memoizedState;v!==Z||j!==F||_r||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof E=="function"&&(xh(n,a,E,l),F=n.memoizedState),(G=_r||Bg(n,a,G,l,j,F,w)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Rl(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=ca(n,e.child,null,h),n.child=ca(n,null,a,h)):ke(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Vi(e,n,h),e}function np(e,n,a,l){return ml(),n.flags|=256,ke(e,n,a,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0};function zh(e){return{baseLanes:e,cachePool:rg()}}function Bh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Dn),e}function ip(e,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?dr(n):mr(),Bt){var E=Le,w;if(w=E){t:{for(w=E,E=Jn;w.nodeType!==8;){if(!E){E=null;break t}if(w=Pn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:la!==null?{id:wi,overflow:Ci}:null,retryLane:536870912},w=Cn(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,We=n,Le=null,w=!0):w=!1}w||ua(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Di(n)}return E=l.children,l=l.fallback,h?(mr(),h=n.mode,E=jh({mode:"hidden",children:E},h),l=va(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=zh(a),h.childLanes=Bh(e,v,a),n.memoizedState=Ph,l):(dr(n),Hh(n,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(dr(n),n.flags&=-257,n=qh(e,n,a)):n.memoizedState!==null?(mr(),n.child=e.child,n.flags|=128,n=null):(mr(),h=l.fallback,E=n.mode,l=jh({mode:"visible",children:l.children},E),h=va(h,E,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ca(n,e.child,null,a),l=n.child,l.memoizedState=zh(a),l.childLanes=Bh(e,v,a),n.memoizedState=Ph,n=h);else if(dr(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,gl({value:l,source:null,stack:null}),n=qh(e,n,a)}else if(Oe||wl(e,n,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=$t,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,fr(e,l),Je(v,e,l),Yg}E.data==="$?"||_f(),n=qh(e,n,a)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=wT.bind(null,e),E._reactRetry=n,n=null):(e=w.treeContext,Le=Pn(E.nextSibling),We=n,Bt=!0,Ln=null,Jn=!1,e!==null&&(An[bn++]=wi,An[bn++]=Ci,An[bn++]=la,wi=e.id,Ci=e.overflow,la=n),n=Hh(n,l.children),n.flags|=4096);return n}return h?(mr(),h=l.fallback,E=n.mode,w=e.child,U=w.sibling,l=Sr(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,U!==null?h=Sr(U,h):(h=va(h,E,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=e.child.memoizedState,E===null?E=zh(a):(w=E.cachePool,w!==null?(U=be._currentValue,w=w.parent!==U?{parent:U,pool:U}:w):w=rg(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=Bh(e,v,a),n.memoizedState=Ph,l):(dr(n),a=e.child,e=a.sibling,a=Sr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Hh(e,n){return n=jh({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function jh(e,n){return Ip(e,n,0,null)}function qh(e,n,a){return ca(n,e.child,null,a),e=Hh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function rp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Kh(e.return,n,a)}function Fh(e,n,a,l,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function ap(e,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(ke(e,n,l.children,a),l=Ae.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rp(e,a,n);else if(e.tag===19)rp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Gt(Ae,l),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&iu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Fh(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&iu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Fh(n,!0,a,null,f);break;case"together":Fh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Rr|=n.lanes,!(a&n.childLanes))if(e!==null){if(wl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Sr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Sr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Gh(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function fT(e,n,a){switch(n.tag){case 3:Xi(n,n.stateNode.containerInfo),yr(n,be,e.memoizedState.cache),ml();break;case 27:case 5:Fs(n);break;case 4:Xi(n,n.stateNode.containerInfo);break;case 10:yr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(n),n.flags|=128,null):a&n.child.childLanes?ip(e,n,a):(dr(n),e=Vi(e,n,a),e!==null?e.sibling:null);dr(n);break;case 19:var h=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(wl(e,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return ap(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Wg(e,n,a);case 24:yr(n,be,e.memoizedState.cache)}return Vi(e,n,a)}function sp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Gh(e,a)&&!(n.flags&128))return Oe=!1,fT(e,n,a);Oe=!!(e.flags&131072)}else Oe=!1,Bt&&n.flags&1048576&&Fm(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")sf(l)?(e=ga(l,e),n.tag=1,n=ep(null,n,l,e,a)):(n.tag=0,n=kh(null,n,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===k){n.tag=11,n=$g(null,n,l,e,a);break t}else if(h===Y){n.tag=14,n=Xg(null,n,l,e,a);break t}}throw n=S(l)||l,Error(s(306,n,""))}}return n;case 0:return kh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ga(l,n.pendingProps),ep(e,n,l,h,a);case 3:t:{if(Xi(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,l=h.element,Xh(e,n),Il(n,f,null,a);var v=n.memoizedState;if(f=v.cache,yr(n,be,f),f!==h.cache&&Yh(n,[be],a,!0),Dl(),f=v.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=np(e,n,f,a);break t}else if(f!==l){l=Tn(Error(s(424)),n),gl(l),n=np(e,n,f,a);break t}else for(Le=Pn(n.stateNode.containerInfo.firstChild),We=n,Bt=!0,Ln=null,Jn=!0,a=Jm(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ml(),f===l){n=Vi(e,n,a);break t}ke(e,n,f,a)}n=n.child}return n;case 26:return Rl(e,n),e===null?(a=uy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,e=n.pendingProps,l=Ou(dn.current).createElement(a),l[De]=n,l[ve]=e,Pe(l,a,e),Wt(l),n.stateNode=l):n.memoizedState=uy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fs(n),e===null&&Bt&&(l=n.stateNode=sy(n.type,n.pendingProps,dn.current),We=n,Jn=!0,Le=Pn(l.firstChild)),l=n.pendingProps.children,e!==null||Bt?ke(e,n,l,a):n.child=ca(n,null,l,a),Rl(e,n),n.child;case 5:return e===null&&Bt&&((h=l=Le)&&(l=jT(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,We=n,Le=Pn(l.firstChild),Jn=!1,h=!0):h=!1),h||ua(n)),Fs(n),h=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,Nf(h,f)?l=null:v!==null&&Nf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=vh(e,n,aT,null,null,a),Fl._currentValue=h),Rl(e,n),ke(e,n,l,a),n.child;case 6:return e===null&&Bt&&((e=a=Le)&&(a=qT(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,We=n,Le=null,e=!0):e=!1),e||ua(n)),null;case 13:return ip(e,n,a);case 4:return Xi(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ca(n,null,l,a):ke(e,n,l,a),n.child;case 11:return $g(e,n,n.type,n.pendingProps,a);case 7:return ke(e,n,n.pendingProps,a),n.child;case 8:return ke(e,n,n.pendingProps.children,a),n.child;case 12:return ke(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,yr(n,n.type,l.value),ke(e,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ya(n),h=qe(h),l=l(h),n.flags|=1,ke(e,n,l,a),n.child;case 14:return Xg(e,n,n.type,n.pendingProps,a);case 15:return Zg(e,n,n.type,n.pendingProps,a);case 19:return ap(e,n,a);case 22:return Wg(e,n,a);case 24:return ya(n),l=qe(be),e===null?(h=yh(),h===null&&(h=$t,f=gh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},$h(n),yr(n,be,h)):(e.lanes&a&&(Xh(e,n),Il(n,null,null,a),Dl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),yr(n,be,l)):(l=f.cache,yr(n,be,l),l!==h.cache&&Yh(n,[be],a,!0))),ke(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Qh=Pt(null),pa=null,Oi=null;function yr(e,n,a){Gt(Qh,n._currentValue),n._currentValue=a}function Ni(e){e._currentValue=Qh.current,ie(Qh)}function Kh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Yh(e,n,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Kh(f.return,a,e),l||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Kh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function wl(e,n,a,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if(h.flags&524288)f=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;on(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===$i.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Fl):e=[Fl])}h=h.return}e!==null&&Yh(n,e,a,l),n.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ya(e){pa=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return lp(pa,e)}function pu(e,n){return pa===null&&ya(e),lp(e,n)}function lp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Oi=Oi.next=n;return a}var _r=!1;function $h(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Er(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Xo(e),jm(e,null,a),n}return $o(e,l,n,a),Xo(e)}function Cl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,nr(e,a)}}function Zh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Wh=!1;function Dl(){if(Wh){var e=us;if(e!==null)throw e}}function Il(e,n,a,l){Wh=!1;var h=e.updateQueue;_r=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,U=w.next;w.next=null,v===null?f=U:v.next=U,v=w;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=w))}if(f!==null){var Z=h.baseState;v=0,G=U=w=null,E=f;do{var j=E.lane&-536870913,F=j!==E.lane;if(F?(Ut&j)===j:(l&j)===j){j!==0&&j===os&&(Wh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,Tt=E;j=n;var le=a;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){Z=ct.call(le,Z,j);break t}Z=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,j=typeof ct=="function"?ct.call(le,Z,j):ct,j==null)break t;Z=I({},Z,j);break t;case 2:_r=!0}}j=E.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=F,w=Z):G=G.next=F,v|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(w=Z),h.baseState=w,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Rr|=v,e.lanes=v,e.memoizedState=Z}}function op(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function up(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)op(a[e],n)}function Vl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function Tr(e,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var w=a;try{E()}catch(U){Yt(h,w,U)}}}l=l.next}while(l!==f)}}catch(U){Yt(n,n.return,U)}}function cp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{up(n,a)}catch(l){Yt(e,e.return,l)}}}function hp(e,n,a){a.props=ga(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(e,n,l)}}function _a(e,n){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(f){Yt(e,n,f)}}function un(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(e,n,h)}else a.current=null}function fp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(e,e.return,h)}}function dp(e,n,a){try{var l=e.stateNode;kT(l,e.type,a,n),l[ve]=n}catch(h){Yt(e,e.return,h)}}function mp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Jh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||mp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tf(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(e,n):a.insertBefore(e,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(e,a)):(n=a,n.appendChild(e)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Vu));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(tf(e,n,a),e=e.sibling;e!==null;)tf(e,n,a),e=e.sibling}function yu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(yu(e,n,a),e=e.sibling;e!==null;)yu(e,n,a),e=e.sibling}var Mi=!1,ae=!1,ef=!1,gp=typeof WeakSet=="function"?WeakSet:Set,Ne=null,pp=!1;function dT(e,n){if(e=e.containerInfo,Vf=ku,e=Mm(e),ih(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,w=-1,U=0,G=0,Z=e,j=null;e:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(E=v+h),Z!==f||l!==0&&Z.nodeType!==3||(w=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)j=Z,Z=F;for(;;){if(Z===e)break e;if(j===a&&++U===h&&(E=v),j===f&&++G===l&&(w=v),(F=Z.nextSibling)!==null)break;Z=j,j=Z.parentNode}Z=F}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Of={focusedElem:e,selectionRange:a},ku=!1,Ne=n;Ne!==null;)if(n=Ne,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ne=e;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ct=ga(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Yt(a,a.return,Tt)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Uf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Ne=e;break}Ne=n.return}return ct=pp,pp=!1,ct}function yp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(e,a),l&4&&Vl(5,a);break;case 1:if(Ui(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=ga(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}l&64&&cp(a),l&512&&_a(a,a.return);break;case 3:if(Ui(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{up(l,e)}catch(E){Yt(a,a.return,E)}}break;case 26:Ui(e,a),l&512&&_a(a,a.return);break;case 27:case 5:Ui(e,a),n===null&&l&4&&fp(a),l&512&&_a(a,a.return);break;case 12:Ui(e,a);break;case 13:Ui(e,a),l&4&&Ep(e,a);break;case 22:if(h=a.memoizedState!==null||Mi,!h){n=n!==null&&n.memoizedState!==null||ae;var f=Mi,v=ae;Mi=h,(ae=n)&&!v?Ar(e,a,(a.subtreeFlags&8772)!==0):Ui(e,a),Mi=f,ae=v}l&512&&(a.memoizedProps.mode==="manual"?_a(a,a.return):un(a,a.return));break;default:Ui(e,a)}}function _p(e){var n=e.alternate;n!==null&&(e.alternate=null,_p(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Yr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,cn=!1;function xi(e,n,a){for(a=a.child;a!==null;)vp(e,n,a),a=a.sibling}function vp(e,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Zi,a)}catch{}switch(a.tag){case 26:ae||un(a,n),xi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ae||un(a,n);var l=ge,h=cn;for(ge=a.stateNode,xi(e,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Yr(a),ge=l,cn=h;break;case 5:ae||un(a,n);case 6:h=ge;var f=cn;if(ge=null,xi(e,n,a),ge=h,cn=f,ge!==null)if(cn)try{e=ge,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Yt(a,n,v)}else try{ge.removeChild(a.stateNode)}catch(v){Yt(a,n,v)}break;case 18:ge!==null&&(cn?(n=ge,a=a.stateNode,n.nodeType===8?xf(n.parentNode,a):n.nodeType===1&&xf(n,a),Yl(n)):xf(ge,a.stateNode));break;case 4:l=ge,h=cn,ge=a.stateNode.containerInfo,cn=!0,xi(e,n,a),ge=l,cn=h;break;case 0:case 11:case 14:case 15:ae||Tr(2,a,n),ae||Tr(4,a,n),xi(e,n,a);break;case 1:ae||(un(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hp(a,n,l)),xi(e,n,a);break;case 21:xi(e,n,a);break;case 22:ae||un(a,n),ae=(l=ae)||a.memoizedState!==null,xi(e,n,a),ae=l;break;default:xi(e,n,a)}}function Ep(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yl(e)}catch(a){Yt(n,n.return,a)}}function mT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new gp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new gp),n;default:throw Error(s(435,e.tag))}}function nf(e,n){var a=mT(e);n.forEach(function(l){var h=CT.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function Rn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,cn=!1;break t;case 3:ge=E.stateNode.containerInfo,cn=!0;break t;case 4:ge=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(ge===null)throw Error(s(160));vp(f,v,h),ge=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Tp(n,e),n=n.sibling}var kn=null;function Tp(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(n,e),wn(e),l&4&&(Tr(3,e,e.return),Vl(3,e),Tr(5,e,e.return));break;case 1:Rn(n,e),wn(e),l&512&&(ae||a===null||un(a,a.return)),l&64&&Mi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=kn;if(Rn(n,e),wn(e),l&512&&(ae||a===null||un(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[rr]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Pe(f,l,a),f[De]=e,Wt(f),l=f;break t;case"link":var v=fy("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(l),Pe(f,l,a),h.head.appendChild(f);break;case"meta":if(v=fy("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(l),Pe(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=e,Wt(f),l=f}e.stateNode=l}else dy(h,e.type,e.stateNode);else e.stateNode=hy(h,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?dy(h,e.type,e.stateNode):hy(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&dp(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,f=e.memoizedProps;try{for(var w=h.firstChild;w;){var U=w.nextSibling,G=w.nodeName;w[rr]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=U}for(var Z=e.type,j=h.attributes;j.length;)h.removeAttributeNode(j[0]);Pe(h,Z,f),h[De]=e,h[ve]=f}catch(ct){Yt(e,e.return,ct)}}case 5:if(Rn(n,e),wn(e),l&512&&(ae||a===null||un(a,a.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(ct){Yt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,dp(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ef=!0);break;case 6:if(Rn(n,e),wn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Yt(e,e.return,ct)}}break;case 3:if(xu=null,h=kn,kn=Nu(n.containerInfo),Rn(n,e),kn=h,wn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(n.containerInfo)}catch(ct){Yt(e,e.return,ct)}ef&&(ef=!1,Ap(e));break;case 4:l=kn,kn=Nu(e.stateNode.containerInfo),Rn(n,e),wn(e),kn=l;break;case 12:Rn(n,e),wn(e);break;case 13:Rn(n,e),wn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ff=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nf(e,l)));break;case 22:if(l&512&&(ae||a===null||un(a,a.return)),w=e.memoizedState!==null,U=a!==null&&a.memoizedState!==null,G=Mi,Z=ae,Mi=G||w,ae=Z||U,Rn(n,e),ae=Z,Mi=G,wn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=w?n._visibility&-2:n._visibility|1,w&&(n=Mi||ae,a===null||U||n||ds(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){U=a=n;try{if(h=U.stateNode,w)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=U.stateNode,E=U.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ct){Yt(U,U.return,ct)}}}else if(n.tag===6){if(a===null){U=n;try{U.stateNode.nodeValue=w?"":U.memoizedProps}catch(ct){Yt(U,U.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nf(e,a))));break;case 19:Rn(n,e),wn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,nf(e,l)));break;case 21:break;default:Rn(n,e),wn(e)}}function wn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(mp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,f=Jh(e);yu(e,f,h);break;case 5:var v=l.stateNode;l.flags&32&&(pn(v,""),l.flags&=-33);var E=Jh(e);yu(e,E,v);break;case 3:case 4:var w=l.stateNode.containerInfo,U=Jh(e);tf(e,U,w);break;default:throw Error(s(161))}}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ap(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ap(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ui(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yp(e,n.alternate,n),n=n.sibling}function ds(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Tr(4,n,n.return),ds(n);break;case 1:un(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&hp(n,n.return,a),ds(n);break;case 26:case 27:case 5:un(n,n.return),ds(n);break;case 22:un(n,n.return),n.memoizedState===null&&ds(n);break;default:ds(n)}e=e.sibling}}function Ar(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:Ar(h,f,a),Vl(4,f);break;case 1:if(Ar(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)op(w[h],E)}catch(U){Yt(l,l.return,U)}}a&&v&64&&cp(f),_a(f,f.return);break;case 26:case 27:case 5:Ar(h,f,a),a&&l===null&&v&4&&fp(f),_a(f,f.return);break;case 12:Ar(h,f,a);break;case 13:Ar(h,f,a),a&&v&4&&Ep(h,f);break;case 22:f.memoizedState===null&&Ar(h,f,a),_a(f,f.return);break;default:Ar(h,f,a)}n=n.sibling}}function rf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&El(a))}function af(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e))}function br(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(e,n,a,l),n=n.sibling}function bp(e,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:br(e,n,a,l),h&2048&&Vl(9,n);break;case 3:br(e,n,a,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&El(e)));break;case 12:if(h&2048){br(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else br(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?br(e,n,a,l):Ol(e,n):f._visibility&4?br(e,n,a,l):(f._visibility|=4,ms(e,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&rf(n.alternate,n);break;case 24:br(e,n,a,l),h&2048&&af(n.alternate,n);break;default:br(e,n,a,l)}}function ms(e,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,E=a,w=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:ms(f,v,E,w,h),Vl(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?ms(f,v,E,w,h):Ol(f,v):(G._visibility|=4,ms(f,v,E,w,h)),h&&U&2048&&rf(v.alternate,v);break;case 24:ms(f,v,E,w,h),h&&U&2048&&af(v.alternate,v);break;default:ms(f,v,E,w,h)}n=n.sibling}}function Ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,h=l.flags;switch(l.tag){case 22:Ol(a,l),h&2048&&rf(l.alternate,l);break;case 24:Ol(a,l),h&2048&&af(l.alternate,l);break;default:Ol(a,l)}n=n.sibling}}var Nl=8192;function gs(e){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)Sp(e),e=e.sibling}function Sp(e){switch(e.tag){case 26:gs(e),e.flags&Nl&&e.memoizedState!==null&&nA(kn,e.memoizedState,e.memoizedProps);break;case 5:gs(e);break;case 3:case 4:var n=kn;kn=Nu(e.stateNode.containerInfo),gs(e),kn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Nl,Nl=16777216,gs(e),Nl=n):gs(e));break;default:gs(e)}}function Rp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ml(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,Cp(l,e)}Rp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wp(e),e=e.sibling}function wp(e){switch(e.tag){case 0:case 11:case 15:Ml(e),e.flags&2048&&Tr(9,e,e.return);break;case 3:Ml(e);break;case 12:Ml(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,_u(e)):Ml(e);break;default:Ml(e)}}function _u(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ne=l,Cp(l,e)}Rp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Tr(8,n,n.return),_u(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,_u(n));break;default:_u(n)}e=e.sibling}}function Cp(e,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:Tr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ne=l;else t:for(a=e;Ne!==null;){l=Ne;var h=l.sibling,f=l.return;if(_p(l),l===a){Ne=null;break t}if(h!==null){h.return=f,Ne=h;break t}Ne=f}}}function gT(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,a,l){return new gT(e,n,a,l)}function sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sr(e,n){var a=e.alternate;return a===null?(a=Cn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Dp(e,n){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vu(e,n,a,l,h,f){var v=0;if(l=e,typeof e=="function")sf(e)&&(v=1);else if(typeof e=="string")v=tA(e,a,Ye.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return va(a.children,h,f,n);case y:v=8,h|=24;break;case T:return e=Cn(12,a,n,h|2),e.elementType=T,e.lanes=f,e;case K:return e=Cn(13,a,n,h),e.elementType=K,e.lanes=f,e;case H:return e=Cn(19,a,n,h),e.elementType=H,e.lanes=f,e;case J:return Ip(a,h,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case V:v=10;break t;case D:v=9;break t;case k:v=11;break t;case Y:v=14;break t;case et:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Cn(v,a,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function va(e,n,a,l){return e=Cn(7,e,l,n),e.lanes=a,e}function Ip(e,n,a,l){e=Cn(22,e,l,n),e.elementType=J,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=fr(f,2);v!==null&&(h._pendingVisibility|=2,Je(v,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if(h._pendingVisibility&2){var v=fr(f,2);v!==null&&(h._pendingVisibility&=-3,Je(v,f,2))}}};return e.stateNode=h,e}function lf(e,n,a){return e=Cn(6,e,null,n),e.lanes=a,e}function of(e,n,a){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Li(e){e.flags|=4}function Vp(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!my(n)){if(n=Sn.current,n!==null&&((Ut&4194176)===Ut?ti!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==ti))throw yl=fh,Km;e.flags|=8192}}function Eu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tr():536870912,e.lanes|=n,ys|=n)}function xl(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Jt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function pT(e,n,a){var l=n.pendingProps;switch(ch(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(be),gi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(dl(n)?Li(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ln!==null&&(pf(Ln),Ln=null))),Jt(n),null;case 26:return a=n.memoizedState,e===null?(Li(n),a!==null?(Jt(n),Vp(n,a)):(Jt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Li(n),Jt(n),Vp(n,a)):(Jt(n),n.flags&=-16777217):(e.memoizedProps!==l&&Li(n),Jt(n),n.flags&=-16777217),null;case 27:La(n),a=dn.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}e=Ye.current,dl(n)?Gm(n):(e=sy(h,l,a),n.stateNode=e,Li(n))}return Jt(n),null;case 5:if(La(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(e=Ye.current,dl(n))Gm(n);else{switch(h=Ou(dn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[De]=n,e[ve]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Pe(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Li(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=dn.current,dl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[De]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ty(e.nodeValue,a)),e||ua(n)}else e=Ou(e).createTextNode(l),e[De]=n,n.stateNode=e}return Jt(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=dl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else ml(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else Ln!==null&&(pf(Ln),Ln=null),h=!0;if(!h)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Eu(n,n.updateQueue),Jt(n),null;case 4:return gi(),e===null&&Cf(n.stateNode.containerInfo),Jt(n),null;case 10:return Ni(n.type),Jt(n),null;case 19:if(ie(Ae),h=n.memoizedState,h===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)xl(h,!1);else{if(se!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(f=iu(e),f!==null){for(n.flags|=128,xl(h,!1),e=f.updateQueue,n.updateQueue=e,Eu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Dp(a,e),a=a.sibling;return Gt(Ae,Ae.current&1|2),n.child}e=e.sibling}h.tail!==null&&tn()>Tu&&(n.flags|=128,l=!0,xl(h,!1),n.lanes=4194304)}else{if(!l)if(e=iu(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Eu(n,e),xl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*tn()-h.renderingStartTime>Tu&&a!==536870912&&(n.flags|=128,l=!0,xl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tn(),n.sibling=null,e=Ae.current,Gt(Ae,l?e&1|2:e&1),n):(Jt(n),null);case 22:case 23:return Di(n),mh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),a=n.updateQueue,a!==null&&Eu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&ie(ha),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ni(be),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function yT(e,n){switch(ch(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ni(be),gi(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return La(n),null;case 13:if(Di(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ml()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ie(Ae),null;case 4:return gi(),null;case 10:return Ni(n.type),null;case 22:case 23:return Di(n),mh(),e!==null&&ie(ha),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ni(be),null;case 25:return null;default:return null}}function Op(e,n){switch(ch(n),n.tag){case 3:Ni(be),gi();break;case 26:case 27:case 5:La(n);break;case 4:gi();break;case 13:Di(n);break;case 19:ie(Ae);break;case 10:Ni(n.type);break;case 22:case 23:Di(n),mh(),e!==null&&ie(ha);break;case 24:Ni(be)}}var _T={getCacheForType:function(e){var n=qe(be),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},vT=typeof WeakMap=="function"?WeakMap:Map,te=0,$t=null,It=null,Ut=0,Xt=0,hn=null,ki=!1,ps=!1,uf=!1,Pi=0,se=0,Rr=0,Ea=0,cf=0,Dn=0,ys=0,Ul=null,ni=null,hf=!1,ff=0,Tu=1/0,Au=null,wr=null,bu=!1,Ta=null,Ll=0,df=0,mf=null,kl=0,gf=null;function fn(){if(te&2&&Ut!==0)return Ut&-Ut;if(b.T!==null){var e=os;return e!==0?e:bf()}return Io()}function Np(){Dn===0&&(Dn=!(Ut&536870912)||Bt?$s():536870912);var e=Sn.current;return e!==null&&(e.flags|=32),Dn}function Je(e,n,a){(e===$t&&Xt===2||e.cancelPendingCommit!==null)&&(_s(e,0),zi(e,Ut,Dn,!1)),oe(e,a),(!(te&2)||e!==$t)&&(e===$t&&(!(te&2)&&(Ea|=a),se===4&&zi(e,Ut,Dn,!1)),ii(e))}function Mp(e,n,a){if(te&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&e.expiredLanes)===0||Ji(e,n),h=l?AT(e,n):vf(e,n,!0),f=l;do{if(h===0){ps&&!l&&zi(e,n,0,!1);break}else if(h===6)zi(e,n,0,!ki);else{if(a=e.current.alternate,f&&!ET(a)){h=vf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;h=Ul;var w=E.current.memoizedState.isDehydrated;if(w&&(_s(E,v).flags|=256),v=vf(E,v,!1),v!==2){if(uf&&!w){E.errorRecoveryDisabledLanes|=f,Ea|=f,h=4;break t}f=ni,ni=h,f!==null&&pf(f)}h=v}if(f=!1,h!==2)continue}}if(h===1){_s(e,0),zi(e,n,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){zi(l,n,Dn,!ki);break t}break;case 2:ni=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=ff+300-tn(),10<f)){if(zi(l,n,Dn,!ki),mn(l,0)!==0)break t;l.timeoutHandle=iy(xp.bind(null,l,a,ni,Au,hf,n,Dn,Ea,ys,ki,2,-0,0),f);break t}xp(l,a,ni,Au,hf,n,Dn,Ea,ys,ki,0,-0,0)}}break}while(!0);ii(e)}function pf(e){ni===null?ni=e:ni.push.apply(ni,e)}function xp(e,n,a,l,h,f,v,E,w,U,G,Z,j){var F=n.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:eA},Sp(n),n=iA(),n!==null)){e.cancelPendingCommit=n(Hp.bind(null,e,a,l,h,v,E,w,1,Z,j)),zi(e,f,v,!U);return}Hp(e,a,l,h,v,E,w,G,Z,j)}function ET(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!on(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zi(e,n,a,l){n&=~cf,n&=~Ea,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-$e(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&er(e,a,n)}function Su(){return te&6?!0:(Pl(0),!1)}function yf(){if(It!==null){if(Xt===0)var e=It.return;else e=It,Oi=pa=null,Ah(e),ss=null,_l=0,e=It;for(;e!==null;)Op(e.alternate,e),e=e.return;It=null}}function _s(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zT(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),yf(),$t=e,It=a=Sr(e.current,null),Ut=n,Xt=0,hn=null,ki=!1,ps=Ji(e,n),uf=!1,ys=Dn=cf=Ea=Rr=se=0,ni=Ul=null,hf=!1,n&8&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-$e(l),f=1<<h;n|=e[h],l&=~f}return Pi=n,Yo(),a}function Up(e,n){Ct=null,b.H=ei,n===pl?(n=Xm(),Xt=3):n===Km?(n=Xm(),Xt=4):Xt=n===Yg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,It===null&&(se=1,mu(e,Tn(n,e.current)))}function Lp(){var e=b.H;return b.H=ei,e===null?ei:e}function kp(){var e=b.A;return b.A=_T,e}function _f(){se=4,ki||(Ut&4194176)!==Ut&&Sn.current!==null||(ps=!0),!(Rr&134217727)&&!(Ea&134217727)||$t===null||zi($t,Ut,Dn,!1)}function vf(e,n,a){var l=te;te|=2;var h=Lp(),f=kp();($t!==e||Ut!==n)&&(Au=null,_s(e,n)),n=!1;var v=se;t:do try{if(Xt!==0&&It!==null){var E=It,w=hn;switch(Xt){case 8:yf(),v=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var U=Xt;if(Xt=0,hn=null,vs(e,E,w,U),a&&ps){v=0;break t}break;default:U=Xt,Xt=0,hn=null,vs(e,E,w,U)}}TT(),v=se;break}catch(G){Up(e,G)}while(!0);return n&&e.shellSuspendCounter++,Oi=pa=null,te=l,b.H=h,b.A=f,It===null&&($t=null,Ut=0,Yo()),v}function TT(){for(;It!==null;)Pp(It)}function AT(e,n){var a=te;te|=2;var l=Lp(),h=kp();$t!==e||Ut!==n?(Au=null,Tu=tn()+500,_s(e,n)):ps=Ji(e,n);t:do try{if(Xt!==0&&It!==null){n=It;var f=hn;e:switch(Xt){case 1:Xt=0,hn=null,vs(e,n,f,1);break;case 2:if(Ym(f)){Xt=0,hn=null,zp(n);break}n=function(){Xt===2&&$t===e&&(Xt=7),ii(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Ym(f)?(Xt=0,hn=null,zp(n)):(Xt=0,hn=null,vs(e,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||my(v)){Xt=0,hn=null;var w=E.sibling;if(w!==null)It=w;else{var U=E.return;U!==null?(It=U,Ru(U)):It=null}break e}}Xt=0,hn=null,vs(e,n,f,5);break;case 6:Xt=0,hn=null,vs(e,n,f,6);break;case 8:yf(),se=6;break t;default:throw Error(s(462))}}bT();break}catch(G){Up(e,G)}while(!0);return Oi=pa=null,b.H=l,b.A=h,te=a,It!==null?0:($t=null,Ut=0,Yo(),se)}function bT(){for(;It!==null&&!Qc();)Pp(It)}function Pp(e){var n=sp(e.alternate,e,Pi);e.memoizedProps=e.pendingProps,n===null?Ru(e):It=n}function zp(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=tp(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=tp(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Ah(n);default:Op(a,n),n=It=Dp(n,Pi),n=sp(a,n,Pi)}e.memoizedProps=e.pendingProps,n===null?Ru(e):It=n}function vs(e,n,a,l){Oi=pa=null,Ah(n),ss=null,_l=0;var h=n.return;try{if(hT(e,h,n,a,Ut)){se=1,mu(e,Tn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;se=1,mu(e,Tn(a,e.current)),It=null;return}n.flags&32768?(Bt||l===1?e=!0:ps||Ut&536870912?e=!1:(ki=e=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bp(n,e)):Ru(n)}function Ru(e){var n=e;do{if(n.flags&32768){Bp(n,ki);return}e=n.return;var a=pT(n.alternate,n,Pi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);se===0&&(se=5)}function Bp(e,n){do{var a=yT(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);se=6,It=null}function Hp(e,n,a,l,h,f,v,E,w,U){var G=b.T,Z=at.p;try{at.p=2,b.T=null,ST(e,n,a,l,Z,h,f,v,E,w,U)}finally{b.T=G,at.p=Z}}function ST(e,n,a,l,h,f,v,E){do Es();while(Ta!==null);if(te&6)throw Error(s(327));var w=e.finishedWork;if(l=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var U=w.lanes|w.childLanes;if(U|=lh,Co(e,l,U,f,v,E),e===$t&&(It=$t=null,Ut=0),!(w.subtreeFlags&10256)&&!(w.flags&10256)||bu||(bu=!0,df=U,mf=a,DT(pi,function(){return Es(),null})),a=(w.flags&15990)!==0,w.subtreeFlags&15990||a?(a=b.T,b.T=null,f=at.p,at.p=2,v=te,te|=4,dT(e,w),Tp(w,e),Y0(Of,e.containerInfo),ku=!!Vf,Of=Vf=null,e.current=w,yp(e,w.alternate,w),Gs(),te=v,at.p=f,b.T=a):e.current=w,bu?(bu=!1,Ta=e,Ll=l):jp(e,U),U=e.pendingLanes,U===0&&(wr=null),Ks(w.stateNode),ii(e),n!==null)for(h=e.onRecoverableError,w=0;w<n.length;w++)U=n[w],h(U.value,{componentStack:U.stack});return Ll&3&&Es(),U=e.pendingLanes,l&4194218&&U&42?e===gf?kl++:(kl=0,gf=e):kl=0,Pl(0),null}function jp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,El(n)))}function Es(){if(Ta!==null){var e=Ta,n=df;df=0;var a=Do(Ll),l=b.T,h=at.p;try{if(at.p=32>a?32:a,b.T=null,Ta===null)var f=!1;else{a=mf,mf=null;var v=Ta,E=Ll;if(Ta=null,Ll=0,te&6)throw Error(s(331));var w=te;if(te|=4,wp(v.current),bp(v,v.current,E,a),te=w,Pl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Zi,v)}catch{}f=!0}return f}finally{at.p=h,b.T=l,jp(e,n)}}return!1}function qp(e,n,a){n=Tn(a,n),n=Lh(e.stateNode,n,2),e=Er(e,n,2),e!==null&&(oe(e,2),ii(e))}function Yt(e,n,a){if(e.tag===3)qp(e,e,a);else for(;n!==null;){if(n.tag===3){qp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){e=Tn(a,e),a=Qg(2),l=Er(n,a,2),l!==null&&(Kg(a,l,n,e),oe(l,2),ii(l));break}}n=n.return}}function Ef(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new vT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(uf=!0,h.add(a),e=RT.bind(null,e,n,a),n.then(e,e))}function RT(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$t===e&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>tn()-ff?!(te&2)&&_s(e,0):cf|=a,ys===Ut&&(ys=0)),ii(e)}function Fp(e,n){n===0&&(n=tr()),e=fr(e,n),e!==null&&(oe(e,n),ii(e))}function wT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Fp(e,a)}function CT(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Fp(e,a)}function DT(e,n){return Gr(e,n)}var wu=null,Ts=null,Tf=!1,Cu=!1,Af=!1,Aa=0;function ii(e){e!==Ts&&e.next===null&&(Ts===null?wu=Ts=e:Ts=Ts.next=e),Cu=!0,Tf||(Tf=!0,VT(IT))}function Pl(e,n){if(!Af&&Cu){Af=!0;do for(var a=!1,l=wu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-$e(42|e)+1)-1,f&=h&~(v&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,Kp(l,f))}else f=Ut,f=mn(l,l===$t?f:0),!(f&3)||Ji(l,f)||(a=!0,Kp(l,f));l=l.next}while(a);Af=!1}}function IT(){Cu=Tf=!1;var e=0;Aa!==0&&(PT()&&(e=Aa),Aa=0);for(var n=tn(),a=null,l=wu;l!==null;){var h=l.next,f=Gp(l,n);f===0?(l.next=null,a===null?wu=h:a.next=h,h===null&&(Ts=a)):(a=l,(e!==0||f&3)&&(Cu=!0)),l=h}Pl(e)}function Gp(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-$e(f),E=1<<v,w=h[v];w===-1?(!(E&a)||E&l)&&(h[v]=za(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,a=Ut,a=mn(e,e===n?a:0),l=e.callbackNode,a===0||e===n&&Xt===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Pa(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Ji(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Pa(l),Do(a)){case 2:case 8:a=Ce;break;case 32:a=pi;break;case 268435456:a=Qs;break;default:a=pi}return l=Qp.bind(null,e),a=Gr(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Pa(l),e.callbackPriority=2,e.callbackNode=null,2}function Qp(e,n){var a=e.callbackNode;if(Es()&&e.callbackNode!==a)return null;var l=Ut;return l=mn(e,e===$t?l:0),l===0?null:(Mp(e,l,n),Gp(e,tn()),e.callbackNode!=null&&e.callbackNode===a?Qp.bind(null,e):null)}function Kp(e,n){if(Es())return null;Mp(e,n,!0)}function VT(e){BT(function(){te&6?Gr(_e,e):e()})}function bf(){return Aa===0&&(Aa=$s()),Aa}function Yp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qn(""+e)}function $p(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function OT(e,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Yp((h[ve]||null).action),v=l.submitter;v&&(n=(n=v[ve]||null)?Yp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Qa("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Aa!==0){var w=v?$p(h,v):new FormData(h);Oh(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=v?$p(h,v):new FormData(h),Oh(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Sf=0;Sf<Hm.length;Sf++){var Rf=Hm[Sf],NT=Rf.toLowerCase(),MT=Rf[0].toUpperCase()+Rf.slice(1);Un(NT,"on"+MT)}Un(Lm,"onAnimationEnd"),Un(km,"onAnimationIteration"),Un(Pm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(X0,"onTransitionRun"),Un(Z0,"onTransitionStart"),Un(W0,"onTransitionCancel"),Un(zm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Xp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,U=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){du(G)}h.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,U=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){du(G)}h.currentTarget=null,f=w}}}}function Ot(e,n){var a=n[Kr];a===void 0&&(a=n[Kr]=new Set);var l=e+"__bubble";a.has(l)||(Zp(n,e,2,!1),a.add(l))}function wf(e,n,a){var l=0;n&&(l|=4),Zp(a,e,l,n)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Cf(e){if(!e[Du]){e[Du]=!0,Zs.forEach(function(a){a!=="selectionchange"&&(xT.has(a)||wf(a,!1,e),wf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Du]||(n[Du]=!0,wf("selectionchange",!1,n))}}function Zp(e,n,a,l){switch(Ey(n)){case 2:var h=sA;break;case 8:h=lA;break;default:h=Bf}a=h.bind(null,n,a,e),h=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Df(e,n,a,l,h){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;v=v.return}for(;E!==null;){if(v=xn(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Mo(function(){var U=f,G=Ga(a),Z=[];t:{var j=Bm.get(e);if(j!==void 0){var F=Qa,ct=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":F=Wa;break;case"focusin":ct="focus",F=$a;break;case"focusout":ct="blur",F=$a;break;case"beforeblur":case"afterblur":F=$a;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Ho;break;case Lm:case km:case Pm:F=Xa;break;case zm:F=qo;break;case"scroll":case"scrollend":F=xo;break;case"wheel":F=Ja;break;case"copy":case"cut":case"paste":F=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ul;break;case"toggle":case"beforetoggle":F=Go}var Tt=(n&4)!==0,le=!Tt&&(e==="scroll"||e==="scrollend"),L=Tt?j!==null?j+"Capture":null:j;Tt=[];for(var N=U,B;N!==null;){var $=N;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||L===null||($=Wr(N,L),$!=null&&Tt.push(Bl(N,$,B))),le)break;N=N.return}0<Tt.length&&(j=new F(j,ct,null,a,G),Z.push({event:j,listeners:Tt}))}}if(!(n&7)){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==yn&&(ct=a.relatedTarget||a.fromElement)&&(xn(ct)||ct[yi]))break t;if((F||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ct=a.relatedTarget||a.toElement,F=U,ct=ct?xn(ct):null,ct!==null&&(le=dt(ct),Tt=ct.tag,ct!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(F=null,ct=U),F!==ct)){if(Tt=vn,$="onMouseLeave",L="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=ul,$="onPointerLeave",L="onPointerEnter",N="pointer"),le=F==null?j:ar(F),B=ct==null?j:ar(ct),j=new Tt($,N+"leave",F,a,G),j.target=le,j.relatedTarget=B,$=null,xn(G)===U&&(Tt=new Tt(L,N+"enter",ct,a,G),Tt.target=B,Tt.relatedTarget=le,$=Tt),le=$,F&&ct)e:{for(Tt=F,L=ct,N=0,B=Tt;B;B=As(B))N++;for(B=0,$=L;$;$=As($))B++;for(;0<N-B;)Tt=As(Tt),N--;for(;0<B-N;)L=As(L),B--;for(;N--;){if(Tt===L||L!==null&&Tt===L.alternate)break e;Tt=As(Tt),L=As(L)}Tt=null}else Tt=null;F!==null&&Wp(Z,j,F,Tt,!1),ct!==null&&le!==null&&Wp(Z,le,ct,Tt,!0)}}t:{if(j=U?ar(U):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var lt=Rm;else if(Te(j))if(wm)lt=Q0;else{lt=F0;var Dt=q0}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?U&&nl(U.elementType)&&(lt=Rm):lt=G0;if(lt&&(lt=lt(e,U))){Ri(Z,lt,a,G);break t}Dt&&Dt(e,j,U),e==="focusout"&&U&&j.type==="number"&&U.memoizedProps.value!=null&&Fa(j,"number",j.value)}switch(Dt=U?ar(U):window,e){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(ts=Dt,rh=U,fl=null);break;case"focusout":fl=rh=ts=null;break;case"mousedown":ah=!0;break;case"contextmenu":case"mouseup":case"dragend":ah=!1,xm(Z,a,G);break;case"selectionchange":if($0)break;case"keydown":case"keyup":xm(Z,a,G)}var ft;if(Zn)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?q(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(_&&a.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ft=rl()):(Kn=G,hr="value"in Kn?Kn.value:Kn.textContent,Mt=!0)),Dt=Iu(U,pt),0<Dt.length&&(pt=new ll(pt,e,null,a,G),Z.push({event:pt,listeners:Dt}),ft?pt.data=ft:(ft=nt(a),ft!==null&&(pt.data=ft)))),(ft=g?Ee(e,a):xt(e,a))&&(pt=Iu(U,"onBeforeInput"),0<pt.length&&(Dt=new ll("onBeforeInput","beforeinput",null,a,G),Z.push({event:Dt,listeners:pt}),Dt.data=ft)),OT(Z,e,U,a,G)}Xp(Z,n)})}function Bl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Iu(e,n){for(var a=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wr(e,a),h!=null&&l.unshift(Bl(e,h,f)),h=Wr(e,n),h!=null&&l.push(Bl(e,h,f))),e=e.return}return l}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wp(e,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var E=a,w=E.alternate,U=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||U===null||(w=U,h?(U=Wr(a,f),U!=null&&v.unshift(Bl(a,U,w))):h||(U=Wr(a,f),U!=null&&v.push(Bl(a,U,w)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var UT=/\r\n?/g,LT=/\u0000|\uFFFD/g;function Jp(e){return(typeof e=="string"?e:""+e).replace(UT,`
`).replace(LT,"")}function ty(e,n){return n=Jp(n),Jp(e)===n}function Vu(){}function Kt(e,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(e,""+l);break;case"className":or(e,"class",l);break;case"tabIndex":or(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":or(e,a,l);break;case"style":No(e,l,f);break;case"data":if(n!=="object"){or(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(e,n,"name",h.name,h,null),Kt(e,n,"formEncType",h.formEncType,h,null),Kt(e,n,"formMethod",h.formMethod,h,null),Kt(e,n,"formTarget",h.formTarget,h,null)):(Kt(e,n,"encType",h.encType,h,null),Kt(e,n,"method",h.method,h,null),Kt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Qn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Vu);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Qn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),lr(e,"popover",l);break;case"xlinkActuate":gn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Zc.get(a)||a,lr(e,a,l))}}function If(e,n,a,l,h,f){switch(a){case"style":No(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?pn(e,l):(typeof l=="number"||typeof l=="bigint")&&pn(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):lr(e,a,l)}}}function Pe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,f,v,a,null)}}h&&Kt(e,n,"srcSet",a.srcSet,a,null),l&&Kt(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=f=v=h=null,w=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":w=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Kt(e,n,l,G,a,null)}}Xr(e,f,E,w,U,v,h,!1),$r(e);return;case"select":Ot("invalid",e),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(e,n,h,E,a,null)}n=f,a=v,e.multiple=!!l,n!=null?zt(e,!!l,n,!1):a!=null&&zt(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(e,n,v,E,a,null)}cr(e,l,h,f),$r(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(e,n,w,l,a,null)}return;case"dialog":Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<zl.length;l++)Ot(zl[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(e,n,U,l,a,null)}return;default:if(nl(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&If(e,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(e,n,E,l,a,null))}function kT(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,w=null,U=null,G=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(F)||Kt(e,n,F,null,l,Z)}}for(var j in l){var F=l[j];if(Z=a[j],l.hasOwnProperty(j)&&(F!=null||Z!=null))switch(j){case"type":f=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==Z&&Kt(e,n,j,F,l,Z)}}ur(e,v,E,w,U,G,f,h);return;case"select":F=v=E=j=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":F=w;default:l.hasOwnProperty(f)||Kt(e,n,f,null,l,w)}for(h in l)if(f=l[h],w=a[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==w&&Kt(e,n,h,f,l,w)}n=E,a=v,l=F,j!=null?zt(e,!!a,j,!1):!!l!=!!a&&(n!=null?zt(e,!!a,n,!0):zt(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(e,n,E,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(e,n,v,h,l,f)}Zr(e,j,F);return;case"option":for(var ct in a)if(j=a[ct],a.hasOwnProperty(ct)&&j!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Kt(e,n,ct,null,l,j)}for(w in l)if(j=l[w],F=a[w],l.hasOwnProperty(w)&&j!==F&&(j!=null||F!=null))switch(w){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Kt(e,n,w,j,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)j=a[Tt],a.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt)&&Kt(e,n,Tt,null,l,j);for(U in l)if(j=l[U],F=a[U],l.hasOwnProperty(U)&&j!==F&&(j!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:Kt(e,n,U,j,l,F)}return;default:if(nl(n)){for(var le in a)j=a[le],a.hasOwnProperty(le)&&j!==void 0&&!l.hasOwnProperty(le)&&If(e,n,le,void 0,l,j);for(G in l)j=l[G],F=a[G],!l.hasOwnProperty(G)||j===F||j===void 0&&F===void 0||If(e,n,G,j,l,F);return}}for(var L in a)j=a[L],a.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&Kt(e,n,L,null,l,j);for(Z in l)j=l[Z],F=a[Z],!l.hasOwnProperty(Z)||j===F||j==null&&F==null||Kt(e,n,Z,j,l,F)}var Vf=null,Of=null;function Ou(e){return e.nodeType===9?e:e.ownerDocument}function ey(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ny(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Mf=null;function PT(){var e=window.event;return e&&e.type==="popstate"?e===Mf?!1:(Mf=e,!0):(Mf=null,!1)}var iy=typeof setTimeout=="function"?setTimeout:void 0,zT=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(e){return ry.resolve(null).then(e).catch(HT)}:iy;function HT(e){setTimeout(function(){throw e})}function xf(e,n){var a=n,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),Yl(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Yl(n)}function Uf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Uf(a),Yr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function jT(e,n,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pn(e.nextSibling),e===null)break}return null}function qT(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Pn(e.nextSibling),e===null))return null;return e}function Pn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function ay(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function sy(e,n,a){switch(n=Ou(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var In=new Map,ly=new Set;function Nu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Bi=at.d;at.d={f:FT,r:GT,D:QT,C:KT,L:YT,m:$T,X:ZT,S:XT,M:WT};function FT(){var e=Bi.f(),n=Su();return e||n}function GT(e){var n=_i(e);n!==null&&n.tag===5&&n.type==="form"?xg(n):Bi.r(e)}var bs=typeof document>"u"?null:document;function oy(e,n,a){var l=bs;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ly.has(h)||(ly.add(h),e={rel:e,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Pe(n,"link",e),Wt(n),l.head.appendChild(n)))}}function QT(e){Bi.D(e),oy("dns-prefetch",e,null)}function KT(e,n){Bi.C(e,n),oy("preconnect",e,n)}function YT(e,n,a){Bi.L(e,n,a);var l=bs;if(l&&e&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(e)+'"]';var f=h;switch(n){case"style":f=Ss(e);break;case"script":f=Rs(e)}In.has(f)||(e=I({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),In.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Hl(f))||n==="script"&&l.querySelector(jl(f))||(n=l.createElement("link"),Pe(n,"link",e),Wt(n),l.head.appendChild(n)))}}function $T(e,n){Bi.m(e,n);var a=bs;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Rs(e)}if(!In.has(f)&&(e=I({rel:"modulepreload",href:e},n),In.set(f,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(f)))return}l=a.createElement("link"),Pe(l,"link",e),Wt(l),a.head.appendChild(l)}}}function XT(e,n,a){Bi.S(e,n,a);var l=bs;if(l&&e){var h=sr(l).hoistableStyles,f=Ss(e);n=n||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Hl(f)))E.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},a),(a=In.get(f))&&Lf(e,a);var w=v=l.createElement("link");Wt(w),Pe(w,"link",e),w._p=new Promise(function(U,G){w.onload=U,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Mu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function ZT(e,n){Bi.X(e,n);var a=bs;if(a&&e){var l=sr(a).hoistableScripts,h=Rs(e),f=l.get(h);f||(f=a.querySelector(jl(h)),f||(e=I({src:e,async:!0},n),(n=In.get(h))&&kf(e,n),f=a.createElement("script"),Wt(f),Pe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function WT(e,n){Bi.M(e,n);var a=bs;if(a&&e){var l=sr(a).hoistableScripts,h=Rs(e),f=l.get(h);f||(f=a.querySelector(jl(h)),f||(e=I({src:e,async:!0,type:"module"},n),(n=In.get(h))&&kf(e,n),f=a.createElement("script"),Wt(f),Pe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function uy(e,n,a,l){var h=(h=dn.current)?Nu(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ss(a.href),a=sr(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ss(a.href);var f=sr(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(Hl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),In.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},In.set(e,a),f||JT(h,e,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Rs(a),a=sr(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ss(e){return'href="'+re(e)+'"'}function Hl(e){return'link[rel="stylesheet"]['+e+"]"}function cy(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function JT(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),Wt(n),e.head.appendChild(n))}function Rs(e){return'[src="'+re(e)+'"]'}function jl(e){return"script[async]"+e}function hy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return n.instance=l,Wt(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Wt(l),Pe(l,"style",h),Mu(l,a.precedence,e),n.instance=l;case"stylesheet":h=Ss(a.href);var f=e.querySelector(Hl(h));if(f)return n.state.loading|=4,n.instance=f,Wt(f),f;l=cy(a),(h=In.get(h))&&Lf(l,h),f=(e.ownerDocument||e).createElement("link"),Wt(f);var v=f;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),Pe(f,"link",l),n.state.loading|=4,Mu(f,a.precedence,e),n.instance=f;case"script":return f=Rs(a.src),(h=e.querySelector(jl(f)))?(n.instance=h,Wt(h),h):(l=a,(h=In.get(f))&&(l=I({},a),kf(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Wt(h),Pe(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Mu(l,a.precedence,e));return n.instance}function Mu(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Lf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function kf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var xu=null;function fy(e,n,a){if(xu===null){var l=new Map,h=xu=new Map;h.set(a,l)}else h=xu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[rr]||f[De]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function dy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function tA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function my(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ql=null;function eA(){}function nA(e,n,a){if(ql===null)throw Error(s(475));var l=ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Ss(a.href),f=e.querySelector(Hl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Uu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,Wt(f);return}f=e.ownerDocument||e,a=cy(a),(h=In.get(h))&&Lf(a,h),f=f.createElement("link"),Wt(f);var v=f;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),Pe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=Uu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function iA(){if(ql===null)throw Error(s(475));var e=ql;return e.stylesheets&&e.count===0&&Pf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Pf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Lu=null;function Pf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Lu=new Map,n.forEach(rA,e),Lu=null,Uu.call(e))}function rA(e,n){if(!(n.state.loading&4)){var a=Lu.get(e);if(a)var l=a.get(null);else{a=new Map,Lu.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=Uu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Fl={$$typeof:V,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function aA(e,n,a,l,h,f,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ba(0),this.hiddenUpdates=Ba(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function gy(e,n,a,l,h,f,v,E,w,U,G,Z){return e=new aA(e,n,a,v,E,w,U,Z),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),e.current=f,f.stateNode=e,n=gh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},$h(f),e}function py(e){return e?(e=is,e):is}function yy(e,n,a,l,h,f){h=py(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Er(e,l,n),a!==null&&(Je(a,e,n),Cl(a,e,n))}function _y(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function zf(e,n){_y(e,n),(e=e.alternate)&&_y(e,n)}function vy(e){if(e.tag===13){var n=fr(e,67108864);n!==null&&Je(n,e,67108864),zf(e,67108864)}}var ku=!0;function sA(e,n,a,l){var h=b.T;b.T=null;var f=at.p;try{at.p=2,Bf(e,n,a,l)}finally{at.p=f,b.T=h}}function lA(e,n,a,l){var h=b.T;b.T=null;var f=at.p;try{at.p=8,Bf(e,n,a,l)}finally{at.p=f,b.T=h}}function Bf(e,n,a,l){if(ku){var h=Hf(l);if(h===null)Df(e,n,l,Pu,a),Ty(e,l);else if(uA(h,e,n,a,l))l.stopPropagation();else if(Ty(e,l),n&4&&-1<oA.indexOf(e)){for(;h!==null;){var f=_i(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Mn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-$e(v);E.entanglements[1]|=w,v&=~w}ii(f),!(te&6)&&(Tu=tn()+500,Pl(0))}}break;case 13:E=fr(f,2),E!==null&&Je(E,f,2),Su(),zf(f,2)}if(f=Hf(l),f===null&&Df(e,n,l,Pu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Df(e,n,l,null,a)}}function Hf(e){return e=Ga(e),jf(e)}var Pu=null;function jf(e){if(Pu=null,e=xn(e),e!==null){var n=dt(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=jt(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Pu=e,null}function Ey(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bo()){case _e:return 2;case Ce:return 8;case pi:case So:return 32;case Qs:return 268435456;default:return 32}default:return 32}}var qf=!1,Cr=null,Dr=null,Ir=null,Gl=new Map,Ql=new Map,Vr=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ty(e,n){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Kl(e,n,a,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=_i(n),n!==null&&vy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function uA(e,n,a,l,h){switch(n){case"focusin":return Cr=Kl(Cr,e,n,a,l,h),!0;case"dragenter":return Dr=Kl(Dr,e,n,a,l,h),!0;case"mouseover":return Ir=Kl(Ir,e,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Gl.set(f,Kl(Gl.get(f)||null,e,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Ql.set(f,Kl(Ql.get(f)||null,e,n,a,l,h)),!0}return!1}function Ay(e){var n=xn(e.target);if(n!==null){var a=dt(n);if(a!==null){if(n=a.tag,n===13){if(n=jt(a),n!==null){e.blockedOn=n,ir(e.priority,function(){if(a.tag===13){var l=fn(),h=fr(a,l);h!==null&&Je(h,a,l),zf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Hf(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);yn=l,a.target.dispatchEvent(l),yn=null}else return n=_i(a),n!==null&&vy(n),e.blockedOn=a,!1;n.shift()}return!0}function by(e,n,a){zu(e)&&a.delete(n)}function cA(){qf=!1,Cr!==null&&zu(Cr)&&(Cr=null),Dr!==null&&zu(Dr)&&(Dr=null),Ir!==null&&zu(Ir)&&(Ir=null),Gl.forEach(by),Ql.forEach(by)}function Bu(e,n){e.blockedOn===n&&(e.blockedOn=null,qf||(qf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cA)))}var Hu=null;function Sy(e){Hu!==e&&(Hu=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hu===e&&(Hu=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(jf(l||a)===null)continue;break}var f=_i(a);f!==null&&(e.splice(n,3),n-=3,Oh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Yl(e){function n(w){return Bu(w,e)}Cr!==null&&Bu(Cr,e),Dr!==null&&Bu(Dr,e),Ir!==null&&Bu(Ir,e),Gl.forEach(n),Ql.forEach(n);for(var a=0;a<Vr.length;a++){var l=Vr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)Ay(a),a.blockedOn===null&&Vr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[ve]||null;if(typeof f=="function")v||Sy(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ve]||null)E=v.formAction;else if(jf(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Sy(a)}}}function Ff(e){this._internalRoot=e}ju.prototype.render=Ff.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=fn();yy(a,l,e,n,null,null)},ju.prototype.unmount=Ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&Es(),yy(e.current,2,null,e,null,null),Su(),n[yi]=null}};function ju(e){this._internalRoot=e}ju.prototype.unstable_scheduleHydration=function(e){if(e){var n=Io();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Vr.length&&n!==0&&n<Vr[a].priority;a++);Vr.splice(a,0,e),a===0&&Ay(e)}};var Ry=t.version;if(Ry!=="19.0.0")throw Error(s(527,Ry,"19.0.0"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=tt(n),e=e!==null?ht(e):null,e=e===null?null:e.stateNode,e};var hA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{Zi=qu.inject(hA),je=qu}catch{}}return Xl.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",h=jg,f=qg,v=Fg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=gy(e,1,!1,null,null,a,l,h,f,v,E,null),e[yi]=n.current,Cf(e.nodeType===8?e.parentNode:e),new Ff(n)},Xl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,h="",f=jg,v=qg,E=Fg,w=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),n=gy(e,1,!0,n,a??null,l,h,f,v,E,w,U),n.context=py(null),a=n.current,l=fn(),h=vr(l),h.callback=null,Er(a,h,l),n.current.lanes=l,oe(n,l),ii(n),e[yi]=n.current,Cf(e),new ju(n)},Xl.version="19.0.0",Xl}var Uy;function TA(){if(Uy)return Kf.exports;Uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Kf.exports=EA(),Kf.exports}var AA=TA();const bA="/assets/envelope-D9bo8ib9.png";var Zl={},Ly;function SA(){if(Ly)return Zl;Ly=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.parse=d,Zl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const D=function(){};return D.prototype=Object.create(null),D})();function d(D,V){const k=new c,K=D.length;if(K<2)return k;const H=(V==null?void 0:V.decode)||T;let Y=0;do{const et=D.indexOf("=",Y);if(et===-1)break;const J=D.indexOf(";",Y),ut=J===-1?K:J;if(et>ut){Y=D.lastIndexOf(";",et-1)+1;continue}const ot=m(D,Y,et),bt=p(D,et,ot),M=D.slice(ot,bt);if(k[M]===void 0){let S=m(D,et+1,ut),b=p(D,ut,S);const I=H(D.slice(S,b));k[M]=I}Y=ut+1}while(Y<K);return k}function m(D,V,k){do{const K=D.charCodeAt(V);if(K!==32&&K!==9)return V}while(++V<k);return k}function p(D,V,k){for(;V>k;){const K=D.charCodeAt(--V);if(K!==32&&K!==9)return V+1}return k}function y(D,V,k){const K=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(D))throw new TypeError(`argument name is invalid: ${D}`);const H=K(V);if(!t.test(H))throw new TypeError(`argument val is invalid: ${V}`);let Y=D+"="+H;if(!k)return Y;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);Y+="; Max-Age="+k.maxAge}if(k.domain){if(!i.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);Y+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);Y+="; Path="+k.path}if(k.expires){if(!R(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);Y+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(Y+="; HttpOnly"),k.secure&&(Y+="; Secure"),k.partitioned&&(Y+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return Y}function T(D){if(D.indexOf("%")===-1)return D;try{return decodeURIComponent(D)}catch{return D}}function R(D){return o.call(D)==="[object Date]"}return Zl}SA();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ky="popstate";function RA(r={}){function t(s,o){let{pathname:c,search:d,hash:m}=s.location;return fd("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:lo(o)}return CA(t,i,null,r)}function ee(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function li(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wA(){return Math.random().toString(36).substring(2,10)}function Py(r,t){return{usr:r.state,key:r.key,idx:t}}function fd(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ps(t):t,state:i,key:t&&t.key||s||wA()}}function lo({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ps(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function CA(r,t,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,m="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function R(){m="POP";let H=T(),Y=H==null?null:H-y;y=H,p&&p({action:m,location:K.location,delta:Y})}function D(H,Y){m="PUSH";let et=fd(K.location,H,Y);y=T()+1;let J=Py(et,y),ut=K.createHref(et);try{d.pushState(J,"",ut)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;o.location.assign(ut)}c&&p&&p({action:m,location:K.location,delta:1})}function V(H,Y){m="REPLACE";let et=fd(K.location,H,Y);y=T();let J=Py(et,y),ut=K.createHref(et);d.replaceState(J,"",ut),c&&p&&p({action:m,location:K.location,delta:0})}function k(H){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,et=typeof H=="string"?H:lo(H);return et=et.replace(/ $/,"%20"),ee(Y,`No window.location.(origin|href) available to create URL for href: ${et}`),new URL(et,Y)}let K={get action(){return m},get location(){return r(o,d)},listen(H){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ky,R),p=H,()=>{o.removeEventListener(ky,R),p=null}},createHref(H){return t(o,H)},createURL:k,encodeLocation(H){let Y=k(H);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:D,replace:V,go(H){return d.go(H)}};return K}function ov(r,t,i="/"){return DA(r,t,i,!1)}function DA(r,t,i,s){let o=typeof t=="string"?Ps(t):t,c=Pr(o.pathname||"/",i);if(c==null)return null;let d=uv(r);IA(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=BA(c);m=PA(d[p],y,s)}return m}function uv(r,t=[],i=[],s=""){let o=(c,d,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Hi([s,p.relativePath]),T=i.concat(p);c.children&&c.children.length>0&&(ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uv(c.children,t,T,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:LA(y,c.index),routesMeta:T})};return r.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let p of cv(c.path))o(c,d,p)}),t}function cv(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=cv(s.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function IA(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:kA(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var VA=/^:[\w-]+$/,OA=3,NA=2,MA=1,xA=10,UA=-2,zy=r=>r==="*";function LA(r,t){let i=r.split("/"),s=i.length;return i.some(zy)&&(s+=UA),t&&(s+=NA),i.filter(o=>!zy(o)).reduce((o,c)=>o+(VA.test(c)?OA:c===""?MA:xA),s)}function kA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function PA(r,t,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=c==="/"?t:t.slice(c.length)||"/",R=lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),D=p.route;if(!R&&y&&i&&!s[s.length-1].route.index&&(R=lc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!R)return null;Object.assign(o,R.params),d.push({params:o,pathname:Hi([c,R.pathname]),pathnameBase:FA(Hi([c,R.pathnameBase])),route:D}),R.pathnameBase!=="/"&&(c=Hi([c,R.pathnameBase]))}return d}function lc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=zA(r.path,r.caseSensitive,r.end),o=t.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:R},D)=>{if(T==="*"){let k=m[D]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const V=m[D];return R&&!V?y[T]=void 0:y[T]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function zA(r,t=!1,i=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function BA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Pr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function HA(r,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ps(r):r;return{pathname:i?i.startsWith("/")?i:jA(i,t):t,search:GA(s),hash:QA(o)}}function jA(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Zf(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qA(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function hv(r){let t=qA(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function fv(r,t,i,s=!1){let o;typeof r=="string"?o=Ps(r):(o={...r},ee(!o.pathname||!o.pathname.includes("?"),Zf("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),Zf("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),Zf("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=i;else{let R=t.length-1;if(!s&&d.startsWith("..")){let D=d.split("/");for(;D[0]==="..";)D.shift(),R-=1;o.pathname=D.join("/")}m=R>=0?t[R]:"/"}let p=HA(o,m),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Hi=r=>r.join("/").replace(/\/\/+/g,"/"),FA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),GA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,QA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function KA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var dv=["POST","PUT","PATCH","DELETE"];new Set(dv);var YA=["GET",...dv];new Set(YA);var zs=Q.createContext(null);zs.displayName="DataRouter";var wc=Q.createContext(null);wc.displayName="DataRouterState";var mv=Q.createContext({isTransitioning:!1});mv.displayName="ViewTransition";var $A=Q.createContext(new Map);$A.displayName="Fetchers";var XA=Q.createContext(null);XA.displayName="Await";var fi=Q.createContext(null);fi.displayName="Navigation";var po=Q.createContext(null);po.displayName="Location";var Ki=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var kd=Q.createContext(null);kd.displayName="RouteError";function ZA(r,{relative:t}={}){ee(yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(fi),{hash:o,pathname:c,search:d}=_o(r,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:Hi([i,c])),s.createHref({pathname:m,search:d,hash:o})}function yo(){return Q.useContext(po)!=null}function Oa(){return ee(yo(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(po).location}var gv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pv(r){Q.useContext(fi).static||Q.useLayoutEffect(r)}function yv(){let{isDataRoute:r}=Q.useContext(Ki);return r?cb():WA()}function WA(){ee(yo(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(zs),{basename:t,navigator:i}=Q.useContext(fi),{matches:s}=Q.useContext(Ki),{pathname:o}=Oa(),c=JSON.stringify(hv(s)),d=Q.useRef(!1);return pv(()=>{d.current=!0}),Q.useCallback((p,y={})=>{if(li(d.current,gv),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=fv(p,JSON.parse(c),o,y.relative==="path");r==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:Hi([t,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[t,i,c,o,r])}Q.createContext(null);function _o(r,{relative:t}={}){let{matches:i}=Q.useContext(Ki),{pathname:s}=Oa(),o=JSON.stringify(hv(i));return Q.useMemo(()=>fv(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function JA(r,t){return _v(r,t)}function _v(r,t,i,s){var et;ee(yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=Q.useContext(fi),{matches:d}=Q.useContext(Ki),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",R=m&&m.route;{let J=R&&R.path||"";vv(y,!R||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let D=Oa(),V;if(t){let J=typeof t=="string"?Ps(t):t;ee(T==="/"||((et=J.pathname)==null?void 0:et.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${J.pathname}" was given in the \`location\` prop.`),V=J}else V=D;let k=V.pathname||"/",K=k;if(T!=="/"){let J=T.replace(/^\//,"").split("/");K="/"+k.replace(/^\//,"").split("/").slice(J.length).join("/")}let H=!c&&i&&i.matches&&i.matches.length>0?i.matches:ov(r,{pathname:K});li(R||H!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),li(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=rb(H&&H.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:Hi([T,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?T:Hi([T,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),d,i,s);return t&&Y?Q.createElement(po.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Y):Y}function tb(){let r=ub(),t=KA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),i?Q.createElement("pre",{style:o},i):null,d)}var eb=Q.createElement(tb,null),nb=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Q.createElement(Ki.Provider,{value:this.props.routeContext},Q.createElement(kd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ib({routeContext:r,match:t,children:i}){let s=Q.useContext(zs);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(Ki.Provider,{value:r},i)}function rb(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:R}=i,D=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!R||R[y.route.id]===void 0);if(y.route.lazy||D){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let R,D=!1,V=null,k=null;i&&(R=c&&y.route.id?c[y.route.id]:void 0,V=y.route.errorElement||eb,d&&(m<0&&T===0?(vv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,k=null):m===T&&(D=!0,k=y.route.hydrateFallbackElement||null)));let K=t.concat(o.slice(0,T+1)),H=()=>{let Y;return R?Y=V:D?Y=k:y.route.Component?Y=Q.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,Q.createElement(ib,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:Y})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?Q.createElement(nb,{location:i.location,revalidation:i.revalidation,component:V,error:R,children:H(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):H()},null)}function Pd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ab(r){let t=Q.useContext(zs);return ee(t,Pd(r)),t}function sb(r){let t=Q.useContext(wc);return ee(t,Pd(r)),t}function lb(r){let t=Q.useContext(Ki);return ee(t,Pd(r)),t}function zd(r){let t=lb(r),i=t.matches[t.matches.length-1];return ee(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function ob(){return zd("useRouteId")}function ub(){var s;let r=Q.useContext(kd),t=sb("useRouteError"),i=zd("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[i]}function cb(){let{router:r}=ab("useNavigate"),t=zd("useNavigate"),i=Q.useRef(!1);return pv(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{li(i.current,gv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...c}))},[r,t])}var By={};function vv(r,t,i){!t&&!By[r]&&(By[r]=!0,li(!1,i))}Q.memo(hb);function hb({routes:r,future:t,state:i}){return _v(r,void 0,i,t)}function Wu(r){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fb({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ee(!yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ps(i));let{pathname:p="/",search:y="",hash:T="",state:R=null,key:D="default"}=i,V=Q.useMemo(()=>{let k=Pr(p,d);return k==null?null:{location:{pathname:k,search:y,hash:T,state:R,key:D},navigationType:s}},[d,p,y,T,R,D,s]);return li(V!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:Q.createElement(fi.Provider,{value:m},Q.createElement(po.Provider,{children:t,value:V}))}function Wf({children:r,location:t}){return JA(dd(r),t)}function dd(r,t=[]){let i=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...t,o];if(s.type===Q.Fragment){i.push.apply(i,dd(s.props.children,c));return}ee(s.type===Wu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=dd(s.props.children,c)),i.push(d)}),i}var Ju="get",tc="application/x-www-form-urlencoded";function Cc(r){return r!=null&&typeof r.tagName=="string"}function db(r){return Cc(r)&&r.tagName.toLowerCase()==="button"}function mb(r){return Cc(r)&&r.tagName.toLowerCase()==="form"}function gb(r){return Cc(r)&&r.tagName.toLowerCase()==="input"}function pb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yb(r,t){return r.button===0&&(!t||t==="_self")&&!pb(r)}var Fu=null;function _b(){if(Fu===null)try{new FormData(document.createElement("form"),0),Fu=!1}catch{Fu=!0}return Fu}var vb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(r){return r!=null&&!vb.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):r}function Eb(r,t){let i,s,o,c,d;if(mb(r)){let m=r.getAttribute("action");s=m?Pr(m,t):null,i=r.getAttribute("method")||Ju,o=Jf(r.getAttribute("enctype"))||tc,c=new FormData(r)}else if(db(r)||gb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Pr(p,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Ju,o=Jf(r.getAttribute("formenctype"))||Jf(m.getAttribute("enctype"))||tc,c=new FormData(m,r),!_b()){let{name:y,type:T,value:R}=r;if(T==="image"){let D=y?`${y}.`:"";c.append(`${D}x`,"0"),c.append(`${D}y`,"0")}else y&&c.append(y,R)}}else{if(Cc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ju,s=null,o=tc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function Bd(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Tb(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ab(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bb(r,t,i){let s=await Promise.all(r.map(async o=>{let c=t.routes[o.route.id];if(c){let d=await Tb(c,i);return d.links?d.links():[]}return[]}));return Cb(s.flat(1).filter(Ab).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hy(r,t,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?t.filter((p,y)=>d(p,y)||m(p,y)):c==="data"?t.filter((p,y)=>{var R;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let D=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((R=i[0])==null?void 0:R.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function Sb(r,t){return Rb(r.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Rb(r){return[...new Set(r)]}function wb(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function Cb(r,t){let i=new Set;return new Set(t),r.reduce((s,o)=>{let c=JSON.stringify(wb(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function Db(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Ib(){let r=Q.useContext(zs);return Bd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Vb(){let r=Q.useContext(wc);return Bd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hd=Q.createContext(void 0);Hd.displayName="FrameworkContext";function Ev(){let r=Q.useContext(Hd);return Bd(r,"You must render this element inside a <HydratedRouter> element"),r}function Ob(r,t){let i=Q.useContext(Hd),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:R}=t,D=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let K=Y=>{Y.forEach(et=>{d(et.isIntersecting)})},H=new IntersectionObserver(K,{threshold:.5});return D.current&&H.observe(D.current),()=>{H.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let V=()=>{o(!0)},k=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,D,{}]:[c,D,{onFocus:Wl(m,V),onBlur:Wl(p,k),onMouseEnter:Wl(y,V),onMouseLeave:Wl(T,k),onTouchStart:Wl(R,V)}]:[!1,D,{}]}function Wl(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function Nb({page:r,...t}){let{router:i}=Ib(),s=Q.useMemo(()=>ov(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Q.createElement(xb,{page:r,matches:s,...t}):null}function Mb(r){let{manifest:t,routeModules:i}=Ev(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return bb(r,t,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,t,i]),s}function xb({page:r,matches:t,...i}){let s=Oa(),{manifest:o,routeModules:c}=Ev(),{loaderData:d,matches:m}=Vb(),p=Q.useMemo(()=>Hy(r,t,m,o,s,"data"),[r,t,m,o,s]),y=Q.useMemo(()=>Hy(r,t,m,o,s,"assets"),[r,t,m,o,s]),T=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,k=!1;if(t.forEach(H=>{var et;let Y=o.routes[H.route.id];!Y||!Y.hasLoader||(!p.some(J=>J.route.id===H.route.id)&&H.route.id in d&&((et=c[H.route.id])!=null&&et.shouldRevalidate)||Y.hasClientLoader?k=!0:V.add(H.route.id))}),V.size===0)return[];let K=Db(r);return k&&V.size>0&&K.searchParams.set("_routes",t.filter(H=>V.has(H.route.id)).map(H=>H.route.id).join(",")),[K.pathname+K.search]},[d,s,o,p,t,r,c]),R=Q.useMemo(()=>Sb(y,o),[y,o]),D=Mb(y);return Q.createElement(Q.Fragment,null,T.map(V=>Q.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...i})),R.map(V=>Q.createElement("link",{key:V,rel:"modulepreload",href:V,...i})),D.map(({key:V,link:k})=>Q.createElement("link",{key:V,...k})))}function Ub(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Tv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tv&&(window.__reactRouterVersion="7.1.5")}catch{}function Lb({basename:r,children:t,window:i}){let s=Q.useRef();s.current==null&&(s.current=RA({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>d(p))},[d]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(fb,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:o})}var Av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bv=Q.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:T,viewTransition:R,...D},V){let{basename:k}=Q.useContext(fi),K=typeof y=="string"&&Av.test(y),H,Y=!1;if(typeof y=="string"&&K&&(H=y,Tv))try{let b=new URL(window.location.href),I=y.startsWith("//")?new URL(b.protocol+y):new URL(y),x=Pr(I.pathname,k);I.origin===b.origin&&x!=null?y=x+I.search+I.hash:Y=!0}catch{li(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=ZA(y,{relative:o}),[J,ut,ot]=Ob(s,D),bt=Bb(y,{replace:d,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:R});function M(b){t&&t(b),b.defaultPrevented||bt(b)}let S=Q.createElement("a",{...D,...ot,href:H||et,onClick:Y||c?t:M,ref:Ub(V,ut),target:p,"data-discover":!K&&i==="render"?"true":void 0});return J&&!K?Q.createElement(Q.Fragment,null,S,Q.createElement(Nb,{page:et})):S});bv.displayName="Link";var kb=Q.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...y},T){let R=_o(d,{relative:y.relative}),D=Oa(),V=Q.useContext(wc),{navigator:k,basename:K}=Q.useContext(fi),H=V!=null&&Gb(R)&&m===!0,Y=k.encodeLocation?k.encodeLocation(R).pathname:R.pathname,et=D.pathname,J=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;i||(et=et.toLowerCase(),J=J?J.toLowerCase():null,Y=Y.toLowerCase()),J&&K&&(J=Pr(J,K)||J);const ut=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ot=et===Y||!o&&et.startsWith(Y)&&et.charAt(ut)==="/",bt=J!=null&&(J===Y||!o&&J.startsWith(Y)&&J.charAt(Y.length)==="/"),M={isActive:ot,isPending:bt,isTransitioning:H},S=ot?t:void 0,b;typeof s=="function"?b=s(M):b=[s,ot?"active":null,bt?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(M):c;return Q.createElement(bv,{...y,"aria-current":S,className:b,ref:T,style:I,to:d,viewTransition:m},typeof p=="function"?p(M):p)});kb.displayName="NavLink";var Pb=Q.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Ju,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:R,...D},V)=>{let k=qb(),K=Fb(m,{relative:y}),H=d.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&Av.test(m),et=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let ut=J.nativeEvent.submitter,ot=(ut==null?void 0:ut.getAttribute("formmethod"))||d;k(ut||J.currentTarget,{fetcherKey:t,method:ot,navigate:i,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:R})};return Q.createElement("form",{ref:V,method:H,action:K,onSubmit:s?p:et,...D,"data-discover":!Y&&r==="render"?"true":void 0})});Pb.displayName="Form";function zb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sv(r){let t=Q.useContext(zs);return ee(t,zb(r)),t}function Bb(r,{target:t,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=yv(),p=Oa(),y=_o(r,{relative:c});return Q.useCallback(T=>{if(yb(T,t)){T.preventDefault();let R=i!==void 0?i:lo(p)===lo(y);m(r,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,m,y,i,s,t,r,o,c,d])}var Hb=0,jb=()=>`__${String(++Hb)}__`;function qb(){let{router:r}=Sv("useSubmit"),{basename:t}=Q.useContext(fi),i=ob();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:m,formData:p,body:y}=Eb(s,t);if(o.navigate===!1){let T=o.fetcherKey||jb();await r.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,i])}function Fb(r,{relative:t}={}){let{basename:i}=Q.useContext(fi),s=Q.useContext(Ki);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={..._o(r||".",{relative:t})},d=Oa();if(r==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(R=>R).forEach(R=>m.append("index",R));let T=m.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Hi([i,c.pathname])),lo(c)}function Gb(r,t={}){let i=Q.useContext(mv);ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Sv("useViewTransitionState"),o=_o(r,{relative:t.relative});if(!i.isTransitioning)return!1;let c=Pr(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Pr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return lc(o.pathname,d)!=null||lc(o.pathname,c)!=null}new TextEncoder;const Qb=({messageShown:r})=>{const[t,i]=Q.useState(!1),s=yv(),o=()=>{i(!0),s("/photobooth")};return yt.jsxs("div",{className:"relative mt-8",children:[yt.jsx("img",{src:bA,alt:"Envelope",className:`transition-transform transform ${r?"animate-openEnvelope":""}`}),r&&!t&&yt.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:yt.jsx("div",{className:"bg-white p-6 shadow-lg rounded-lg max-w-lg w-full overflow-hidden",children:yt.jsxs("div",{className:"letter-content p-6 border-2 border-black rounded-lg bg-[#f7f7f7]",children:[yt.jsx("p",{className:"text-lg text-gray-800 font-mono whitespace-pre-line leading-relaxed",children:"Hi Kisyaaaa AHAHHAHAHAAHA, Tuo nimog wala koy buhaton ig Valentines noooo, joke ra bitaw, anywayss Happy Hearts dayy, pwede ba nako kawaton imo dughan  HAHAHAHHAHA, bitawwww I know you are so busy these past days so no matter unsa may nahitabo you deserve to rest, and also so proud of you hehe, you kknow naman ata ana always, I know naa kay mga struggles or Challenges na imo gi tagoan nga di nimo ganahan i sulti, I just want you to know again n again n again nga raa rako pirme if ever you want someone you can run or talk to, Hapit nasad mahuman bitaw klase kaya rana, and I know you are doing your very99999x best so I am going to do my 999999x too HAHHAHAHAHA, anyways basin ga hilak naka diha ha charot, HAPPY HEART'S DAY KISSHA REY ABELINAAA!!!"}),yt.jsx("div",{className:"flex justify-end mt-4",children:yt.jsx("button",{onClick:o,className:"bg-blue-500 text-white px-6 py-3 rounded-md shadow-md hover:bg-blue-600",children:"Next"})})]})})})]})};var jy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Kb=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},wv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,m=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=c>>2,R=(c&3)<<4|m>>4;let D=(m&15)<<2|y>>6,V=y&63;p||(V=64,d||(D=64)),s.push(i[T],i[R],i[D],i[V])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Rv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Kb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const R=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||R==null)throw new Yb;const D=c<<2|m>>4;if(s.push(D),y!==64){const V=m<<4&240|y>>2;if(s.push(V),R!==64){const k=y<<6&192|R;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Yb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $b=function(r){const t=Rv(r);return wv.encodeByteArray(t,!0)},oc=function(r){return $b(r).replace(/\./g,"")},Xb=function(r){try{return wv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=()=>Zb().__FIREBASE_DEFAULTS__,Jb=()=>{if(typeof process>"u"||typeof jy>"u")return;const r=jy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Xb(r[1]);return t&&JSON.parse(t)},jd=()=>{try{return Wb()||Jb()||tS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},eS=r=>{var t,i;return(i=(t=jd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},Cv=r=>{const t=eS(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},Dv=()=>{var r;return(r=jd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[oc(JSON.stringify(i)),oc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rS(){var r;const t=(r=jd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sS(){return!rS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Vv(){try{return typeof indexedDB=="object"}catch{return!1}}function Ov(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}function lS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="FirebaseError";class Yi extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=oS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?uS(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Yi(o,m,s)}}function uS(r,t){return r.replace(cS,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const cS=/\{\$([^}]+)}/g;function md(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=t[o];if(qy(c)&&qy(d)){if(!md(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function qy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=1e3,fS=2,dS=4*60*60*1e3,mS=.5;function Fy(r,t=hS,i=fS){const s=t*Math.pow(i,r),o=Math.round(mS*s*(Math.random()-.5)*2);return Math.min(dS,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(r){return r&&r._delegate?r._delegate:r}class oi{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new nS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yS(t))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=ba){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ba){return this.instances.has(t)}getOptions(t=ba){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ba){return this.component?this.component.multipleInstances?t:ba:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pS(r){return r===ba?void 0:r}function yS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new gS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const vS={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},ES=kt.INFO,TS={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},AS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=TS[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qd{constructor(t){this.name=t,this._logLevel=ES,this._logHandler=AS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const bS=(r,t)=>t.some(i=>r instanceof i);let Gy,Qy;function SS(){return Gy||(Gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RS(){return Qy||(Qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nv=new WeakMap,gd=new WeakMap,Mv=new WeakMap,td=new WeakMap,Fd=new WeakMap;function wS(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Mr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Nv.set(i,r)}).catch(()=>{}),Fd.set(t,r),t}function CS(r){if(gd.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});gd.set(r,t)}let pd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return gd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Mv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Mr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function DS(r){pd=r(pd)}function IS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(ed(this),t,...i);return Mv.set(s,t.sort?t.sort():[t]),Mr(s)}:RS().includes(r)?function(...t){return r.apply(ed(this),t),Mr(Nv.get(this))}:function(...t){return Mr(r.apply(ed(this),t))}}function VS(r){return typeof r=="function"?IS(r):(r instanceof IDBTransaction&&CS(r),bS(r,SS())?new Proxy(r,pd):r)}function Mr(r){if(r instanceof IDBRequest)return wS(r);if(td.has(r))return td.get(r);const t=VS(r);return t!==r&&(td.set(r,t),Fd.set(t,r)),t}const ed=r=>Fd.get(r);function xv(r,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),m=Mr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Mr(d.result),p.oldVersion,p.newVersion,Mr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const OS=["get","getKey","getAll","getAllKeys","count"],NS=["put","add","delete","clear"],nd=new Map;function Ky(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(nd.get(t))return nd.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=NS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||OS.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return nd.set(t,c),c}DS(r=>({...r,get:(t,i,s)=>Ky(t,i)||r.get(t,i,s),has:(t,i)=>!!Ky(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function xS(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yd="@firebase/app",Yy="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new qd("@firebase/app"),US="@firebase/app-compat",LS="@firebase/analytics-compat",kS="@firebase/analytics",PS="@firebase/app-check-compat",zS="@firebase/app-check",BS="@firebase/auth",HS="@firebase/auth-compat",jS="@firebase/database",qS="@firebase/data-connect",FS="@firebase/database-compat",GS="@firebase/functions",QS="@firebase/functions-compat",KS="@firebase/installations",YS="@firebase/installations-compat",$S="@firebase/messaging",XS="@firebase/messaging-compat",ZS="@firebase/performance",WS="@firebase/performance-compat",JS="@firebase/remote-config",tR="@firebase/remote-config-compat",eR="@firebase/storage",nR="@firebase/storage-compat",iR="@firebase/firestore",rR="@firebase/vertexai",aR="@firebase/firestore-compat",sR="firebase",lR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="[DEFAULT]",oR={[yd]:"fire-core",[US]:"fire-core-compat",[kS]:"fire-analytics",[LS]:"fire-analytics-compat",[zS]:"fire-app-check",[PS]:"fire-app-check-compat",[BS]:"fire-auth",[HS]:"fire-auth-compat",[jS]:"fire-rtdb",[qS]:"fire-data-connect",[FS]:"fire-rtdb-compat",[GS]:"fire-fn",[QS]:"fire-fn-compat",[KS]:"fire-iid",[YS]:"fire-iid-compat",[$S]:"fire-fcm",[XS]:"fire-fcm-compat",[ZS]:"fire-perf",[WS]:"fire-perf-compat",[JS]:"fire-rc",[tR]:"fire-rc-compat",[eR]:"fire-gcs",[nR]:"fire-gcs-compat",[iR]:"fire-fst",[aR]:"fire-fst-compat",[rR]:"fire-vertex","fire-js":"fire-js",[sR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,uR=new Map,vd=new Map;function $y(r,t){try{r.container.addComponent(t)}catch(i){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Fi(r){const t=r.name;if(vd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;vd.set(t,r);for(const i of uc.values())$y(i,r);for(const i of uR.values())$y(i,r);return!0}function Ic(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Uv(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new Dc("app","Firebase",cR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=lR;function kv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:_d,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(i||(i=Dv()),!i)throw xr.create("no-options");const c=uc.get(o);if(c){if(md(i,c.options)&&md(s,c.config))return c;throw xr.create("duplicate-app",{appName:o})}const d=new _S(o);for(const p of vd.values())d.addComponent(p);const m=new hR(i,s,d);return uc.set(o,m),m}function Pv(r=_d){const t=uc.get(r);if(!t&&r===_d&&Dv())return kv();if(!t)throw xr.create("no-app",{appName:r});return t}function On(r,t,i){var s;let o=(s=oR[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${t}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(m.join(" "));return}Fi(new oi(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="firebase-heartbeat-database",dR=1,oo="firebase-heartbeat-store";let id=null;function zv(){return id||(id=xv(fR,dR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(oo)}catch(i){console.warn(i)}}}}).catch(r=>{throw xr.create("idb-open",{originalErrorMessage:r.message})})),id}async function mR(r){try{const i=(await zv()).transaction(oo),s=await i.objectStore(oo).get(Bv(r));return await i.done,s}catch(t){if(t instanceof Yi)qi.warn(t.message);else{const i=xr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(i.message)}}}async function Xy(r,t){try{const s=(await zv()).transaction(oo,"readwrite");await s.objectStore(oo).put(t,Bv(r)),await s.done}catch(i){if(i instanceof Yi)qi.warn(i.message);else{const s=xr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});qi.warn(s.message)}}}function Bv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1024,pR=30;class yR{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new vR(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Zy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>pR){const d=ER(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Zy(),{heartbeatsToSend:s,unsentEntries:o}=_R(this._heartbeatsCache.heartbeats),c=oc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return qi.warn(i),""}}}function Zy(){return new Date().toISOString().substring(0,10)}function _R(r,t=gR){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Wy(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Wy(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class vR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Vv()?Ov().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await mR(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Xy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Wy(r){return oc(JSON.stringify({version:2,heartbeats:r})).length}function ER(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r){Fi(new oi("platform-logger",t=>new MS(t),"PRIVATE")),Fi(new oi("heartbeat",t=>new yR(t),"PRIVATE")),On(yd,Yy,r),On(yd,Yy,"esm2017"),On("fire-js","")}TR("");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,Hv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function b(){}b.prototype=S.prototype,M.D=S.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(I,x,z){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return S.prototype[x].apply(I,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,S,b){b||(b=0);var I=Array(16);if(typeof S=="string")for(var x=0;16>x;++x)I[x]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(x=0;16>x;++x)I[x]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=M.g[0],b=M.g[1],x=M.g[2];var z=M.g[3],C=S+(z^b&(x^z))+I[0]+3614090360&4294967295;S=b+(C<<7&4294967295|C>>>25),C=z+(x^S&(b^x))+I[1]+3905402710&4294967295,z=S+(C<<12&4294967295|C>>>20),C=x+(b^z&(S^b))+I[2]+606105819&4294967295,x=z+(C<<17&4294967295|C>>>15),C=b+(S^x&(z^S))+I[3]+3250441966&4294967295,b=x+(C<<22&4294967295|C>>>10),C=S+(z^b&(x^z))+I[4]+4118548399&4294967295,S=b+(C<<7&4294967295|C>>>25),C=z+(x^S&(b^x))+I[5]+1200080426&4294967295,z=S+(C<<12&4294967295|C>>>20),C=x+(b^z&(S^b))+I[6]+2821735955&4294967295,x=z+(C<<17&4294967295|C>>>15),C=b+(S^x&(z^S))+I[7]+4249261313&4294967295,b=x+(C<<22&4294967295|C>>>10),C=S+(z^b&(x^z))+I[8]+1770035416&4294967295,S=b+(C<<7&4294967295|C>>>25),C=z+(x^S&(b^x))+I[9]+2336552879&4294967295,z=S+(C<<12&4294967295|C>>>20),C=x+(b^z&(S^b))+I[10]+4294925233&4294967295,x=z+(C<<17&4294967295|C>>>15),C=b+(S^x&(z^S))+I[11]+2304563134&4294967295,b=x+(C<<22&4294967295|C>>>10),C=S+(z^b&(x^z))+I[12]+1804603682&4294967295,S=b+(C<<7&4294967295|C>>>25),C=z+(x^S&(b^x))+I[13]+4254626195&4294967295,z=S+(C<<12&4294967295|C>>>20),C=x+(b^z&(S^b))+I[14]+2792965006&4294967295,x=z+(C<<17&4294967295|C>>>15),C=b+(S^x&(z^S))+I[15]+1236535329&4294967295,b=x+(C<<22&4294967295|C>>>10),C=S+(x^z&(b^x))+I[1]+4129170786&4294967295,S=b+(C<<5&4294967295|C>>>27),C=z+(b^x&(S^b))+I[6]+3225465664&4294967295,z=S+(C<<9&4294967295|C>>>23),C=x+(S^b&(z^S))+I[11]+643717713&4294967295,x=z+(C<<14&4294967295|C>>>18),C=b+(z^S&(x^z))+I[0]+3921069994&4294967295,b=x+(C<<20&4294967295|C>>>12),C=S+(x^z&(b^x))+I[5]+3593408605&4294967295,S=b+(C<<5&4294967295|C>>>27),C=z+(b^x&(S^b))+I[10]+38016083&4294967295,z=S+(C<<9&4294967295|C>>>23),C=x+(S^b&(z^S))+I[15]+3634488961&4294967295,x=z+(C<<14&4294967295|C>>>18),C=b+(z^S&(x^z))+I[4]+3889429448&4294967295,b=x+(C<<20&4294967295|C>>>12),C=S+(x^z&(b^x))+I[9]+568446438&4294967295,S=b+(C<<5&4294967295|C>>>27),C=z+(b^x&(S^b))+I[14]+3275163606&4294967295,z=S+(C<<9&4294967295|C>>>23),C=x+(S^b&(z^S))+I[3]+4107603335&4294967295,x=z+(C<<14&4294967295|C>>>18),C=b+(z^S&(x^z))+I[8]+1163531501&4294967295,b=x+(C<<20&4294967295|C>>>12),C=S+(x^z&(b^x))+I[13]+2850285829&4294967295,S=b+(C<<5&4294967295|C>>>27),C=z+(b^x&(S^b))+I[2]+4243563512&4294967295,z=S+(C<<9&4294967295|C>>>23),C=x+(S^b&(z^S))+I[7]+1735328473&4294967295,x=z+(C<<14&4294967295|C>>>18),C=b+(z^S&(x^z))+I[12]+2368359562&4294967295,b=x+(C<<20&4294967295|C>>>12),C=S+(b^x^z)+I[5]+4294588738&4294967295,S=b+(C<<4&4294967295|C>>>28),C=z+(S^b^x)+I[8]+2272392833&4294967295,z=S+(C<<11&4294967295|C>>>21),C=x+(z^S^b)+I[11]+1839030562&4294967295,x=z+(C<<16&4294967295|C>>>16),C=b+(x^z^S)+I[14]+4259657740&4294967295,b=x+(C<<23&4294967295|C>>>9),C=S+(b^x^z)+I[1]+2763975236&4294967295,S=b+(C<<4&4294967295|C>>>28),C=z+(S^b^x)+I[4]+1272893353&4294967295,z=S+(C<<11&4294967295|C>>>21),C=x+(z^S^b)+I[7]+4139469664&4294967295,x=z+(C<<16&4294967295|C>>>16),C=b+(x^z^S)+I[10]+3200236656&4294967295,b=x+(C<<23&4294967295|C>>>9),C=S+(b^x^z)+I[13]+681279174&4294967295,S=b+(C<<4&4294967295|C>>>28),C=z+(S^b^x)+I[0]+3936430074&4294967295,z=S+(C<<11&4294967295|C>>>21),C=x+(z^S^b)+I[3]+3572445317&4294967295,x=z+(C<<16&4294967295|C>>>16),C=b+(x^z^S)+I[6]+76029189&4294967295,b=x+(C<<23&4294967295|C>>>9),C=S+(b^x^z)+I[9]+3654602809&4294967295,S=b+(C<<4&4294967295|C>>>28),C=z+(S^b^x)+I[12]+3873151461&4294967295,z=S+(C<<11&4294967295|C>>>21),C=x+(z^S^b)+I[15]+530742520&4294967295,x=z+(C<<16&4294967295|C>>>16),C=b+(x^z^S)+I[2]+3299628645&4294967295,b=x+(C<<23&4294967295|C>>>9),C=S+(x^(b|~z))+I[0]+4096336452&4294967295,S=b+(C<<6&4294967295|C>>>26),C=z+(b^(S|~x))+I[7]+1126891415&4294967295,z=S+(C<<10&4294967295|C>>>22),C=x+(S^(z|~b))+I[14]+2878612391&4294967295,x=z+(C<<15&4294967295|C>>>17),C=b+(z^(x|~S))+I[5]+4237533241&4294967295,b=x+(C<<21&4294967295|C>>>11),C=S+(x^(b|~z))+I[12]+1700485571&4294967295,S=b+(C<<6&4294967295|C>>>26),C=z+(b^(S|~x))+I[3]+2399980690&4294967295,z=S+(C<<10&4294967295|C>>>22),C=x+(S^(z|~b))+I[10]+4293915773&4294967295,x=z+(C<<15&4294967295|C>>>17),C=b+(z^(x|~S))+I[1]+2240044497&4294967295,b=x+(C<<21&4294967295|C>>>11),C=S+(x^(b|~z))+I[8]+1873313359&4294967295,S=b+(C<<6&4294967295|C>>>26),C=z+(b^(S|~x))+I[15]+4264355552&4294967295,z=S+(C<<10&4294967295|C>>>22),C=x+(S^(z|~b))+I[6]+2734768916&4294967295,x=z+(C<<15&4294967295|C>>>17),C=b+(z^(x|~S))+I[13]+1309151649&4294967295,b=x+(C<<21&4294967295|C>>>11),C=S+(x^(b|~z))+I[4]+4149444226&4294967295,S=b+(C<<6&4294967295|C>>>26),C=z+(b^(S|~x))+I[11]+3174756917&4294967295,z=S+(C<<10&4294967295|C>>>22),C=x+(S^(z|~b))+I[2]+718787259&4294967295,x=z+(C<<15&4294967295|C>>>17),C=b+(z^(x|~S))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var b=S-this.blockSize,I=this.B,x=this.h,z=0;z<S;){if(x==0)for(;z<=b;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<S;)if(I[x++]=M.charCodeAt(z++),x==this.blockSize){o(this,I),x=0;break}}else for(;z<S;)if(I[x++]=M[z++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var b=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=b&255,b/=256;for(this.u(M),M=Array(16),S=b=0;4>S;++S)for(var I=0;32>I;I+=8)M[b++]=this.g[S]>>>I&255;return M};function c(M,S){var b=m;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=S(M)}function d(M,S){this.h=S;for(var b=[],I=!0,x=M.length-1;0<=x;x--){var z=M[x]|0;I&&z==S||(b[x]=z,I=!1)}this.g=b}var m={};function p(M){return-128<=M&&128>M?c(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return R;if(0>M)return H(y(-M));for(var S=[],b=1,I=0;M>=b;I++)S[I]=M/b|0,b*=4294967296;return new d(S,0)}function T(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return H(T(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(S,8)),I=R,x=0;x<M.length;x+=8){var z=Math.min(8,M.length-x),C=parseInt(M.substring(x,x+z),S);8>z?(z=y(Math.pow(S,z)),I=I.j(z).add(y(C))):(I=I.j(b),I=I.add(y(C)))}return I}var R=p(0),D=p(1),V=p(16777216);r=d.prototype,r.m=function(){if(K(this))return-H(this).m();for(var M=0,S=1,b=0;b<this.g.length;b++){var I=this.i(b);M+=(0<=I?I:4294967296+I)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(K(this))return"-"+H(this).toString(M);for(var S=y(Math.pow(M,6)),b=this,I="";;){var x=ut(b,S).g;b=Y(b,x.j(S));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=x,k(b))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function K(M){return M.h==-1}r.l=function(M){return M=Y(this,M),K(M)?-1:k(M)?0:1};function H(M){for(var S=M.g.length,b=[],I=0;I<S;I++)b[I]=~M.g[I];return new d(b,~M.h).add(D)}r.abs=function(){return K(this)?H(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),b=[],I=0,x=0;x<=S;x++){var z=I+(this.i(x)&65535)+(M.i(x)&65535),C=(z>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);I=C>>>16,z&=65535,C&=65535,b[x]=C<<16|z}return new d(b,b[b.length-1]&-2147483648?-1:0)};function Y(M,S){return M.add(H(S))}r.j=function(M){if(k(this)||k(M))return R;if(K(this))return K(M)?H(this).j(H(M)):H(H(this).j(M));if(K(M))return H(this.j(H(M)));if(0>this.l(V)&&0>M.l(V))return y(this.m()*M.m());for(var S=this.g.length+M.g.length,b=[],I=0;I<2*S;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var x=0;x<M.g.length;x++){var z=this.i(I)>>>16,C=this.i(I)&65535,ye=M.i(x)>>>16,he=M.i(x)&65535;b[2*I+2*x]+=C*he,et(b,2*I+2*x),b[2*I+2*x+1]+=z*he,et(b,2*I+2*x+1),b[2*I+2*x+1]+=C*ye,et(b,2*I+2*x+1),b[2*I+2*x+2]+=z*ye,et(b,2*I+2*x+2)}for(I=0;I<S;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=S;I<2*S;I++)b[I]=0;return new d(b,0)};function et(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function J(M,S){this.g=M,this.h=S}function ut(M,S){if(k(S))throw Error("division by zero");if(k(M))return new J(R,R);if(K(M))return S=ut(H(M),S),new J(H(S.g),H(S.h));if(K(S))return S=ut(M,H(S)),new J(H(S.g),S.h);if(30<M.g.length){if(K(M)||K(S))throw Error("slowDivide_ only works with positive integers.");for(var b=D,I=S;0>=I.l(M);)b=ot(b),I=ot(I);var x=bt(b,1),z=bt(I,1);for(I=bt(I,2),b=bt(b,2);!k(I);){var C=z.add(I);0>=C.l(M)&&(x=x.add(b),z=C),I=bt(I,1),b=bt(b,1)}return S=Y(M,x.j(S)),new J(x,S)}for(x=R;0<=M.l(S);){for(b=Math.max(1,Math.floor(M.m()/S.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=y(b),C=z.j(S);K(C)||0<C.l(M);)b-=I,z=y(b),C=z.j(S);k(z)&&(z=D),x=x.add(z),M=Y(M,C)}return new J(x,M)}r.A=function(M){return ut(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)&M.i(I);return new d(b,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)|M.i(I);return new d(b,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)^M.i(I);return new d(b,this.h^M.h)};function ot(M){for(var S=M.g.length+1,b=[],I=0;I<S;I++)b[I]=M.i(I)<<1|M.i(I-1)>>>31;return new d(b,M.h)}function bt(M,S){var b=S>>5;S%=32;for(var I=M.g.length-b,x=[],z=0;z<I;z++)x[z]=0<S?M.i(z+b)>>>S|M.i(z+b+1)<<32-S:M.i(z+b);return new d(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Hv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Ur=d}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jv,Jl,qv,ec,Ed,Fv,Gv,Qv;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&t(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var q=_++;return{value:g(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function T(u,g,_){return u.call.apply(u.bind,arguments)}function R(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(g,P)}}return function(){return u.apply(g,arguments)}}function D(u,g,_){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:R,D.apply(null,arguments)}function V(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function k(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,q){for(var nt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)nt[Mt-2]=arguments[Mt];return g.prototype[P].apply(A,nt)}}function K(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function H(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const P=u.length||0,q=A.length||0;u.length=P+q;for(let nt=0;nt<q;nt++)u[P+nt]=A[nt]}else u.push(A)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function et(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function ut(u){return ut[" "](u),u}ut[" "]=function(){};var ot=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function bt(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function M(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function S(u){const g={};for(const _ in u)g[_]=u[_];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,g){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let q=0;q<b.length;q++)_=b[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function x(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function z(u){m.setTimeout(()=>{throw u},0)}function C(){var u=jt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,_){const A=he.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new Y(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let _t,dt=!1,jt=new ye,O=()=>{const u=m.Promise.resolve(void 0);_t=()=>{u.then(tt)}};var tt=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){z(_)}var g=he;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}dt=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function wt(u,g){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ot){t:{try{ut(g.nodeName);var P=!0;break t}catch{}P=!1}P||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}k(wt,rt);var St={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function ie(u,g,_,A,P){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=P,this.key=++Pt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,g,_,A,P){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var nt=dn(u,g,A,P);return-1<nt?(g=u[nt],_||(g.fa=!1)):(g=new ie(g,this.src,q,!!A,P),g.fa=_,u.push(g)),g};function mi(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,g,void 0),q;(q=0<=P)&&Array.prototype.splice.call(A,P,1),q&&(Gt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function dn(u,g,_,A){for(var P=0;P<u.length;++P){var q=u[P];if(!q.da&&q.listener==g&&q.capture==!!_&&q.ha==A)return P}return-1}var $i="closure_lm_"+(1e6*Math.random()|0),Xi={};function gi(u,g,_,A,P){if(Array.isArray(g)){for(var q=0;q<g.length;q++)gi(u,g[q],_,A,P);return null}return _=bo(_),u&&u[fe]?u.K(g,_,y(A)?!!A.capture:!1,P):Fs(u,g,_,!1,A,P)}function Fs(u,g,_,A,P,q){if(!g)throw Error("Invalid event type");var nt=y(P)?!!P.capture:!!P,Mt=Gs(u);if(Mt||(u[$i]=Mt=new Ye(u)),_=Mt.add(g,_,A,nt,q),_.proxy)return _;if(A=La(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)at||(P=nt),P===void 0&&(P=!1),u.addEventListener(g.toString(),A,P);else if(u.attachEvent)u.attachEvent(Pa(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function La(){function u(_){return g.call(u.src,u.listener,_)}const g=Qc;return u}function ka(u,g,_,A,P){if(Array.isArray(g))for(var q=0;q<g.length;q++)ka(u,g[q],_,A,P);else A=y(A)?!!A.capture:!!A,_=bo(_),u&&u[fe]?(u=u.i,g=String(g).toString(),g in u.g&&(q=u.g[g],_=dn(q,_,A,P),-1<_&&(Gt(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[g],u.h--)))):u&&(u=Gs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=dn(g,_,A,P)),(_=-1<u?g[u]:null)&&Gr(_))}function Gr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[fe])mi(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(Pa(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Gs(g))?(mi(_,u),_.h==0&&(_.src=null,g[$i]=null)):Gt(u)}}}function Pa(u){return u in Xi?Xi[u]:Xi[u]="on"+u}function Qc(u,g){if(u.da)u=!0;else{g=new wt(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&Gr(u),u=_.call(A,g)}return u}function Gs(u){return u=u[$i],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bo(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(g){return u.handleEvent(g)}),u[tn])}function _e(){ht.call(this),this.i=new Ye(this),this.M=this,this.F=null}k(_e,ht),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,g,_,A){ka(this,u,g,_,A)};function Ce(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new rt(g,u);else if(g instanceof rt)g.target=g.target||u;else{var P=g;g=new rt(A,u),I(g,P)}if(P=!0,_)for(var q=_.length-1;0<=q;q--){var nt=g.g=_[q];P=pi(nt,A,!0,g)&&P}if(nt=g.g=u,P=pi(nt,A,!0,g)&&P,P=pi(nt,A,!1,g)&&P,_)for(q=0;q<_.length;q++)nt=g.g=_[q],P=pi(nt,A,!1,g)&&P}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)Gt(_[A]);delete u.g[g],u.h--}}this.F=null},_e.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},_e.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function pi(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,q=0;q<g.length;++q){var nt=g[q];if(nt&&!nt.da&&nt.capture==_){var Mt=nt.listener,Ee=nt.ha||nt.src;nt.fa&&mi(u.i,nt),P=Mt.call(Ee,A)!==!1&&P}}return P&&!A.defaultPrevented}function So(u,g,_){if(typeof u=="function")_&&(u=D(u,_));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Qs(u){u.g=So(()=>{u.g=null,u.i&&(u.i=!1,Qs(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Kc extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Qs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(u){ht.call(this),this.h=u,this.g={}}k(Qr,ht);var Zi=[];function je(u){bt(u.g,function(g,_){this.g.hasOwnProperty(_)&&Gr(g)},u),u.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),je(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ks=m.JSON.stringify,jn=m.JSON.parse,$e=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Ys(){}Ys.prototype.h=null;function Ro(u){return u.h||(u.h=u.i())}function wo(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wi(){rt.call(this,"d")}k(Wi,rt);function Mn(){rt.call(this,"c")}k(Mn,rt);var mn={},Ji=null;function za(){return Ji=Ji||new _e}mn.La="serverreachability";function $s(u){rt.call(this,mn.La,u)}k($s,rt);function tr(u){const g=za();Ce(g,new $s(g))}mn.STAT_EVENT="statevent";function Ba(u,g){rt.call(this,mn.STAT_EVENT,u),this.stat=g}k(Ba,rt);function oe(u){const g=za();Ce(g,new Ba(g,u))}mn.Ma="timingevent";function Co(u,g){rt.call(this,mn.Ma,u),this.size=g}k(Co,rt);function er(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function nr(){this.g=!0}nr.prototype.xa=function(){this.g=!1};function Do(u,g,_,A,P,q){u.info(function(){if(u.g)if(q)for(var nt="",Mt=q.split("&"),Ee=0;Ee<Mt.length;Ee++){var xt=Mt[Ee].split("=");if(1<xt.length){var Ve=xt[0];xt=xt[1];var Te=Ve.split("_");nt=2<=Te.length&&Te[1]=="type"?nt+(Ve+"="+xt+"&"):nt+(Ve+"=redacted&")}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+_+`
`+nt})}function Io(u,g,_,A,P,q,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+_+`
`+q+" "+nt})}function ir(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(u,_)+(A?" "+A:"")})}function Fn(u,g){u.info(function(){return"TIMEOUT: "+g})}nr.prototype.info=function(){};function De(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var q=P[0];if(q!="noop"&&q!="stop"&&q!="close")for(var nt=1;nt<P.length;nt++)P[nt]=""}}}}return Ks(_)}catch{return g}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kr;function Ha(){}k(Ha,Ys),Ha.prototype.g=function(){return new XMLHttpRequest},Ha.prototype.i=function(){return{}},Kr=new Ha;function Gn(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Xs}function Xs(){this.i=null,this.g="",this.h=!1}var rr={},Yr={};function xn(u,g,_){u.L=1,u.v=Zr(re(g)),u.m=_,u.P=!0,_i(u,null)}function _i(u,g){u.F=Date.now(),Wt(u),u.A=re(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ti(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Xs,u.g=qo(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Kc(D(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Zi[0]=P.toString()),P=Zi);for(var q=0;q<P.length;q++){var nt=gi(_,P[q],A||g.handleEvent,!1,g.h||g);if(!nt)break;g.g[nt.key]=nt}g=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),tr(),Do(u.i,u.u,u.A,u.l,u.R,u.m)}Gn.prototype.ca=function(u){u=u.target;const g=this.M;g&&vn(u)==3?g.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=vn(this.g);var g=this.g.Ba();const Ri=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Uo(this.g)))){this.J||Te!=4||g==7||(g==8||0>=Ri?tr(3):tr(2)),ja(this);var _=this.g.Z();this.X=_;e:if(ar(this)){var A=Uo(this.g);u="";var P=A.length,q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),sn(this);var nt="";break e}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(q&&g==P-1)});A.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,Io(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Mt)){var xt=Mt;break e}}xt=null}if(_=xt)ir(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ln(this,_);else{this.o=!1,this.s=3,oe(12),en(this),sn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<nt.length;)if(Ue=sr(this,nt),Ue==Yr){Te==4&&(this.s=4,oe(14),_=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==rr){this.s=4,oe(15),ir(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else ir(this.i,this.l,Ue,null),ln(this,Ue);if(ar(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||nt.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)ir(this.i,this.l,nt,"[Invalid Chunked Response]"),en(this),sn(this);else if(0<nt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ra(Ve),Ve.M=!0,oe(11))}}else ir(this.i,this.l,nt,null),ln(this,nt);Te==4&&en(this),this.o&&!this.J&&(Te==4?Bo(this.j,this):(this.o=!1,Wt(this)))}else Jc(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),sn(this)}}}catch{}finally{}};function ar(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sr(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Yr:(_=Number(g.substring(_,A)),isNaN(_)?rr:(A+=1,A+_>g.length?Yr:(g=g.slice(A,A+_),u.C=A+_,g)))}Gn.prototype.cancel=function(){this.J=!0,en(this)};function Wt(u){u.S=Date.now()+u.I,Zs(u,u.I)}function Zs(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=er(D(u.ba,u),g)}function ja(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Gn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fn(this.i,this.A),this.L!=2&&(tr(),oe(17)),en(this),this.s=2,sn(this)):Zs(this,this.S-u)};function sn(u){u.j.G==0||u.J||Bo(u.j,u)}function en(u){ja(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,je(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ln(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||lr(_.h,u))){if(!u.K&&lr(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Wa(_),Xa(_);else break t;ol(_),oe(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=er(D(_.Za,_),6e3));if(1>=Vo(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((u.K||_.g==u)&&Wa(_),!et(g))for(P=_.Da.g.parse(g),g=0;g<P.length;g++){let xt=P[g];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ve=xt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Te=xt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ri=xt[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(A=1.5*Ri,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Wn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var q=A.h;q.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(or(q,q.h),q.h=null))}if(A.D){const cl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(A.ya=cl,zt(A.I,A.D,cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var nt=u;if(A.qa=jo(A,A.J?A.ia:null,A.W),nt.K){gn(A.h,nt);var Mt=nt,Ee=A.L;Ee&&(Mt.I=Ee),Mt.B&&(ja(Mt),Wt(Mt)),A.g=nt}else Po(A);0<_.i.length&&Za(_)}else xt[0]!="stop"&&xt[0]!="close"||Si(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Si(_,7):sl(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}tr(4)}catch{}}var Yc=class{constructor(u,g){this.g=u,this.map=g}};function Ws(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Js(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Vo(u){return u.h?1:u.g?u.g.size:0}function lr(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function or(u,g){u.g?u.g.add(g):u.h=g}function gn(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ws.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xe(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return K(u.i)}function Oo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function $c(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function $r(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=$c(u),A=Oo(u),P=A.length,q=0;q<P;q++)g.call(void 0,A[q],_&&_[q],u)}var tl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qa(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var q=u[_].substring(0,A);P=u[_].substring(A+1)}else q=u[_];g(q,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function vi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vi){this.h=u.h,ur(this,u.j),this.o=u.o,this.g=u.g,Xr(this,u.s),this.l=u.l;var g=u.i,_=new Qn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Fa(this,_),this.m=u.m}else u&&(g=String(u).match(tl))?(this.h=!1,ur(this,g[1]||"",!0),this.o=cr(g[2]||""),this.g=cr(g[3]||"",!0),Xr(this,g[4]),this.l=cr(g[5]||"",!0),Fa(this,g[6]||"",!0),this.m=cr(g[7]||"")):(this.h=!1,this.i=new Qn(null,this.h))}vi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(pn(g,el,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(pn(g,el,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(pn(_,_.charAt(0)=="/"?nl:No,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",pn(_,Wc)),u.join("")};function re(u){return new vi(u)}function ur(u,g,_){u.j=_?cr(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Xr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Fa(u,g,_){g instanceof Qn?(u.i=g,il(u.i,u.h)):(_||(g=pn(g,Zc)),u.i=new Qn(g,u.h))}function zt(u,g,_){u.i.set(g,_)}function Zr(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function cr(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function pn(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Xc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var el=/[#\/\?@]/g,No=/[#\?:]/g,nl=/[#\?]/g,Zc=/[#\?@]/g,Wc=/#/g;function Qn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&qa(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Qn.prototype,r.add=function(u,g){yn(this),this.i=null,u=Ai(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Ga(u,g){yn(u),g=Ai(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ei(u,g){return yn(u),g=Ai(u,g),u.g.has(g)}r.forEach=function(u,g){yn(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(g,P,A,this)},this)},this)},r.na=function(){yn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const P=u[A];for(let q=0;q<P.length;q++)_.push(g[A])}return _},r.V=function(u){yn(this);let g=[];if(typeof u=="string")Ei(this,u)&&(g=g.concat(this.g.get(Ai(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},r.set=function(u,g){return yn(this),this.i=null,u=Ai(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ti(u,g,_){Ga(u,g),0<_.length&&(u.i=null,u.g.set(Ai(u,g),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const q=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var P=q;nt[A]!==""&&(P+="="+encodeURIComponent(String(nt[A]))),u.push(P)}}return this.i=u.join("&")};function Ai(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function il(u,g){g&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(Ga(this,A),Ti(this,P,_))},u)),u.j=g}function Mo(u,g){const _=new nr;if(m.Image){const A=new Image;A.onload=V(_n,_,"TestLoadImage: loaded",!0,g,A),A.onerror=V(_n,_,"TestLoadImage: error",!1,g,A),A.onabort=V(_n,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=V(_n,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Wr(u,g){const _=new nr,A=new AbortController,P=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(P),q.ok?_n(_,"TestPingServer: ok",!0,g):_n(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),_n(_,"TestPingServer: error",!1,g)})}function _n(u,g,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Jr(){this.g=new $e}function Kn(u,g,_){const A=_||"";try{$r(u,function(P,q){let nt=P;y(P)&&(nt=Ks(P)),g.push(A+q+"="+encodeURIComponent(nt))})}catch(P){throw g.push(A+"type="+encodeURIComponent("_badmap")),P}}function hr(u){this.l=u.Ub||null,this.j=u.eb||!1}k(hr,Ys),hr.prototype.g=function(){return new bi(this.l,this.j)},hr.prototype.i=function(u){return function(){return u}}({});function bi(u,g){_e.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(bi,_e),r=bi.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,$n(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Yn(this):$n(this),this.readyState==3&&rl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function al(u){let g="";return bt(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ie(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=al(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):zt(u,g,_))}function qt(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(qt,_e);var Qa=/^https?$/i,ta=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kr.g(),this.v=this.o?Ro(this.o):Ro(Kr),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(q){xo(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),P=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ta,g,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of _)this.g.setRequestHeader(q,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){xo(this,q)}};function xo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Ka(u),Xn(u)}function Ka(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},r.bb=function(){Ya(this)};function Ya(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)So(u.Ea,0,u);else if(Ce(u,"readystatechange"),vn(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=nt===0){var P=String(u.D).match(tl)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),A=!Qa.test(P?P.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var q=2<vn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ka(u)}}finally{Xn(u)}}}}function Xn(u,g){if(u.g){ea(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ce(u,"ready");try{_.onreadystatechange=A}catch{}}}function ea(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),jn(g)}};function Uo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Jc(u){const g={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(et(u[A]))continue;var _=x(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=g[P]||[];g[P]=q,q.push(_)}M(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function $a(u){this.Aa=0,this.i=[],this.j=new nr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,u),this.cb=na("retryDelaySeedMs",1e4,u),this.Wa=na("forwardChannelMaxRetries",2,u),this.wa=na("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ws(u&&u.concurrentRequestLimit),this.Da=new Jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$a.prototype,r.la=8,r.G=1,r.connect=function(u,g,_,A){oe(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=jo(this,null,this.W),Za(this)};function sl(u){if(Lo(u),u.G==3){var g=u.U++,_=re(u.I);if(zt(_,"SID",u.K),zt(_,"RID",g),zt(_,"TYPE","terminate"),ia(u,_),g=new Gn(u,u.j,g),g.L=2,g.v=Zr(re(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=qo(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Wt(g)}Ho(u)}function Xa(u){u.g&&(ra(u),u.g.cancel(),u.g=null)}function Lo(u){Xa(u),u.u&&(m.clearTimeout(u.u),u.u=null),Wa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Za(u){if(!Js(u.h)&&!u.s){u.s=!0;var g=u.Ga;_t||O(),dt||(_t(),dt=!0),jt.add(g,u),u.B=0}}function th(u,g){return Vo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=er(D(u.Ga,u,g),ul(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Gn(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(P.H=q,q=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=ko(this,P,g),_=re(this.I),zt(_,"RID",u),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),ia(this,_),q&&(this.O?g="headers="+encodeURIComponent(String(al(q)))+"&"+g:this.m&&Ie(_,this.m,q)),or(this.h,P),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",g),zt(_,"SID","null"),P.T=!0,xn(P,_,null)):xn(P,_,g),this.G=2}}else this.G==3&&(u?ll(this,u):this.i.length==0||Js(this.h)||ll(this))};function ll(u,g){var _;g?_=g.l:_=u.U++;const A=re(u.I);zt(A,"SID",u.K),zt(A,"RID",_),zt(A,"AID",u.T),ia(u,A),u.m&&u.o&&Ie(A,u.m,u.o),_=new Gn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ko(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),or(u.h,_),xn(_,A,g)}function ia(u,g){u.H&&bt(u.H,function(_,A){zt(g,A,_)}),u.l&&$r({},function(_,A){zt(g,A,_)})}function ko(u,g,_){_=Math.min(u.i.length,_);var A=u.l?D(u.l.Na,u.l,u):null;t:{var P=u.i;let q=-1;for(;;){const nt=["count="+_];q==-1?0<_?(q=P[0].g,nt.push("ofs="+q)):q=0:nt.push("ofs="+q);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let xt=P[Ee].g;const Ve=P[Ee].map;if(xt-=q,0>xt)q=Math.max(0,P[Ee].g-100),Mt=!1;else try{Kn(Ve,nt,"req"+xt+"_")}catch{A&&A(Ve)}}if(Mt){A=nt.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function Po(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;_t||O(),dt||(_t(),dt=!0),jt.add(g,u),u.v=0}}function ol(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=er(D(u.Fa,u),ul(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=er(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Xa(this),zo(this))};function ra(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function zo(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=re(u.qa);zt(g,"RID","rpc"),zt(g,"SID",u.K),zt(g,"AID",u.T),zt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(g,"TO",u.ja),zt(g,"TYPE","xmlhttp"),ia(u,g),u.m&&u.o&&Ie(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Zr(re(g)),_.m=null,_.P=!0,_i(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Xa(this),ol(this),oe(19))};function Wa(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Bo(u,g){var _=null;if(u.g==g){Wa(u),ra(u),u.g=null;var A=2}else if(lr(u.h,g))_=g.D,gn(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var P=u.B;A=za(),Ce(A,new Co(A,_)),Za(u)}else Po(u);else if(P=g.s,P==3||P==0&&0<g.X||!(A==1&&th(u,g)||A==2&&ol(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),P){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function ul(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Si(u,g){if(u.j.info("Error code "+g),g==2){var _=D(u.fb,u),A=u.Xa;const P=!A;A=new vi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ur(A,"https"),Zr(A),P?Mo(A.toString(),_):Wr(A.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(g),Ho(u),Lo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Ho(u){if(u.G=0,u.ka=[],u.l){const g=Xe(u.h);(g.length!=0||u.i.length!=0)&&(H(u.ka,g),H(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function jo(u,g,_){var A=_ instanceof vi?re(_):new vi(_);if(A.g!="")g&&(A.g=g+"."+A.g),Xr(A,A.s);else{var P=m.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var q=new vi(null);A&&ur(q,A),g&&(q.g=g),P&&Xr(q,P),_&&(q.l=_),A=q}return _=u.D,g=u.ya,_&&g&&zt(A,_,g),zt(A,"VER",u.la),ia(u,A),A}function qo(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new qt(new hr({eb:_})):new qt(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fo(){}r=Fo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ja(){}Ja.prototype.g=function(u,g){return new Ze(u,g)};function Ze(u,g){_e.call(this),this.g=new $a(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!et(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!et(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Zn(this)}k(Ze,_e),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){sl(this.g)},Ze.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ks(u),u=_);g.i.push(new Yc(g.Ya++,u)),g.G==3&&Za(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Ze.aa.N.call(this)};function Go(u){Wi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}k(Go,Wi);function Qo(){Mn.call(this),this.status=1}k(Qo,Mn);function Zn(u){this.g=u}k(Zn,Fo),Zn.prototype.ua=function(){Ce(this.g,"a")},Zn.prototype.ta=function(u){Ce(this.g,new Go(u))},Zn.prototype.sa=function(u){Ce(this.g,new Qo)},Zn.prototype.ra=function(){Ce(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,Qv=function(){return new Ja},Gv=function(){return za()},Fv=mn,Ed={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,ec=ve,yi.COMPLETE="complete",qv=yi,wo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Jl=wo,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,jv=qt}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const t_="@firebase/firestore",e_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new qd("@firebase/firestore");function ws(){return Ca.logLevel}function st(r,...t){if(Ca.logLevel<=kt.DEBUG){const i=t.map(Gd);Ca.debug(`Firestore (${Bs}): ${r}`,...i)}}function Gi(r,...t){if(Ca.logLevel<=kt.ERROR){const i=t.map(Gd);Ca.error(`Firestore (${Bs}): ${r}`,...i)}}function Os(r,...t){if(Ca.logLevel<=kt.WARN){const i=t.map(Gd);Ca.warn(`Firestore (${Bs}): ${r}`,...i)}}function Gd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r="Unexpected state"){const t=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+r;throw Gi(t),new Error(t)}function Ft(r,t){r||vt()}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Yi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class AR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class bR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class SR{constructor(t){this.t=t,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new Kv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string"),new Qe(t)}}class RR{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wR{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new RR(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CR{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Uv(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new n_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ft(typeof i.token=="string"),this.R=i.token,new n_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function Ns(r,t,i){return r.length===t.length&&r.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=-62135596800,r_=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(t){return Re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*r_);return new Re(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<i_)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-i_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Re(0,0))}static max(){return new Et(new Re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class ri{constructor(t,i,s){i===void 0?i=0:i>t.length&&vt(),s===void 0?s=t.length-i:s>t.length-i&&vt(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=ri.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Math.sign(t.length-i.length)}static compareSegments(t,i){const s=ri.isNumericId(t),o=ri.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ri.extractNumericId(t).compare(ri.extractNumericId(i)):t<i?-1:t>i?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ur.fromString(t.substring(4,t.length-2))}}class Zt extends ri{construct(t,i,s){return new Zt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new mt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const IR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ri{construct(t,i,s){return new Be(t,i,s)}static isValidIdentifier(t){return IR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new Be([a_])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new mt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new mt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new mt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new mt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt(Zt.fromString(t))}static fromName(t){return new gt(Zt.fromString(t).popFirst(5))}static empty(){return new gt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Zt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new Zt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function VR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new zr(o,gt.empty(),t)}function OR(r){return new zr(r.readTime,r.key,uo)}class zr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new zr(Et.min(),gt.empty(),uo)}static max(){return new zr(Et.max(),gt.empty(),uo)}}function NR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==MR)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):X.reject(i)}static resolve(t){return new X((i,s)=>{i(t)})}static reject(t){return new X((i,s)=>{s(t)})}static waitFor(t){return new X((i,s)=>{let o=0,c=0,d=!1;t.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(t){let i=X.resolve(!1);for(const s of t)i=i.next(o=>o?X.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(t,i){return new X((s,o)=>{const c=t.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next(T=>{d[y]=T,++m,m===c&&s(d)},T=>o(T))}})}static doWhile(t,i){return new X((s,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):s()};c()})}}function UR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function js(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Vc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=-1;function Oc(r){return r==null}function cc(r){return r===0&&1/r==-1/0}function LR(r){return typeof r=="number"&&Number.isInteger(r)&&!cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="";function kR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=s_(t)),t=PR(r.get(i),t);return s_(t)}function PR(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case $v:i+="";break;default:i+=c}}return i}function s_(r){return r+$v+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Na(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function Xv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(t,i){this.comparator=t,this.root=i||ze.EMPTY}insert(t,i){return new ne(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new ne(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qu(this.root,t,this.comparator,!0)}}class Qu{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new ze(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const t=this.left.check();if(t!==this.right.check())throw vt();return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,i,s,o,c){return this}insert(t,i,s){return new ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(t){return new o_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new we(this.comparator);return i.data=t,i}}class o_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new zn([])}unionWith(t){let i=new we(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new zn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ns(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Zv("Invalid base64 string: "+c):c}}(t);return new He(i)}static fromUint8Array(t){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const zR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(r){if(Ft(!!r),typeof r=="string"){let t=0;const i=zR.exec(r);if(Ft(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="server_timestamp",Jv="__type__",tE="__previous_value__",eE="__local_write_time__";function Kd(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Jv])===null||i===void 0?void 0:i.stringValue)===Wv}function Nc(r){const t=r.mapValue.fields[tE];return Kd(t)?Nc(t):t}function co(r){const t=Br(r.mapValue.fields[eE].timestampValue);return new Re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,i,s,o,c,d,m,p,y){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const hc="(default)";class ho{constructor(t,i){this.projectId=t,this.database=i||hc}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===hc}isEqual(t){return t instanceof ho&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="__type__",HR="__max__",Ku={mapValue:{}},iE="__vector__",fc="value";function jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Kd(r)?4:qR(r)?9007199254740991:jR(r)?10:11:vt()}function ui(r,t){if(r===t)return!0;const i=jr(r);if(i!==jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return co(r).isEqual(co(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Br(o.timestampValue),m=Br(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Hr(o.bytesValue).isEqual(Hr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ce(o.doubleValue),m=ce(c.doubleValue);return d===m?cc(d)===cc(m):isNaN(d)&&isNaN(m)}return!1}(r,t);case 9:return Ns(r.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(l_(d)!==l_(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!ui(d[p],m[p])))return!1;return!0}(r,t);default:return vt()}}function fo(r,t){return(r.values||[]).find(i=>ui(i,t))!==void 0}function Ms(r,t){if(r===t)return 0;const i=jr(r),s=jr(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const m=ce(c.integerValue||c.doubleValue),p=ce(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return u_(r.timestampValue,t.timestampValue);case 4:return u_(co(r),co(t));case 5:return Nt(r.stringValue,t.stringValue);case 6:return function(c,d){const m=Hr(c),p=Hr(d);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Nt(m[y],p[y]);if(T!==0)return T}return Nt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const m=Nt(ce(c.latitude),ce(d.latitude));return m!==0?m:Nt(ce(c.longitude),ce(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return c_(r.arrayValue,t.arrayValue);case 10:return function(c,d){var m,p,y,T;const R=c.fields||{},D=d.fields||{},V=(m=R[fc])===null||m===void 0?void 0:m.arrayValue,k=(p=D[fc])===null||p===void 0?void 0:p.arrayValue,K=Nt(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((T=k==null?void 0:k.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:c_(V,k)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===Ku.mapValue&&d===Ku.mapValue)return 0;if(c===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let R=0;R<p.length&&R<T.length;++R){const D=Nt(p[R],T[R]);if(D!==0)return D;const V=Ms(m[p[R]],y[T[R]]);if(V!==0)return V}return Nt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw vt()}}function u_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Br(r),s=Br(t),o=Nt(i.seconds,s.seconds);return o!==0?o:Nt(i.nanos,s.nanos)}function c_(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ms(i[o],s[o]);if(c)return c}return Nt(i.length,s.length)}function xs(r){return Td(r)}function Td(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Br(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Hr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return gt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Td(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Td(i.fields[d])}`;return o+"}"}(r.mapValue):vt()}function nc(r){switch(jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nc(r);return t?16+nc(t):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+nc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Na(s.fields,(c,d)=>{o+=c.length+nc(d)}),o}(r.mapValue);default:throw vt()}}function Ad(r){return!!r&&"integerValue"in r}function Yd(r){return!!r&&"arrayValue"in r}function h_(r){return!!r&&"nullValue"in r}function f_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ic(r){return!!r&&"mapValue"in r}function jR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[nE])===null||i===void 0?void 0:i.stringValue)===iE}function no(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Na(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=no(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=no(r.arrayValue.values[i]);return t}return Object.assign({},r)}function qR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===HR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=no(i)}setAll(t){let i=Be.emptyPath(),s={},o=[];t.forEach((d,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}d?s[m.lastSegment()]=no(d):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){Na(i,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new Vn(no(this.value))}}function rE(r){const t=[];return Na(r.fields,(i,s)=>{const o=new Be([i]);if(ic(s)){const c=rE(s.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t,i,s,o,c,d,m){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(t){return new Ke(t,0,Et.min(),Et.min(),Et.min(),Vn.empty(),0)}static newFoundDocument(t,i,s,o){return new Ke(t,1,i,Et.min(),s,o,0)}static newNoDocument(t,i){return new Ke(t,2,i,Et.min(),Et.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new Ke(t,3,i,Et.min(),Et.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,i){this.position=t,this.inclusive=i}}function d_(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Ms(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function m_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ui(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,i="asc"){this.field=t,this.dir=i}}function FR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{}class Se extends aE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new QR(t,i,s):i==="array-contains"?new $R(t,s):i==="in"?new XR(t,s):i==="not-in"?new ZR(t,s):i==="array-contains-any"?new WR(t,s):new Se(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new KR(t,s):new YR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ms(i,this.value)):i!==null&&jr(this.value)===jr(i)&&this.matchesComparison(Ms(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends aE{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new ci(t,i)}matches(t){return sE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function sE(r){return r.op==="and"}function lE(r){return GR(r)&&sE(r)}function GR(r){for(const t of r.filters)if(t instanceof ci)return!1;return!0}function bd(r){if(r instanceof Se)return r.field.canonicalString()+r.op.toString()+xs(r.value);if(lE(r))return r.filters.map(t=>bd(t)).join(",");{const t=r.filters.map(i=>bd(i)).join(",");return`${r.op}(${t})`}}function oE(r,t){return r instanceof Se?function(s,o){return o instanceof Se&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,t):r instanceof ci?function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,m)=>c&&oE(d,o.filters[m]),!0):!1}(r,t):void vt()}function uE(r){return r instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${xs(i.value)}`}(r):r instanceof ci?function(i){return i.op.toString()+" {"+i.getFilters().map(uE).join(" ,")+"}"}(r):"Filter"}class QR extends Se{constructor(t,i,s){super(t,i,s),this.key=gt.fromName(s.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class KR extends Se{constructor(t,i){super(t,"in",i),this.keys=cE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class YR extends Se{constructor(t,i){super(t,"not-in",i),this.keys=cE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function cE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class $R extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Yd(i)&&fo(i.arrayValue,this.value)}}class XR extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&fo(this.value.arrayValue,i)}}class ZR extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!fo(this.value.arrayValue,i)}}class WR extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Yd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>fo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,i=null,s=[],o=[],c=null,d=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function g_(r,t=null,i=[],s=[],o=null,c=null,d=null){return new JR(r,t,i,s,o,c,d)}function $d(r){const t=At(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>bd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Oc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>xs(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>xs(s)).join(",")),t.le=i}return t.le}function Xd(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!FR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!oE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!m_(r.startAt,t.startAt)&&m_(r.endAt,t.endAt)}function Sd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i=null,s=[],o=[],c=null,d="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function tw(r,t,i,s,o,c,d,m){return new Mc(r,t,i,s,o,c,d,m)}function hE(r){return new Mc(r)}function p_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ew(r){return r.collectionGroup!==null}function io(r){const t=At(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new we(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new mc(c,s))}),i.has(Be.keyField().canonicalString())||t.he.push(new mc(Be.keyField(),s))}return t.he}function ai(r){const t=At(r);return t.Pe||(t.Pe=nw(t,io(r))),t.Pe}function nw(r,t){if(r.limitType==="F")return g_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new mc(o.field,c)});const i=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return g_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Rd(r,t,i){return new Mc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function xc(r,t){return Xd(ai(r),ai(t))&&r.limitType===t.limitType}function fE(r){return`${$d(ai(r))}|lt:${r.limitType}`}function Cs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>uE(o)).join(", ")}]`),Oc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>xs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>xs(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function Uc(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of io(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(d,m,p){const y=d_(d,m,p);return d.inclusive?y<=0:y<0}(s.startAt,io(s),o)||s.endAt&&!function(d,m,p){const y=d_(d,m,p);return d.inclusive?y>=0:y>0}(s.endAt,io(s),o))}(r,t)}function iw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dE(r){return(t,i)=>{let s=!1;for(const o of io(r)){const c=rw(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function rw(r,t,i){const s=r.field.isKeyField()?gt.comparator(t.key,i.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Ms(p,y):vt()}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Na(this.inner,(i,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return Xv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw=new ne(gt.comparator);function Qi(){return aw}const mE=new ne(gt.comparator);function to(...r){let t=mE;for(const i of r)t=t.insert(i.key,i);return t}function gE(r){let t=mE;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Sa(){return ro()}function pE(){return ro()}function ro(){return new Ma(r=>r.toString(),(r,t)=>r.isEqual(t))}const sw=new ne(gt.comparator),lw=new we(gt.comparator);function Vt(...r){let t=lw;for(const i of r)t=t.add(i);return t}const ow=new we(Nt);function uw(){return ow}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(t)?"-0":t}}function yE(r){return{integerValue:""+r}}function cw(r,t){return LR(t)?yE(t):Zd(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function hw(r,t,i){return r instanceof gc?function(o,c){const d={fields:{[Jv]:{stringValue:Wv},[eE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Kd(c)&&(c=Nc(c)),c&&(d.fields[tE]=c),{mapValue:d}}(i,t):r instanceof mo?vE(r,t):r instanceof go?EE(r,t):function(o,c){const d=_E(o,c),m=y_(d)+y_(o.Ie);return Ad(d)&&Ad(o.Ie)?yE(m):Zd(o.serializer,m)}(r,t)}function fw(r,t,i){return r instanceof mo?vE(r,t):r instanceof go?EE(r,t):i}function _E(r,t){return r instanceof pc?function(s){return Ad(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class gc extends Lc{}class mo extends Lc{constructor(t){super(),this.elements=t}}function vE(r,t){const i=TE(t);for(const s of r.elements)i.some(o=>ui(o,s))||i.push(s);return{arrayValue:{values:i}}}class go extends Lc{constructor(t){super(),this.elements=t}}function EE(r,t){let i=TE(t);for(const s of r.elements)i=i.filter(o=>!ui(o,s));return{arrayValue:{values:i}}}class pc extends Lc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function y_(r){return ce(r.integerValue||r.doubleValue)}function TE(r){return Yd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dw(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof mo&&o instanceof mo||s instanceof go&&o instanceof go?Ns(s.elements,o.elements,ui):s instanceof pc&&o instanceof pc?ui(s.Ie,o.Ie):s instanceof gc&&o instanceof gc}(r.transform,t.transform)}class mw{constructor(t,i){this.version=t,this.transformResults=i}}class ji{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ji}static exists(t){return new ji(void 0,t)}static updateTime(t){return new ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function rc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class kc{}function AE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new SE(r.key,ji.none()):new vo(r.key,r.data,ji.none());{const i=r.data,s=Vn.empty();let o=new we(Be.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new xa(r.key,s,new zn(o.toArray()),ji.none())}}function gw(r,t,i){r instanceof vo?function(o,c,d){const m=o.value.clone(),p=v_(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,t,i):r instanceof xa?function(o,c,d){if(!rc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=v_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(bE(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function ao(r,t,i,s){return r instanceof vo?function(c,d,m,p){if(!rc(c.precondition,d))return m;const y=c.value.clone(),T=E_(c.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,t,i,s):r instanceof xa?function(c,d,m,p){if(!rc(c.precondition,d))return m;const y=E_(c.fieldTransforms,p,d),T=d.data;return T.setAll(bE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(r,t,i,s):function(c,d,m){return rc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,t,i)}function pw(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=_E(s.transform,o||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(s.field,c))}return i||null}function __(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ns(s,o,(c,d)=>dw(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class vo extends kc{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xa extends kc{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function v_(r,t,i){const s=new Map;Ft(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,m=t.data.field(c.field);s.set(c.field,fw(d,m,i[o]))}return s}function E_(r,t,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,hw(c,d,t))}return s}class SE extends kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yw extends kc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&gw(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=ao(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=ao(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=pE();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=i.has(o.key)?null:m;const p=AE(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Ns(this.mutations,t.mutations,(i,s)=>__(i,s))&&Ns(this.baseMutations,t.baseMutations,(i,s)=>__(i,s))}}class Wd{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){Ft(t.mutations.length===s.length);let o=function(){return sw}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Wd(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function Tw(r){switch(r){case W.OK:return vt();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt()}}function RE(r){if(r===void 0)return Gi("GRPC error has no .code"),W.UNKNOWN;switch(r){case pe.OK:return W.OK;case pe.CANCELLED:return W.CANCELLED;case pe.UNKNOWN:return W.UNKNOWN;case pe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pe.INTERNAL:return W.INTERNAL;case pe.UNAVAILABLE:return W.UNAVAILABLE;case pe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pe.NOT_FOUND:return W.NOT_FOUND;case pe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pe.ABORTED:return W.ABORTED;case pe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pe.DATA_LOSS:return W.DATA_LOSS;default:return vt()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=new Ur([4294967295,4294967295],0);function T_(r){const t=Aw().encode(r),i=new Hv;return i.update(t),new Uint8Array(i.digest())}function A_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ur([i,s],0),new Ur([o,c],0)]}class Jd{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new eo(`Invalid padding: ${i}`);if(s<0)throw new eo(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new eo(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new eo(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Ur.fromNumber(this.Ee)}Ae(t,i,s){let o=t.add(i.multiply(Ur.fromNumber(s)));return o.compare(bw)===1&&(o=new Ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=T_(t),[s,o]=A_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Jd(c,o,i);return s.forEach(m=>d.insert(m)),d}insert(t){if(this.Ee===0)return;const i=T_(t),[s,o]=A_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,Eo.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Pc(Et.min(),o,new ne(Nt),Qi(),Vt())}}class Eo{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Eo(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,i,s,o){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=o}}class wE{constructor(t,i){this.targetId=t,this.ge=i}}class CE{constructor(t,i,s=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class b_{constructor(){this.pe=0,this.ye=S_(),this.we=He.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Vt(),i=Vt(),s=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt()}}),new Eo(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=S_()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Sw{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Qi(),this.$e=Yu(),this.Ke=Yu(),this.Ue=new ne(Nt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:vt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,s=t.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Sd(c))if(s===0){const d=new gt(c.path);this.ze(i,d,Ke.newNoDocument(d,Et.min()))}else Ft(s===1);else{const d=this.et(i);if(d!==s){const m=this.tt(t),p=m?this.nt(m,t,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,m;try{d=Hr(s).toUint8Array()}catch(p){if(p instanceof Zv)return Os("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Jd(d,o,c)}catch(p){return Os(p instanceof eo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&Sd(m.target)){const p=new gt(m.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,t))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Vt();this.Ke.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(t));const o=new Pc(t,i,this.Ue,this.Qe,s);return this.Qe=Qi(),this.$e=Yu(),this.Ke=Yu(),this.Ue=new ne(Nt),o}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(t)),this.Ke=this.Ke.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new b_,this.qe.set(t,i)),i}ct(t){let i=this.Ke.get(t);return i||(i=new we(Nt),this.Ke=this.Ke.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new we(Nt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new b_),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function Yu(){return new ne(gt.comparator)}function S_(){return new ne(gt.comparator)}const Rw={asc:"ASCENDING",desc:"DESCENDING"},ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cw={and:"AND",or:"OR"};class Dw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function wd(r,t){return r.useProto3Json||Oc(t)?t:{value:t}}function yc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Iw(r,t){return yc(r,t.toTimestamp())}function si(r){return Ft(!!r),Et.fromTimestamp(function(i){const s=Br(i);return new Re(s.seconds,s.nanos)}(r))}function tm(r,t){return Cd(r,t).canonicalString()}function Cd(r,t){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function IE(r){const t=Zt.fromString(r);return Ft(xE(t)),t}function Dd(r,t){return tm(r.databaseId,t.path)}function rd(r,t){const i=IE(t);if(i.get(1)!==r.databaseId.projectId)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(OE(i))}function VE(r,t){return tm(r.databaseId,t)}function Vw(r){const t=IE(r);return t.length===4?Zt.emptyPath():OE(t)}function Id(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OE(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function R_(r,t,i){return{name:Dd(r,t),fields:i.value.mapValue.fields}}function Ow(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string"),He.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array),He.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,m=d&&function(y){const T=y.code===void 0?W.UNKNOWN:RE(y.code);return new mt(T,y.message||"")}(d);i=new CE(s,o,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=rd(r,s.document.name),c=si(s.document.updateTime),d=s.document.createTime?si(s.document.createTime):Et.min(),m=new Vn({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,d,m),y=s.targetIds||[],T=s.removedTargetIds||[];i=new ac(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=rd(r,s.document),c=s.readTime?si(s.readTime):Et.min(),d=Ke.newNoDocument(o,c),m=s.removedTargetIds||[];i=new ac([],m,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=rd(r,s.document),c=s.removedTargetIds||[];i=new ac([],c,o,null)}else{if(!("filter"in t))return vt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new Ew(o,c),m=s.targetId;i=new wE(m,d)}}return i}function Nw(r,t){let i;if(t instanceof vo)i={update:R_(r,t.key,t.value)};else if(t instanceof SE)i={delete:Dd(r,t.key)};else if(t instanceof xa)i={update:R_(r,t.key,t.data),updateMask:Hw(t.fieldMask)};else{if(!(t instanceof yw))return vt();i={verify:Dd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof go)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof pc)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw vt()}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:Iw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt()}(r,t.precondition)),i}function Mw(r,t){return r&&r.length>0?(Ft(t!==void 0),r.map(i=>function(o,c){let d=o.updateTime?si(o.updateTime):si(c);return d.isEqual(Et.min())&&(d=si(c)),new mw(d,o.transformResults||[])}(i,t))):[]}function xw(r,t){return{documents:[VE(r,t.path)]}}function Uw(r,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=VE(r,o);const c=function(y){if(y.length!==0)return ME(ci.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(T=>function(D){return{field:Ds(D.field),direction:Pw(D.dir)}}(T))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const m=wd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:i,parent:o}}function Lw(r){let t=Vw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let c=[];i.where&&(c=function(R){const D=NE(R);return D instanceof ci&&lE(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(D=>function(k){return new mc(Is(k.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(D))}(i.orderBy));let m=null;i.limit&&(m=function(R){let D;return D=typeof R=="object"?R.value:R,Oc(D)?null:D}(i.limit));let p=null;i.startAt&&(p=function(R){const D=!!R.before,V=R.values||[];return new dc(V,D)}(i.startAt));let y=null;return i.endAt&&(y=function(R){const D=!R.before,V=R.values||[];return new dc(V,D)}(i.endAt)),tw(t,o,d,c,m,"F",p,y)}function kw(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function NE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Is(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Is(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Is(i.unaryFilter.field);return Se.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Is(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(r):r.fieldFilter!==void 0?function(i){return Se.create(Is(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ci.create(i.compositeFilter.filters.map(s=>NE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt()}}(i.compositeFilter.op))}(r):vt()}function Pw(r){return Rw[r]}function zw(r){return ww[r]}function Bw(r){return Cw[r]}function Ds(r){return{fieldPath:r.canonicalString()}}function Is(r){return Be.fromServerFormat(r.fieldPath)}function ME(r){return r instanceof Se?function(i){if(i.op==="=="){if(f_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NAN"}};if(h_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(f_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NOT_NAN"}};if(h_(i.value))return{unaryFilter:{field:Ds(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(i.field),op:zw(i.op),value:i.value}}}(r):r instanceof ci?function(i){const s=i.getFilters().map(o=>ME(o));return s.length===1?s[0]:{compositeFilter:{op:Bw(i.op),filters:s}}}(r):vt()}function Hw(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function xE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,i,s,o,c=Et.min(),d=Et.min(),m=He.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.Tt=t}}function qw(r){const t=Lw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Tn=new Gw}addToCollectionParentIndex(t,i){return this.Tn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(zr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(zr.min())}updateCollectionGroup(t,i,s){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Gw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new we(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new we(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UE=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(UE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Us(0)}static Un(){return new Us(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LruGarbageCollector",Qw=1048576;function D_([r,t],[i,s]){const o=Nt(r,i);return o===0?Nt(t,s):o}class Kw{constructor(t){this.Hn=t,this.buffer=new we(D_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();D_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Yw{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){st(C_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){js(i)?st(C_,"Ignoring IndexedDB error during garbage collection: ",i):await Hs(i)}await this.er(3e5)})}}class $w{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return X.resolve(Vc.ae);const s=new Kw(i);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(w_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w_):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,o,c,d,m,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(t,o))).next(R=>(s=R,m=Date.now(),this.removeTargets(t,s,i))).next(R=>(c=R,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(R=>(y=Date.now(),ws()<=kt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${R} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}function Xw(r,t){return new $w(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.changes=new Ma(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ke.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&ao(s.mutation,o,zn.empty(),Re.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Vt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Vt()){const o=Sa();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(c=>{let d=to();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=Sa();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Vt()))}populateOverlays(t,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,m)=>{i.set(d,m)})})}computeViews(t,i,s,o){let c=Qi();const d=ro(),m=function(){return ro()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof xa)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),ao(T.mutation,y,T.mutation.getFieldMask(),Re.now())):d.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var R;return m.set(y,new Ww(T,(R=d.get(y))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(t,i){const s=ro();let o=new ne((d,m)=>d-m),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||zn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const R=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,R)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,R=pE();T.forEach(D=>{if(!c.has(D)){const V=AE(i.get(D),s.get(D));V!==null&&R.set(D,V),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,y,R))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ew(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):X.resolve(Sa());let m=uo,p=c;return d.next(y=>X.forEach(y,(T,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(T)?X.resolve():this.remoteDocumentCache.getEntry(t,T).next(D=>{p=p.insert(T,D)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Vt())).next(T=>({batchId:m,changes:gE(T)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next(s=>{let o=to();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let d=to();return this.indexManager.getCollectionParents(t,c).next(m=>X.forEach(m,p=>{const y=function(R,D){return new Mc(D,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(T=>{T.forEach((R,D)=>{d=d.insert(R,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))});let m=to();return d.forEach((p,y)=>{const T=c.get(p);T!==void 0&&ao(T.mutation,y,zn.empty(),Re.now()),Uc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return X.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:qw(o.bundledQuery),readTime:si(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.overlays=new ne(gt.comparator),this.Rr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Sa();return X.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,c)=>{this.Et(t,i,c)}),X.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),X.resolve()}getOverlaysForCollection(t,i,s){const o=Sa(),c=i.length+1,d=new gt(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new ne((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=Sa(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Sa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return X.resolve(m)}Et(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new vw(i,s));let c=this.Rr.get(i);c===void 0&&(c=Vt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.Vr=new we(xe.mr),this.gr=new we(xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new xe(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new xe(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new gt(new Zt([])),s=new xe(i,t),o=new xe(i,t+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new gt(new Zt([])),s=new xe(i,t),o=new xe(i,t+1);let c=Vt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(t){const i=new xe(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class xe{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return gt.comparator(t.key,i.key)||Nt(t.Cr,i.Cr)}static pr(t,i){return Nt(t.Cr,i.Cr)||gt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new we(xe.mr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _w(c,i,s,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new xe(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Qd:this.Fr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const m=this.Or(d.Cr);c.push(m)}),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new we(Nt);return i.forEach(o=>{const c=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{s=s.add(m.Cr)})}),X.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new xe(new gt(c),0);let m=new we(Nt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},d),X.resolve(this.Br(m))}Br(t){const i=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Ft(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return X.forEach(i.mutations,o=>{const c=new xe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new xe(i,0),o=this.Mr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t){this.kr=t,this.docs=function(){return new ne(gt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(t,i){let s=Qi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=Qi();const d=i.path,m=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||NR(OR(T),s)<=0||(o.has(T.key)||Uc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,s,o){vt()}qr(t,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new a1(this)}getSize(t){return X.resolve(this.size)}}class a1 extends Zw{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),X.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t){this.persistence=t,this.Qr=new Ma(i=>$d(i),Xd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Kr=new em,this.targetCount=0,this.Ur=Us.Kn()}forEachTarget(t,i){return this.Qr.forEach((s,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),X.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ur=new Us(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.zn(i),X.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),X.waitFor(c).next(()=>o)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return X.resolve(s)}addMatchingKeys(t,i,s){return this.Kr.yr(i,s),X.resolve()}removeMatchingKeys(t,i,s){this.Kr.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Kr.br(i),X.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Kr.vr(i);return X.resolve(s)}containsKey(t,i){return X.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Vc(0),this.zr=!1,this.zr=!0,this.jr=new n1,this.referenceDelegate=t(this),this.Hr=new s1(this),this.indexManager=new Fw,this.remoteDocumentCache=function(o){return new r1(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new jw(i),this.Yr=new t1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new e1,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new i1(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){st("MemoryPersistence","Starting transaction:",t);const o=new l1(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,i){return X.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class l1 extends xR{constructor(t){super(),this.currentSequenceNumber=t}}class nm{constructor(t){this.persistence=t,this.ti=new em,this.ni=null}static ri(t){return new nm(t)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),X.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),X.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(t,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return X.or([()=>X.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class _c{constructor(t,i){this.persistence=t,this.oi=new Ma(s=>kR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Xw(this,i)}static ri(t,i){return new _c(t,i)}Zr(){}Xr(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return X.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(c=>c?X.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,d=>this.ar(t,d,i).next(m=>{m||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),X.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),X.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=nc(t.data.value)),i}ar(t,i,s){return X.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(t,i){let s=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new im(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sS()?8:UR(iS())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.rs(t,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(t,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new o1;return this._s(t,i,d).next(m=>{if(c.result=m,this.Xi)return this.us(t,i,d,m.size)})}).next(()=>c.result)}us(t,i,s,o){return s.documentReadCount<this.es?(ws()<=kt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Cs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(ws()<=kt.DEBUG&&st("QueryEngine","Query:",Cs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(ws()<=kt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Cs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ai(i))):X.resolve())}rs(t,i){if(p_(i))return X.resolve(null);let s=ai(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Rd(i,null,"F"),s=ai(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=Vt(...c);return this.ns.getDocuments(t,d).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(i,m);return this.ls(i,y,d,p.readTime)?this.rs(t,Rd(i,null,"F")):this.hs(t,y,i,p)}))})))}ss(t,i,s,o){return p_(i)||o.isEqual(Et.min())?X.resolve(null):this.ns.getDocuments(t,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?X.resolve(null):(ws()<=kt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cs(i)),this.hs(t,d,i,VR(o,uo)).next(m=>m))})}cs(t,i){let s=new we(dE(t));return i.forEach((o,c)=>{Uc(t,c)&&(s=s.add(c))}),s}ls(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,i,s){return ws()<=kt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Cs(i)),this.ns.getDocumentsMatchingQuery(t,i,zr.min(),s)}hs(t,i,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="LocalStore",c1=3e8;class h1{constructor(t,i,s,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new ne(Nt),this.Is=new Ma(c=>$d(c),Xd),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Jw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function f1(r,t,i,s){return new h1(r,t,i,s)}async function kE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let p=Vt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:m}))})})}function d1(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const R=y.batch,D=R.keys();let V=X.resolve();return D.forEach(k=>{V=V.next(()=>T.getEntry(p,k)).next(K=>{const H=y.docVersions.get(k);Ft(H!==null),K.version.compareTo(H)<0&&(R.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,R))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function PE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function m1(r,t){const i=At(r),s=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];t.targetChanges.forEach((T,R)=>{const D=o.get(R);if(!D)return;m.push(i.Hr.removeMatchingKeys(c,T.removedDocuments,R).next(()=>i.Hr.addMatchingKeys(c,T.addedDocuments,R)));let V=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?V=V.withResumeToken(He.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,s)),o=o.insert(R,V),function(K,H,Y){return K.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=c1?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(D,V,T)&&m.push(i.Hr.updateTargetData(c,V))});let p=Qi(),y=Vt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(g1(c,d,t.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Et.min())){const T=i.Hr.getLastRemoteSnapshotVersion(c).next(R=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(T)}return X.waitFor(m).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function g1(r,t,i){let s=Vt(),o=Vt();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=Qi();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),d=d.insert(m,p)):st(rm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function p1(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Qd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function y1(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,t).next(c=>c?(o=c,X.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Nr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function Vd(r,t,i){const s=At(r),o=s.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!js(d))throw d;st(rm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function I_(r,t,i){const s=At(r);let o=Et.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const R=At(p),D=R.Is.get(T);return D!==void 0?X.resolve(R.Ts.get(D)):R.Hr.getTargetData(y,T)}(s,d,ai(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,i?o:Et.min(),i?c:Vt())).next(m=>(_1(s,iw(t),m),{documents:m,gs:c})))}function _1(r,t,i){let s=r.Es.get(t)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class V_{constructor(){this.activeTargetIds=uw()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class v1{constructor(){this.ho=new V_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new V_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="ConnectivityMonitor";class N_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){st(O_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){st(O_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function Od(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad="RestConnection",T1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===hc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(t,i,s,o,c){const d=Od(),m=this.bo(t,i.toUriEncodedString());st(ad,`Sending RPC '${t}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(t,m,p,s).then(y=>(st(ad,`Received RPC '${t}' ${d}: `,y),y),y=>{throw Os(ad,`RPC '${t}' ${d} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,i,s,o,c,d){return this.So(t,i,s,o,c)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}bo(t,i){const s=T1[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class S1 extends A1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,o){const c=Od();return new Promise((d,m)=>{const p=new jv;p.setWithCredentials(!0),p.listenOnce(qv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ec.NO_ERROR:const T=p.getResponseJson();st(Ge,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),d(T);break;case ec.TIMEOUT:st(Ge,`RPC '${t}' ${c} timed out`),m(new mt(W.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const R=p.getStatus();if(st(Ge,`RPC '${t}' ${c} failed with status:`,R,"response text:",p.getResponseText()),R>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const V=D==null?void 0:D.error;if(V&&V.status&&V.message){const k=function(H){const Y=H.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Y)>=0?Y:W.UNKNOWN}(V.status);m(new mt(k,V.message))}else m(new mt(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new mt(W.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{st(Ge,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(o);st(Ge,`RPC '${t}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(t,i,s){const o=Od(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Qv(),m=Gv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=c.join("");st(Ge,`Creating RPC '${t}' stream ${o}: ${T}`,p);const R=d.createWebChannel(T,p);let D=!1,V=!1;const k=new b1({Fo:H=>{V?st(Ge,`Not sending because RPC '${t}' stream ${o} is closed:`,H):(D||(st(Ge,`Opening RPC '${t}' stream ${o} transport.`),R.open(),D=!0),st(Ge,`RPC '${t}' stream ${o} sending:`,H),R.send(H))},Mo:()=>R.close()}),K=(H,Y,et)=>{H.listen(Y,J=>{try{et(J)}catch(ut){setTimeout(()=>{throw ut},0)}})};return K(R,Jl.EventType.OPEN,()=>{V||(st(Ge,`RPC '${t}' stream ${o} transport opened.`),k.Qo())}),K(R,Jl.EventType.CLOSE,()=>{V||(V=!0,st(Ge,`RPC '${t}' stream ${o} transport closed`),k.Ko())}),K(R,Jl.EventType.ERROR,H=>{V||(V=!0,Os(Ge,`RPC '${t}' stream ${o} transport errored:`,H),k.Ko(new mt(W.UNAVAILABLE,"The operation could not be completed")))}),K(R,Jl.EventType.MESSAGE,H=>{var Y;if(!V){const et=H.data[0];Ft(!!et);const J=et,ut=(J==null?void 0:J.error)||((Y=J[0])===null||Y===void 0?void 0:Y.error);if(ut){st(Ge,`RPC '${t}' stream ${o} received error:`,ut);const ot=ut.status;let bt=function(b){const I=pe[b];if(I!==void 0)return RE(I)}(ot),M=ut.message;bt===void 0&&(bt=W.INTERNAL,M="Unknown error status: "+ot+" with message "+ut.message),V=!0,k.Ko(new mt(bt,M)),R.close()}else st(Ge,`RPC '${t}' stream ${o} received:`,et),k.Uo(et)}}),K(m,Fv.STAT_EVENT,H=>{H.stat===Ed.PROXY?st(Ge,`RPC '${t}' stream ${o} detected buffering proxy`):H.stat===Ed.NOPROXY&&st(Ge,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function sd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(r){return new Dw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,i,s=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class BE{constructor(t,i,s,o,c,d,m,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zE(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{t(()=>{const o=new mt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return st(M_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(st(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R1 extends BE{constructor(t,i,s,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=Ow(this.serializer,t),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?si(d.readTime):Et.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=Id(this.serializer),i.addTarget=function(c,d){let m;const p=d.target;if(m=Sd(p)?{documents:xw(c,p)}:{query:Uw(c,p).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=DE(c,d.resumeToken);const y=wd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){m.readTime=yc(c,d.snapshotVersion.toTimestamp());const y=wd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=kw(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=Id(this.serializer),i.removeTarget=t,this.I_(i)}}class w1 extends BE{constructor(t,i,s,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=Mw(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.v_(s,i)}C_(){const t={};t.database=Id(this.serializer),this.I_(t)}b_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>Nw(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{}class D1 extends C1{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(t,Cd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(W.UNKNOWN,c.toString())})}Co(t,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(t,Cd(i,s),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(W.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class I1{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gi(i),this.N_=!1):st("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class V1{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ua(this)&&(st(Da,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await To(y),y.j_.set("Unknown"),y.W_.delete(4),await Bc(y)}(this))})}),this.j_=new I1(s,o)}}async function Bc(r){if(Ua(r))for(const t of r.G_)await t(!0)}async function To(r){for(const t of r.G_)await t(!1)}function HE(r,t){const i=At(r);i.U_.has(t.targetId)||(i.U_.set(t.targetId,t),om(i)?lm(i):qs(i).c_()&&sm(i,t))}function am(r,t){const i=At(r),s=qs(i);i.U_.delete(t),s.c_()&&jE(i,t),i.U_.size===0&&(s.c_()?s.P_():Ua(i)&&i.j_.set("Unknown"))}function sm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}qs(r).y_(t)}function jE(r,t){r.H_.Ne(t),qs(r).w_(t)}function lm(r){r.H_=new Sw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),qs(r).start(),r.j_.B_()}function om(r){return Ua(r)&&!qs(r).u_()&&r.U_.size>0}function Ua(r){return At(r).W_.size===0}function qE(r){r.H_=void 0}async function O1(r){r.j_.set("Online")}async function N1(r){r.U_.forEach((t,i)=>{sm(r,t)})}async function M1(r,t){qE(r),om(r)?(r.j_.q_(t),lm(r)):r.j_.set("Unknown")}async function x1(r,t,i){if(r.j_.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.U_.delete(m),o.H_.removeTarget(m))}(r,t)}catch(s){st(Da,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await vc(r,s)}else if(t instanceof ac?r.H_.We(t):t instanceof wE?r.H_.Ze(t):r.H_.je(t),!i.isEqual(Et.min()))try{const s=await PE(r.localStore);i.compareTo(s)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.U_.get(y);T&&c.U_.set(y,T.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const T=c.U_.get(p);if(!T)return;c.U_.set(p,T.withResumeToken(He.EMPTY_BYTE_STRING,T.snapshotVersion)),jE(c,p);const R=new Nr(T.target,p,y,T.sequenceNumber);sm(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){st(Da,"Failed to raise snapshot:",s),await vc(r,s)}}async function vc(r,t,i){if(!js(t))throw t;r.W_.add(1),await To(r),r.j_.set("Offline"),i||(i=()=>PE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(Da,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Bc(r)})}function FE(r,t){return t().catch(i=>vc(r,i,t))}async function Hc(r){const t=At(r),i=qr(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:Qd;for(;U1(t);)try{const o=await p1(t.localStore,s);if(o===null){t.K_.length===0&&i.P_();break}s=o.batchId,L1(t,o)}catch(o){await vc(t,o)}GE(t)&&QE(t)}function U1(r){return Ua(r)&&r.K_.length<10}function L1(r,t){r.K_.push(t);const i=qr(r);i.c_()&&i.S_&&i.b_(t.mutations)}function GE(r){return Ua(r)&&!qr(r).u_()&&r.K_.length>0}function QE(r){qr(r).start()}async function k1(r){qr(r).C_()}async function P1(r){const t=qr(r);for(const i of r.K_)t.b_(i.mutations)}async function z1(r,t,i){const s=r.K_.shift(),o=Wd.from(s,t,i);await FE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Hc(r)}async function B1(r,t){t&&qr(r).S_&&await async function(s,o){if(function(d){return Tw(d)&&d!==W.ABORTED}(o.code)){const c=s.K_.shift();qr(s).h_(),await FE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Hc(s)}}(r,t),GE(r)&&QE(r)}async function x_(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),st(Da,"RemoteStore received new credentials");const s=Ua(i);i.W_.add(3),await To(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Bc(i)}async function H1(r,t){const i=At(r);t?(i.W_.delete(2),await Bc(i)):t||(i.W_.add(2),await To(i),i.j_.set("Unknown"))}function qs(r){return r.J_||(r.J_=function(i,s,o){const c=At(i);return c.M_(),new R1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:O1.bind(null,r),No:N1.bind(null,r),Lo:M1.bind(null,r),p_:x1.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),om(r)?lm(r):r.j_.set("Unknown")):(await r.J_.stop(),qE(r))})),r.J_}function qr(r){return r.Y_||(r.Y_=function(i,s,o){const c=At(i);return c.M_(),new w1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:k1.bind(null,r),Lo:B1.bind(null,r),D_:P1.bind(null,r),v_:z1.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Hc(r)):(await r.Y_.stop(),r.K_.length>0&&(st(Da,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const d=Date.now()+s,m=new um(t,i,d,o,c);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cm(r,t){if(Gi("AsyncQueue",`${t}: ${r}`),js(r))return new mt(W.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{static emptySet(t){return new Vs(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=to(),this.sortedSet=new ne(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Vs)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Vs;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.Z_=new ne(gt.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):vt():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class Ls{constructor(t,i,s,o,c,d,m,p,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,o,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new Ls(t,i,Vs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class q1{constructor(){this.queries=L_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=L_(),c.forEach((d,m)=>{for(const p of m.ta)p.onError(s)})})(this,new mt(W.ABORTED,"Firestore shutting down"))}}function L_(){return new Ma(r=>fE(r),xc)}async function F1(r,t){const i=At(r);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.na()&&t.ra()&&(s=2):(c=new j1,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const m=cm(d,`Initialization of query '${Cs(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&hm(i)}async function G1(r,t){const i=At(r),s=t.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(t);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Q1(r,t){const i=At(r);let s=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(s=!0);d.ea=o}}s&&hm(i)}function K1(r,t,i){const s=At(r),o=s.queries.get(t);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(t)}function hm(r){r.ia.forEach(t=>{t.next()})}var Nd,k_;(k_=Nd||(Nd={}))._a="default",k_.Cache="cache";class Y1{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ls(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ls.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Nd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t){this.key=t}}class YE{constructor(t){this.key=t}}class $1{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=dE(t),this.wa=new Vs(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new U_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((T,R)=>{const D=o.get(T),V=Uc(this.query,R)?R:null,k=!!D&&this.mutatedKeys.has(D.key),K=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let H=!1;D&&V?D.data.isEqual(V.data)?k!==K&&(s.track({type:3,doc:V}),H=!0):this.va(D,V)||(s.track({type:2,doc:V}),H=!0,(p&&this.ya(V,p)>0||y&&this.ya(V,y)<0)&&(m=!0)):!D&&V?(s.track({type:0,doc:V}),H=!0):D&&!V&&(s.track({type:1,doc:D}),H=!0,(p||y)&&(m=!0)),H&&(V?(d=d.add(V),c=K?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:m,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((T,R)=>function(V,k){const K=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return K(V)-K(k)}(T.type,R.type)||this.ya(T.doc,R.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Ls(this.query,t.wa,c,d,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new U_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new YE(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new KE(s))}),i}Oa(t){this.fa=t.gs,this.pa=Vt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return Ls.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const fm="SyncEngine";class X1{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class Z1{constructor(t){this.key=t,this.Ba=!1}}class W1{constructor(t,i,s,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ma(m=>fE(m),xc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(gt.comparator),this.Ka=new Map,this.Ua=new em,this.Wa={},this.Ga=new Map,this.za=Us.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function J1(r,t,i=!0){const s=t0(r);let o;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await $E(s,t,i,!0),o}async function t2(r,t){const i=t0(r);await $E(i,t,!0,!1)}async function $E(r,t,i,s){const o=await y1(r.localStore,ai(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await e2(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&HE(r.remoteStore,o),m}async function e2(r,t,i,s,o){r.Ha=(R,D,V)=>async function(K,H,Y,et){let J=H.view.ba(Y);J.ls&&(J=await I_(K.localStore,H.query,!1).then(({documents:M})=>H.view.ba(M,J)));const ut=et&&et.targetChanges.get(H.targetId),ot=et&&et.targetMismatches.get(H.targetId)!=null,bt=H.view.applyChanges(J,K.isPrimaryClient,ut,ot);return z_(K,H.targetId,bt.Ma),bt.snapshot}(r,R,D,V);const c=await I_(r.localStore,t,!0),d=new $1(t,c.gs),m=d.ba(c.documents),p=Eo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(m,r.isPrimaryClient,p);z_(r,i,y.Ma);const T=new X1(t,i,d);return r.ka.set(t,T),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),y.snapshot}async function n2(r,t,i){const s=At(r),o=s.ka.get(t),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!xc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&am(s.remoteStore,o.targetId),Md(s,o.targetId)}).catch(Hs)):(Md(s,o.targetId),await Vd(s.localStore,o.targetId,!0))}async function i2(r,t){const i=At(r),s=i.ka.get(t),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),am(i.remoteStore,s.targetId))}async function r2(r,t,i){const s=h2(r);try{const o=await function(d,m){const p=At(d),y=Re.now(),T=m.reduce((V,k)=>V.add(k.key),Vt());let R,D;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let k=Qi(),K=Vt();return p.ds.getEntries(V,T).next(H=>{k=H,k.forEach((Y,et)=>{et.isValidDocument()||(K=K.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,k)).next(H=>{R=H;const Y=[];for(const et of m){const J=pw(et,R.get(et.key).overlayedDocument);J!=null&&Y.push(new xa(et.key,J,rE(J.value.mapValue),ji.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,Y,m)}).next(H=>{D=H;const Y=H.applyToLocalDocumentSet(R,K);return p.documentOverlayCache.saveOverlays(V,H.batchId,Y)})}).then(()=>({batchId:D.batchId,changes:gE(R)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ne(Nt)),y=y.insert(m,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await Ao(s,o.changes),await Hc(s.remoteStore)}catch(o){const c=cm(o,"Failed to persist write");i.reject(c)}}async function XE(r,t){const i=At(r);try{const s=await m1(i.localStore,t);t.targetChanges.forEach((o,c)=>{const d=i.Ka.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Ft(d.Ba):o.removedDocuments.size>0&&(Ft(d.Ba),d.Ba=!1))}),await Ao(i,s,t)}catch(s){await Hs(s)}}function P_(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const m=d.view.sa(t);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=At(d);p.onlineState=m;let y=!1;p.queries.forEach((T,R)=>{for(const D of R.ta)D.sa(m)&&(y=!0)}),y&&hm(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function a2(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Ka.get(t),c=o&&o.key;if(c){let d=new ne(gt.comparator);d=d.insert(c,Ke.newNoDocument(c,Et.min()));const m=Vt().add(c),p=new Pc(Et.min(),new Map,new ne(Nt),d,m);await XE(s,p),s.$a=s.$a.remove(c),s.Ka.delete(t),dm(s)}else await Vd(s.localStore,t,!1).then(()=>Md(s,t,i)).catch(Hs)}async function s2(r,t){const i=At(r),s=t.batch.batchId;try{const o=await d1(i.localStore,t);WE(i,s,null),ZE(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Ao(i,o)}catch(o){await Hs(o)}}async function l2(r,t,i){const s=At(r);try{const o=await function(d,m){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(R=>(Ft(R!==null),T=R.keys(),p.mutationQueue.removeMutationBatch(y,R))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);WE(s,t,i),ZE(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Ao(s,o)}catch(o){await Hs(o)}}function ZE(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function WE(r,t,i){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Md(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(t),r.isPrimaryClient&&r.Ua.br(t).forEach(s=>{r.Ua.containsKey(s)||JE(r,s)})}function JE(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(am(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ka.delete(i),dm(r))}function z_(r,t,i){for(const s of i)s instanceof KE?(r.Ua.addReference(s.key,t),o2(r,s)):s instanceof YE?(st(fm,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||JE(r,s.key)):vt()}function o2(r,t){const i=t.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(st(fm,"New document in limbo: "+i),r.Qa.add(s),dm(r))}function dm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new gt(Zt.fromString(t)),s=r.za.next();r.Ka.set(s,new Z1(i)),r.$a=r.$a.insert(i,s),HE(r.remoteStore,new Nr(ai(hE(i.path)),s,"TargetPurposeLimboResolution",Vc.ae))}}async function Ao(r,t,i){const s=At(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{d.push(s.Ha(p,t,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const R=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(y){o.push(y);const R=im.Yi(p.targetId,y);c.push(R)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>X.forEach(y,D=>X.forEach(D.Hi,V=>T.persistence.referenceDelegate.addReference(R,D.targetId,V)).next(()=>X.forEach(D.Ji,V=>T.persistence.referenceDelegate.removeReference(R,D.targetId,V)))))}catch(R){if(!js(R))throw R;st(rm,"Failed to update sequence numbers: "+R)}for(const R of y){const D=R.targetId;if(!R.fromCache){const V=T.Ts.get(D),k=V.snapshotVersion,K=V.withLastLimboFreeSnapshotVersion(k);T.Ts=T.Ts.insert(D,K)}}}(s.localStore,c))}async function u2(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){st(fm,"User change. New user:",t.toKey());const s=await kE(i.localStore,t);i.currentUser=t,function(c,d){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new mt(W.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ao(i,s.Rs)}}function c2(r,t){const i=At(r),s=i.Ka.get(t);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const c=i.qa.get(t);if(!c)return o;for(const d of c){const m=i.ka.get(d);o=o.unionWith(m.view.Sa)}return o}}function t0(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=XE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=c2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=a2.bind(null,t),t.La.p_=Q1.bind(null,t.eventManager),t.La.Ja=K1.bind(null,t.eventManager),t}function h2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=l2.bind(null,t),t}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=zc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return f1(this.persistence,new u1,t.initialUser,this.serializer)}Xa(t){return new LE(nm.ri,this.serializer)}Za(t){return new v1}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class f2 extends Ec{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Ft(this.persistence.referenceDelegate instanceof _c);const s=this.persistence.referenceDelegate.garbageCollector;return new Yw(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new LE(s=>_c.ri(s,i),this.serializer)}}class xd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>P_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=u2.bind(null,this.syncEngine),await H1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new q1}()}createDatastore(t){const i=zc(t.databaseInfo.databaseId),s=function(c){return new S1(c)}(t.databaseInfo);return function(c,d,m,p){return new D1(c,d,m,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,c,d,m){return new V1(s,o,c,d,m)}(this.localStore,this.datastore,t.asyncQueue,i=>P_(this.syncEngine,i,0),function(){return N_.D()?new N_:new E1}())}createSyncEngine(t,i){return function(o,c,d,m,p,y,T){const R=new W1(o,c,d,m,p,y);return T&&(R.ja=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=At(o);st(Da,"RemoteStore shutting down."),c.W_.add(5),await To(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}xd.provider={build:()=>new xd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class m2{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=Yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{st(Fr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Fr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=cm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ld(r,t){r.asyncQueue.verifyOperationInProgress(),st(Fr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await kE(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function B_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await g2(r);st(Fr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>x_(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>x_(t.remoteStore,o)),r._onlineComponents=t}async function g2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Fr,"Using user provided OfflineComponentProvider");try{await ld(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Os("Error using user provided cache. Falling back to memory cache: "+i),await ld(r,new Ec)}}else st(Fr,"Using default OfflineComponentProvider"),await ld(r,new f2(void 0));return r._offlineComponents}async function e0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Fr,"Using user provided OnlineComponentProvider"),await B_(r,r._uninitializedComponentsProvider._online)):(st(Fr,"Using default OnlineComponentProvider"),await B_(r,new xd))),r._onlineComponents}function p2(r){return e0(r).then(t=>t.syncEngine)}async function y2(r){const t=await e0(r),i=t.eventManager;return i.onListen=J1.bind(null,t.syncEngine),i.onUnlisten=n2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=t2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=i2.bind(null,t.syncEngine),i}function _2(r,t,i={}){const s=new Lr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const T=new d2({next:D=>{T.su(),d.enqueueAndForget(()=>G1(c,R)),D.fromCache&&p.source==="server"?y.reject(new mt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),R=new Y1(m,T,{includeMetadataChanges:!0,Ta:!0});return F1(c,R)}(await y2(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r,t,i){if(!i)throw new mt(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function v2(r,t,i,s){if(t===!0&&s===!0)throw new mt(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function j_(r){if(!gt.isDocumentKey(r))throw new mt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q_(r){if(gt.isDocumentKey(r))throw new mt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function mm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt()}function Tc(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mm(r);throw new mt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firestore.googleapis.com",F_=!0;class G_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=r0,this.ssl=F_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:F_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Qw)throw new mt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}v2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class jc{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AR;switch(s.type){case"firstParty":return new wR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new mt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=H_.get(i);s&&(st("ComponentProvider","Removing Datastore"),H_.delete(i),s.terminate())}(this),Promise.resolve()}}function E2(r,t,i,s={}){var o;const c=(r=Tc(r,jc))._getSettings(),d=`${t}:${i}`;if(c.host!==r0&&c.host!==d&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Qe.MOCK_USER;else{m=Iv(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new mt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(y)}r._authCredentials=new bR(new Kv(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new qc(this.firestore,t,this._query)}}class Hn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hn(this.firestore,t,this._key)}}class kr extends qc{constructor(t,i,s){super(t,i,hE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hn(this.firestore,null,new gt(t))}withConverter(t){return new kr(this.firestore,t,this._path)}}function a0(r,t,...i){if(r=wa(r),i0("collection","path",t),r instanceof jc){const s=Zt.fromString(t,...i);return q_(s),new kr(r,null,s)}{if(!(r instanceof Hn||r instanceof kr))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...i));return q_(s),new kr(r.firestore,null,s)}}function T2(r,t,...i){if(r=wa(r),arguments.length===1&&(t=Yv.newId()),i0("doc","path",t),r instanceof jc){const s=Zt.fromString(t,...i);return j_(s),new Hn(r,null,new gt(s))}{if(!(r instanceof Hn||r instanceof kr))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(t,...i));return j_(s),new Hn(r.firestore,r instanceof kr?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="AsyncQueue";class K_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zE(this,"async_queue_retry"),this.Su=()=>{const s=sd();s&&st(Q_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=sd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=sd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Lr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!js(t))throw t;st(Q_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw Gi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=um.createAndSchedule(this,t,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&vt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class gm extends jc{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new K_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new K_(t),this._firestoreClient=void 0,await t}}}function A2(r,t){const i=typeof r=="object"?r:Pv(),s=typeof r=="string"?r:hc,o=Ic(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=Cv("firestore");c&&E2(o,...c)}return o}function s0(r){if(r._terminated)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||b2(r),r._firestoreClient}function b2(r){var t,i,s;const o=r._freezeSettings(),c=function(m,p,y,T){return new BR(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,n0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new m2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ks(He.fromBase64String(t))}catch(i){throw new mt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new ks(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^__.*__$/;class R2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new xa(t,this.data,this.fieldMask,i,this.fieldTransforms):new vo(t,this.data,i,this.fieldTransforms)}}function o0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class vm{constructor(t,i,s,o,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new vm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Ku(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Ac(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(o0(this.Lu)&&S2.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class w2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||zc(t)}ju(t,i,s,o=!1){return new vm({Lu:t,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C2(r){const t=r._freezeSettings(),i=zc(r._databaseId);return new w2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function D2(r,t,i,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,t,i,o);f0("Data must be an object, but it was:",d,s);const m=c0(s,d);let p,y;if(c.merge)p=new zn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const R of c.mergeFields){const D=I2(t,R,i);if(!d.contains(D))throw new mt(W.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);O2(T,D)||T.push(D)}p=new zn(T),y=d.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,y=d.fieldTransforms;return new R2(new Vn(m),p,y)}function u0(r,t){if(h0(r=wa(r)))return f0("Unsupported field value:",t,r),c0(r,t);if(r instanceof l0)return function(s,o){if(!o0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const m of s){let p=u0(m,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=wa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cw(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Re.fromDate(s);return{timestampValue:yc(o.serializer,c)}}if(s instanceof Re){const c=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yc(o.serializer,c)}}if(s instanceof ym)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ks)return{bytesValue:DE(o.serializer,s._byteString)};if(s instanceof Hn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof _m)return function(d,m){return{mapValue:{fields:{[nE]:{stringValue:iE},[fc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Zd(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${mm(s)}`)}(r,t)}function c0(r,t){const i={};return Xv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Na(r,(s,o)=>{const c=u0(o,t.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function h0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof ym||r instanceof ks||r instanceof Hn||r instanceof l0||r instanceof _m)}function f0(r,t,i){if(!h0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=mm(i);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function I2(r,t,i){if((t=wa(t))instanceof pm)return t._internalPath;if(typeof t=="string")return d0(r,t);throw Ac("Field path arguments must be of type string or ",r,!1,void 0,i)}const V2=new RegExp("[~\\*/\\[\\]]");function d0(r,t,i){if(t.search(V2)>=0)throw Ac(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new pm(...t.split("."))._internalPath}catch{throw Ac(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ac(r,t,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new mt(W.INVALID_ARGUMENT,m+r+p)}function O2(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new N2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(g0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class N2 extends m0{data(){return super.data()}}function g0(r,t){return typeof t=="string"?d0(r,t):t instanceof pm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x2{convertValue(t,i="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Na(t,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,o;const c=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[fc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new _m(c)}convertGeoPoint(t){return new ym(ce(t.latitude),ce(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Nc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(co(t));default:return null}}convertTimestamp(t){const i=Br(t);return new Re(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Zt.fromString(t);Ft(xE(s));const o=new ho(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||Gi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r,t,i){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class L2 extends m0{constructor(t,i,s,o,c,d){super(t,i,s,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(g0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class sc extends L2{data(t={}){return super.data(t)}}class k2{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Xu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new sc(this._firestore,this._userDataWriter,s.key,s,new Xu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new sc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:P2(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function P2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}class z2 extends x2{constructor(t){super(),this.firestore=t}convertBytes(t){return new ks(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Hn(this.firestore,null,i)}}function B2(r){r=Tc(r,qc);const t=Tc(r.firestore,gm),i=s0(t),s=new z2(t);return M2(r._query),_2(i,r._query).then(o=>new k2(t,s,r,o))}function H2(r,t){const i=Tc(r.firestore,gm),s=T2(r),o=U2(r.converter,t);return j2(i,[D2(C2(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ji.exists(!1))]).then(()=>s)}function j2(r,t){return function(s,o){const c=new Lr;return s.asyncQueue.enqueueAndForget(async()=>r2(await p2(s),o,c)),c.promise}(s0(r),t)}(function(t,i=!0){(function(o){Bs=o})(Lv),Fi(new oi("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new gm(new SR(s.getProvider("auth-internal")),new CR(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(y.options.projectId,T)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),On(t_,e_,t),On(t_,e_,"esm2017")})();var q2="firebase",F2="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On(q2,F2,"app");const p0="@firebase/installations",Em="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=1e4,_0=`w:${Em}`,v0="FIS_v2",G2="https://firebaseinstallations.googleapis.com/v1",Q2=60*60*1e3,K2="installations",Y2="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ia=new Dc(K2,Y2,$2);function E0(r){return r instanceof Yi&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0({projectId:r}){return`${G2}/projects/${r}/installations`}function A0(r){return{token:r.token,requestStatus:2,expiresIn:Z2(r.expiresIn),creationTime:Date.now()}}async function b0(r,t){const s=(await t.json()).error;return Ia.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function S0({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function X2(r,{refreshToken:t}){const i=S0(r);return i.append("Authorization",W2(t)),i}async function R0(r){const t=await r();return t.status>=500&&t.status<600?r():t}function Z2(r){return Number(r.replace("s","000"))}function W2(r){return`${v0} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2({appConfig:r,heartbeatServiceProvider:t},{fid:i}){const s=T0(r),o=S0(r),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:i,authVersion:v0,appId:r.appId,sdkVersion:_0},m={method:"POST",headers:o,body:JSON.stringify(d)},p=await R0(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:A0(y.authToken)}}else throw await b0("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^[cdef][\w-]{21}$/,Ud="";function nC(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=iC(r);return eC.test(i)?i:Ud}catch{return Ud}}function iC(r){return tC(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=new Map;function D0(r,t){const i=Fc(r);I0(i,t),rC(i,t)}function I0(r,t){const i=C0.get(r);if(i)for(const s of i)s(t)}function rC(r,t){const i=aC();i&&i.postMessage({key:r,fid:t}),sC()}let Ra=null;function aC(){return!Ra&&"BroadcastChannel"in self&&(Ra=new BroadcastChannel("[Firebase] FID Change"),Ra.onmessage=r=>{I0(r.data.key,r.data.fid)}),Ra}function sC(){C0.size===0&&Ra&&(Ra.close(),Ra=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebase-installations-database",oC=1,Va="firebase-installations-store";let od=null;function Tm(){return od||(od=xv(lC,oC,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(Va)}}})),od}async function bc(r,t){const i=Fc(r),o=(await Tm()).transaction(Va,"readwrite"),c=o.objectStore(Va),d=await c.get(i);return await c.put(t,i),await o.done,(!d||d.fid!==t.fid)&&D0(r,t.fid),t}async function V0(r){const t=Fc(r),s=(await Tm()).transaction(Va,"readwrite");await s.objectStore(Va).delete(t),await s.done}async function Gc(r,t){const i=Fc(r),o=(await Tm()).transaction(Va,"readwrite"),c=o.objectStore(Va),d=await c.get(i),m=t(d);return m===void 0?await c.delete(i):await c.put(m,i),await o.done,m&&(!d||d.fid!==m.fid)&&D0(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Am(r){let t;const i=await Gc(r.appConfig,s=>{const o=uC(s),c=cC(r,o);return t=c.registrationPromise,c.installationEntry});return i.fid===Ud?{installationEntry:await t}:{installationEntry:i,registrationPromise:t}}function uC(r){const t=r||{fid:nC(),registrationStatus:0};return O0(t)}function cC(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ia.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const i={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=hC(r,i);return{installationEntry:i,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:fC(r)}:{installationEntry:t}}async function hC(r,t){try{const i=await J2(r,t);return bc(r.appConfig,i)}catch(i){throw E0(i)&&i.customData.serverCode===409?await V0(r.appConfig):await bc(r.appConfig,{fid:t.fid,registrationStatus:0}),i}}async function fC(r){let t=await Y_(r.appConfig);for(;t.registrationStatus===1;)await w0(100),t=await Y_(r.appConfig);if(t.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Am(r);return s||i}return t}function Y_(r){return Gc(r,t=>{if(!t)throw Ia.create("installation-not-found");return O0(t)})}function O0(r){return dC(r)?{fid:r.fid,registrationStatus:0}:r}function dC(r){return r.registrationStatus===1&&r.registrationTime+y0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC({appConfig:r,heartbeatServiceProvider:t},i){const s=gC(r,i),o=X2(r,i),c=t.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:_0,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(d)},p=await R0(()=>fetch(s,m));if(p.ok){const y=await p.json();return A0(y)}else throw await b0("Generate Auth Token",p)}function gC(r,{fid:t}){return`${T0(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(r,t=!1){let i;const s=await Gc(r.appConfig,c=>{if(!N0(c))throw Ia.create("not-registered");const d=c.authToken;if(!t&&_C(d))return c;if(d.requestStatus===1)return i=pC(r,t),c;{if(!navigator.onLine)throw Ia.create("app-offline");const m=EC(c);return i=yC(r,m),m}});return i?await i:s.authToken}async function pC(r,t){let i=await $_(r.appConfig);for(;i.authToken.requestStatus===1;)await w0(100),i=await $_(r.appConfig);const s=i.authToken;return s.requestStatus===0?bm(r,t):s}function $_(r){return Gc(r,t=>{if(!N0(t))throw Ia.create("not-registered");const i=t.authToken;return TC(i)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function yC(r,t){try{const i=await mC(r,t),s=Object.assign(Object.assign({},t),{authToken:i});return await bc(r.appConfig,s),i}catch(i){if(E0(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await V0(r.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await bc(r.appConfig,s)}throw i}}function N0(r){return r!==void 0&&r.registrationStatus===2}function _C(r){return r.requestStatus===2&&!vC(r)}function vC(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+Q2}function EC(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function TC(r){return r.requestStatus===1&&r.requestTime+y0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r){const t=r,{installationEntry:i,registrationPromise:s}=await Am(t);return s?s.catch(console.error):bm(t).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,t=!1){const i=r;return await SC(i),(await bm(i,t)).token}async function SC(r){const{registrationPromise:t}=await Am(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(r){if(!r||!r.options)throw ud("App Configuration");if(!r.name)throw ud("App Name");const t=["projectId","apiKey","appId"];for(const i of t)if(!r.options[i])throw ud(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function ud(r){return Ia.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="installations",wC="installations-internal",CC=r=>{const t=r.getProvider("app").getImmediate(),i=RC(t),s=Ic(t,"heartbeat");return{app:t,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},DC=r=>{const t=r.getProvider("app").getImmediate(),i=Ic(t,M0).getImmediate();return{getId:()=>AC(i),getToken:o=>bC(i,o)}};function IC(){Fi(new oi(M0,CC,"PUBLIC")),Fi(new oi(wC,DC,"PRIVATE"))}IC();On(p0,Em);On(p0,Em,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="analytics",VC="firebase_id",OC="origin",NC=60*1e3,MC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new qd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Nn=new Dc("analytics","Analytics",xC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r){if(!r.startsWith(Sm)){const t=Nn.create("invalid-gtag-resource",{gtagURL:r});return an.warn(t.message),""}return r}function x0(r){return Promise.all(r.map(t=>t.catch(i=>i)))}function LC(r,t){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,t)),i}function kC(r,t){const i=LC("firebase-js-sdk-policy",{createScriptURL:UC}),s=document.createElement("script"),o=`${Sm}?l=${r}&id=${t}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function PC(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function zC(r,t,i,s,o,c){const d=s[o];try{if(d)await t[d];else{const p=(await x0(i)).find(y=>y.measurementId===o);p&&await t[p.appId]}}catch(m){an.error(m)}r("config",o,c)}async function BC(r,t,i,s,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const m=await x0(i);for(const p of d){const y=m.find(R=>R.measurementId===p),T=y&&t[y.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(t)),await Promise.all(c),r("event",s,o||{})}catch(c){an.error(c)}}function HC(r,t,i,s){async function o(c,...d){try{if(c==="event"){const[m,p]=d;await BC(r,t,i,m,p)}else if(c==="config"){const[m,p]=d;await zC(r,t,i,s,m,p)}else if(c==="consent"){const[m,p]=d;r("consent",m,p)}else if(c==="get"){const[m,p,y]=d;r("get",m,p,y)}else if(c==="set"){const[m]=d;r("set",m)}else r(c,...d)}catch(m){an.error(m)}}return o}function jC(r,t,i,s,o){let c=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=HC(c,r,t,i),{gtagCore:c,wrappedGtag:window[o]}}function qC(r){const t=window.document.getElementsByTagName("script");for(const i of Object.values(t))if(i.src&&i.src.includes(Sm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=30,GC=1e3;class QC{constructor(t={},i=GC){this.throttleMetadata=t,this.intervalMillis=i}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,i){this.throttleMetadata[t]=i}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const U0=new QC;function KC(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function YC(r){var t;const{appId:i,apiKey:s}=r,o={method:"GET",headers:KC(s)},c=MC.replace("{app-id}",i),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let m="";try{const p=await d.json();!((t=p.error)===null||t===void 0)&&t.message&&(m=p.error.message)}catch{}throw Nn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:m})}return d.json()}async function $C(r,t=U0,i){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw Nn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw Nn.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new WC;return setTimeout(async()=>{m.abort()},NC),L0({appId:s,apiKey:o,measurementId:c},d,m,t)}async function L0(r,{throttleEndTimeMillis:t,backoffCount:i},s,o=U0){var c;const{appId:d,measurementId:m}=r;try{await XC(s,t)}catch(p){if(m)return an.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:m};throw p}try{const p=await YC(r);return o.deleteThrottleMetadata(d),p}catch(p){const y=p;if(!ZC(y)){if(o.deleteThrottleMetadata(d),m)return an.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:m};throw p}const T=Number((c=y==null?void 0:y.customData)===null||c===void 0?void 0:c.httpStatus)===503?Fy(i,o.intervalMillis,FC):Fy(i,o.intervalMillis),R={throttleEndTimeMillis:Date.now()+T,backoffCount:i+1};return o.setThrottleMetadata(d,R),an.debug(`Calling attemptFetch again in ${T} millis`),L0(r,R,s,o)}}function XC(r,t){return new Promise((i,s)=>{const o=Math.max(t-Date.now(),0),c=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(c),s(Nn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ZC(r){if(!(r instanceof Yi)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class WC{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function JC(r,t,i,s,o){if(o&&o.global){r("event",i,s);return}else{const c=await t,d=Object.assign(Object.assign({},s),{send_to:c});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(){if(Vv())try{await Ov()}catch(r){return an.warn(Nn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return an.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function eD(r,t,i,s,o,c,d){var m;const p=$C(r);p.then(V=>{i[V.measurementId]=V.appId,r.options.measurementId&&V.measurementId!==r.options.measurementId&&an.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>an.error(V)),t.push(p);const y=tD().then(V=>{if(V)return s.getId()}),[T,R]=await Promise.all([p,y]);qC(c)||kC(c,T.measurementId),o("js",new Date);const D=(m=d==null?void 0:d.config)!==null&&m!==void 0?m:{};return D[OC]="firebase",D.update=!0,R!=null&&(D[VC]=R),o("config",T.measurementId,D),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t){this.app=t}_delete(){return delete so[this.app.options.appId],Promise.resolve()}}let so={},Z_=[];const W_={};let cd="dataLayer",iD="gtag",J_,k0,tv=!1;function rD(){const r=[];if(aS()&&r.push("This is a browser extension environment."),lS()||r.push("Cookies are not available."),r.length>0){const t=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=Nn.create("invalid-analytics-context",{errorInfo:t});an.warn(i.message)}}function aD(r,t,i){rD();const s=r.options.appId;if(!s)throw Nn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)an.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Nn.create("no-api-key");if(so[s]!=null)throw Nn.create("already-exists",{id:s});if(!tv){PC(cd);const{wrappedGtag:c,gtagCore:d}=jC(so,Z_,W_,cd,iD);k0=c,J_=d,tv=!0}return so[s]=eD(r,Z_,W_,t,J_,cd,i),new nD(r)}function sD(r,t,i,s){r=wa(r),JC(k0,so[r.app.options.appId],t,i,s).catch(o=>an.error(o))}const ev="@firebase/analytics",nv="0.10.11";function lD(){Fi(new oi(X_,(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return aD(s,o,i)},"PUBLIC")),Fi(new oi("analytics-internal",r,"PRIVATE")),On(ev,nv),On(ev,nv,"esm2017");function r(t){try{const i=t.getProvider(X_).getImmediate();return{logEvent:(s,o,c)=>sD(i,s,o,c)}}catch(i){throw Nn.create("interop-component-reg-failed",{reason:i})}}}lD();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firebasestorage.googleapis.com",oD="storageBucket",uD=2*60*1e3,cD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Yi{constructor(t,i,s=0){super(hd(t),`Firebase Storage: ${i} (${hd(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,di.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return hd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hi||(hi={}));function hd(r){return"storage/"+r}function hD(){const r="An unknown error occurred, please check the error payload for server response.";return new di(hi.UNKNOWN,r)}function fD(){return new di(hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dD(){return new di(hi.CANCELED,"User canceled the upload/download.")}function mD(r){return new di(hi.INVALID_URL,"Invalid URL '"+r+"'.")}function gD(r){return new di(hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function iv(r){return new di(hi.INVALID_ARGUMENT,r)}function z0(){return new di(hi.APP_DELETED,"The Firebase app was deleted.")}function pD(r){return new di(hi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let s;try{s=Bn.makeFromUrl(t,i)}catch{return new Bn(t,"")}if(s.path==="")return s;throw gD(t)}static makeFromUrl(t,i){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ut){ut.path.charAt(ut.path.length-1)==="/"&&(ut.path_=ut.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),p={bucket:1,path:3};function y(ut){ut.path_=decodeURIComponent(ut.path)}const T="v[A-Za-z0-9_]+",R=i.replace(/[.]/g,"\\."),D="(/([^?#]*).*)?$",V=new RegExp(`^https?://${R}/${T}/b/${o}/o${D}`,"i"),k={bucket:1,path:3},K=i===P0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,H="([^?#]*)",Y=new RegExp(`^https?://${K}/${o}/${H}`,"i"),J=[{regex:m,indices:p,postModify:c},{regex:V,indices:k,postModify:y},{regex:Y,indices:{bucket:1,path:2},postModify:y}];for(let ut=0;ut<J.length;ut++){const ot=J[ut],bt=ot.regex.exec(t);if(bt){const M=bt[ot.indices.bucket];let S=bt[ot.indices.path];S||(S=""),s=new Bn(M,S),ot.postModify(s);break}}if(s==null)throw mD(t);return s}}class yD{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(r,t,i){let s=1,o=null,c=null,d=!1,m=0;function p(){return m===2}let y=!1;function T(...H){y||(y=!0,t.apply(null,H))}function R(H){o=setTimeout(()=>{o=null,r(V,p())},H)}function D(){c&&clearTimeout(c)}function V(H,...Y){if(y){D();return}if(H){D(),T.call(null,H,...Y);return}if(p()||d){D(),T.call(null,H,...Y);return}s<64&&(s*=2);let J;m===1?(m=2,J=0):J=(s+Math.random())*1e3,R(J)}let k=!1;function K(H){k||(k=!0,D(),!y&&(o!==null?(H||(m=2),clearTimeout(o),R(0)):H||(m=1)))}return R(0),c=setTimeout(()=>{d=!0,K(!0)},i),K}function vD(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(r){return r!==void 0}function rv(r,t,i,s){if(s<t)throw iv(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>i)throw iv(`Invalid value for '${r}'. Expected ${i} or less.`)}function TD(r){const t=encodeURIComponent;let i="?";for(const s in r)if(r.hasOwnProperty(s)){const o=t(s)+"="+t(r[s]);i=i+o+"&"}return i=i.slice(0,-1),i}var Sc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Sc||(Sc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(r,t){const i=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=t.indexOf(r)!==-1;return i||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t,i,s,o,c,d,m,p,y,T,R,D=!0){this.url_=t,this.method_=i,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=R,this.retry=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,k)=>{this.resolve_=V,this.reject_=k,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new Zu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const m=c.getErrorCode()===Sc.NO_ERROR,p=c.getStatus();if(!m||AD(p,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===Sc.ABORT;s(!1,new Zu(!1,null,T));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new Zu(y,c))})},i=(s,o)=>{const c=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());ED(p)?c(p):c()}catch(p){d(p)}else if(m!==null){const p=hD();p.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,p)):d(p)}else if(o.canceled){const p=this.appDelete_?z0():dD();d(p)}else{const p=fD();d(p)}};this.canceled_?i(!1,new Zu(!1,null,!0)):this.backoffId_=_D(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&vD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zu{constructor(t,i,s){this.wasSuccessCode=t,this.connection=i,this.canceled=!!s}}function SD(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function RD(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wD(r,t){t&&(r["X-Firebase-GMPID"]=t)}function CD(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function DD(r,t,i,s,o,c,d=!0){const m=TD(r.urlParams),p=r.url+m,y=Object.assign({},r.headers);return wD(y,t),SD(y,i),RD(y,c),CD(y,s),new bD(p,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function VD(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,i){this._service=t,i instanceof Bn?this._location=i:this._location=Bn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Rc(t,i)}get root(){const t=new Bn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VD(this._location.path)}get storage(){return this._service}get parent(){const t=ID(this._location.path);if(t===null)return null;const i=new Bn(this._location.bucket,t);return new Rc(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw pD(t)}}function av(r,t){const i=t==null?void 0:t[oD];return i==null?null:Bn.makeFromBucketSpec(i,r)}function OD(r,t,i,s={}){r.host=`${t}:${i}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:Iv(o,r.app.options.projectId))}class ND{constructor(t,i,s,o,c){this.app=t,this._authProvider=i,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=P0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uD,this._maxUploadRetryTime=cD,this._requests=new Set,o!=null?this._bucket=Bn.makeFromBucketSpec(o,this._host):this._bucket=av(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,t):this._bucket=av(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){rv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){rv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Uv(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Rc(this,t)}_makeRequest(t,i,s,o,c=!0){if(this._deleted)return new yD(z0());{const d=DD(t,this._appId,s,o,i,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,i){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,s,o).getPromise()}}const sv="@firebase/storage",lv="0.13.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="storage";function MD(r=Pv(),t){r=wa(r);const s=Ic(r,B0).getImmediate({identifier:t}),o=Cv("storage");return o&&xD(s,...o),s}function xD(r,t,i,s={}){OD(r,t,i,s)}function UD(r,{instanceIdentifier:t}){const i=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new ND(i,s,o,t,Lv)}function LD(){Fi(new oi(B0,UD,"PUBLIC").setMultipleInstances(!0)),On(sv,lv,""),On(sv,lv,"esm2017")}LD();const kD={apiKey:"AIzaSyA-MkzGejmrQ-Ak66aiqNIyvBp-Xm8DKec",authDomain:"kisya-74ac7.firebaseapp.com",projectId:"kisya-74ac7",storageBucket:"kisya-74ac7.appspot.com",messagingSenderId:"632807406142",appId:"1:632807406142:web:bac02be726397de8736f6f",measurementId:"G-7LQEG4XPRJ"},H0=kv(kD),j0=A2(H0);MD(H0);const PD=()=>{const[r,t]=Q.useState([]),[i,s]=Q.useState([]),[o,c]=Q.useState(!1),[d,m]=Q.useState(!1),p=Q.useRef(null);Q.useEffect(()=>{y()},[]);const y=async()=>{try{const V=await navigator.mediaDevices.getUserMedia({video:!0});p.current.srcObject=V}catch(V){console.error("Error accessing camera:",V)}},T=async V=>{try{const k=a0(j0,"photos"),K=await H2(k,{photoDataUrl:V});return console.log("Photo saved to Firestore with ID: ",K.id),K.id}catch(k){console.error("Error saving photo to Firestore:",k)}},R=async()=>{m(!0);const V=document.createElement("canvas");V.getContext("2d").drawImage(p.current,0,0,V.width,V.height);const K=V.toDataURL(),H=await T(K);r.length<3&&(t([...r,K]),s([...i,H])),m(!1),r.length+1===3&&c(!0)},D=()=>{c(!1),t([]),s([])};return yt.jsxs("div",{className:"photobooth bg-pink-50 p-6 rounded-xl shadow-lg wid mx-auto mt-12",children:[yt.jsx("div",{className:"video-container mb-6",children:yt.jsx("video",{ref:p,autoPlay:!0,className:"w-full h-auto rounded-lg border-4 border-pink-300 shadow-md"})}),yt.jsxs("div",{className:"controls flex justify-center gap-4 mb-6",children:[yt.jsx("button",{onClick:R,disabled:d||r.length>=3,className:"bg-pink-400 text-white py-2 px-4 rounded-full shadow-md hover:bg-pink-500 transition-all",children:d?"Capturing...":"Capture Photo"}),yt.jsxs("p",{className:"text-lg font-semibold text-pink-600 mt-4",children:[r.length," / 3 Photos Taken"]})]}),o&&yt.jsx("div",{className:"modal fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:yt.jsxs("div",{className:"modal-content bg-gradient-to-t from-pink-200 to-purple-300 p-8 rounded-xl shadow-xl text-center relative w-[600px] max-w-full",children:[yt.jsx("div",{className:"absolute top-[-20px] left-1/2 transform -translate-x-1/2 bg-white p-2 rounded-full",children:yt.jsx("span",{role:"img","aria-label":"heart",className:"text-4xl",children:"💖"})}),yt.jsxs("div",{className:"instax-frame bg-white p-4 rounded-[20px] shadow-lg flex flex-col items-center mb-6 space-y-6",children:[yt.jsx("div",{className:"grid grid-cols-2 gap-4 justify-center",children:r.slice(0,2).map((V,k)=>yt.jsx("div",{className:"w-32 h-48 rounded-[10px] object-cover overflow-hidden shadow-md",children:yt.jsx("img",{src:V,alt:`photo_${k+1}`,className:"w-full h-full rounded-[10px] object-cover"})},k))}),yt.jsx("div",{className:"w-32 h-48 mt-4 rounded-[10px] object-cover overflow-hidden shadow-md mx-auto",children:r.length>2&&yt.jsx("img",{src:r[2],alt:"photo_3",className:"w-full h-full rounded-[10px] object-cover"})})]}),yt.jsx("p",{className:"text-xl font-semibold text-pink-600 mb-4",children:"Thank you for visiting!"}),yt.jsx("div",{className:"flex gap-4 justify-center",children:yt.jsx("button",{onClick:D,className:"bg-pink-500 text-white py-2 px-6 rounded-full shadow-md hover:bg-pink-600 transition-all font-bold",children:"Take Another Photo"})}),yt.jsx("p",{className:"text-xs text-gray-600 mt-6",children:"Designed with 💕 by Bejay's Photobooth"})]})})]})};function zD(){const[r,t]=Q.useState([]),[i,s]=Q.useState(!0);return Q.useEffect(()=>{(async()=>{try{const c=await B2(a0(j0,"photos")),d=[];c.forEach(m=>{d.push(m.data().photoDataUrl)}),t(d)}catch(c){console.error("Error fetching photos: ",c)}finally{s(!1)}})()},[]),i?yt.jsx("div",{children:"Loading photos..."}):yt.jsxs("div",{className:"admin-page p-6 bg-gray-100",children:[yt.jsx("h1",{className:"text-2xl font-semibold text-center mb-4",children:"Admin Panel"}),yt.jsx("div",{className:"photo-gallery grid grid-cols-3 gap-4",children:r.length>0?r.map((o,c)=>yt.jsx("div",{className:"photo-card border rounded-md p-2 shadow-md",children:yt.jsx("img",{src:o,alt:`photo_${c+1}`,className:"w-full h-40 object-cover rounded-md"})},c)):yt.jsx("p",{children:"No photos available"})})]})}function BD(){const[r,t]=Q.useState(!1);return Q.useEffect(()=>{setTimeout(()=>{t(!0)},2e3)},[]),yt.jsxs(Lb,{children:[yt.jsxs("div",{className:"h-screen flex flex-col justify-center items-center bg-pink-100",children:[yt.jsx("div",{className:"text-center mb-8",children:yt.jsx("h1",{className:"text-4xl font-bold text-red-500",children:r?"Happy Valentine's Day!":""})}),yt.jsx(Wf,{children:yt.jsx(Wu,{path:"/",element:yt.jsx(Qb,{messageShown:r})})}),yt.jsx(Wf,{children:yt.jsx(Wu,{path:"/photobooth",element:yt.jsx(PD,{})})})]}),yt.jsx(Wf,{children:yt.jsx(Wu,{path:"adminadminadmin",element:yt.jsx(zD,{})})})]})}AA.createRoot(document.getElementById("root")).render(yt.jsx(Q.StrictMode,{children:yt.jsx(BD,{})}));
